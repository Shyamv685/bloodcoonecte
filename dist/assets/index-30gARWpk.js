function Ry(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dp={exports:{}},la={},hp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),My=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),$y=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Hy=Symbol.for("react.memo"),qy=Symbol.for("react.lazy"),_h=Symbol.iterator;function Zy(e){return e===null||typeof e!="object"?null:(e=_h&&e[_h]||e["@@iterator"],typeof e=="function"?e:null)}var fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pp=Object.assign,mp={};function di(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gp(){}gp.prototype=di.prototype;function ic(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}var sc=ic.prototype=new gp;sc.constructor=ic;pp(sc,di.prototype);sc.isPureReactComponent=!0;var wh=Array.isArray,vp=Object.prototype.hasOwnProperty,oc={current:null},yp={key:!0,ref:!0,__self:!0,__source:!0};function _p(e,t,n){var i,s={},a=null,l=null;if(t!=null)for(i in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)vp.call(t,i)&&!yp.hasOwnProperty(i)&&(s[i]=t[i]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var h=Array(d),m=0;m<d;m++)h[m]=arguments[m+2];s.children=h}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)s[i]===void 0&&(s[i]=d[i]);return{$$typeof:js,type:e,key:a,ref:l,props:s,_owner:oc.current}}function Vy(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function Ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xh=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ky(""+e.key):t.toString(36)}function xo(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case js:case My:l=!0}}if(l)return l=e,s=s(l),e=i===""?"."+dl(l,0):i,wh(s)?(n="",e!=null&&(n=e.replace(xh,"$&/")+"/"),xo(s,t,n,"",function(m){return m})):s!=null&&(ac(s)&&(s=Vy(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(xh,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=i===""?".":i+":",wh(e))for(var d=0;d<e.length;d++){a=e[d];var h=i+dl(a,d);l+=xo(a,t,n,h,s)}else if(h=Zy(e),typeof h=="function")for(e=h.call(e),d=0;!(a=e.next()).done;)a=a.value,h=i+dl(a,d++),l+=xo(a,t,n,h,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ys(e,t,n){if(e==null)return e;var i=[],s=0;return xo(e,i,"","",function(a){return t.call(n,a,s++)}),i}function Gy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},bo={transition:null},Jy={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:bo,ReactCurrentOwner:oc};function wp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ys,forEach:function(e,t,n){Ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ys(e,function(){t++}),t},toArray:function(e){return Ys(e,function(t){return t})||[]},only:function(e){if(!ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=di;te.Fragment=Dy;te.Profiler=By;te.PureComponent=ic;te.StrictMode=zy;te.Suspense=Wy;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;te.act=wp;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=pp({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=oc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)vp.call(t,h)&&!yp.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){d=Array(h);for(var m=0;m<h;m++)d[m]=arguments[m+2];i.children=d}return{$$typeof:js,type:e.type,key:s,ref:a,props:i,_owner:l}};te.createContext=function(e){return e={$$typeof:$y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Uy,_context:e},e.Consumer=e};te.createElement=_p;te.createFactory=function(e){var t=_p.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Fy,render:e}};te.isValidElement=ac;te.lazy=function(e){return{$$typeof:qy,_payload:{_status:-1,_result:e},_init:Gy}};te.memo=function(e,t){return{$$typeof:Hy,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=bo.transition;bo.transition={};try{e()}finally{bo.transition=t}};te.unstable_act=wp;te.useCallback=function(e,t){return tt.current.useCallback(e,t)};te.useContext=function(e){return tt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};te.useEffect=function(e,t){return tt.current.useEffect(e,t)};te.useId=function(){return tt.current.useId()};te.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return tt.current.useMemo(e,t)};te.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};te.useRef=function(e){return tt.current.useRef(e)};te.useState=function(e){return tt.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return tt.current.useTransition()};te.version="18.3.1";hp.exports=te;var C=hp.exports;const ri=Iy(C),Qy=Ry({__proto__:null,default:ri},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=C,Xy=Symbol.for("react.element"),e_=Symbol.for("react.fragment"),t_=Object.prototype.hasOwnProperty,n_=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r_={key:!0,ref:!0,__self:!0,__source:!0};function xp(e,t,n){var i,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(i in t)t_.call(t,i)&&!r_.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Xy,type:e,key:a,ref:l,props:s,_owner:n_.current}}la.Fragment=e_;la.jsx=xp;la.jsxs=xp;dp.exports=la;var c=dp.exports,Kl={},bp={exports:{}},yt={},Sp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,G){var B=R.length;R.push(G);e:for(;0<B;){var K=B-1>>>1,ie=R[K];if(0<s(ie,G))R[K]=G,R[B]=ie,B=K;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var G=R[0],B=R.pop();if(B!==G){R[0]=B;e:for(var K=0,ie=R.length,Le=ie>>>1;K<Le;){var ue=2*(K+1)-1,oe=R[ue],J=ue+1,rt=R[J];if(0>s(oe,B))J<ie&&0>s(rt,oe)?(R[K]=rt,R[J]=B,K=J):(R[K]=oe,R[ue]=B,K=ue);else if(J<ie&&0>s(rt,B))R[K]=rt,R[J]=B,K=J;else break e}}return G}function s(R,G){var B=R.sortIndex-G.sortIndex;return B!==0?B:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var h=[],m=[],g=1,_=null,w=3,S=!1,j=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var G=n(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=R)i(m),G.sortIndex=G.expirationTime,t(h,G);else break;G=n(m)}}function N(R){if(E=!1,x(R),!j)if(n(h)!==null)j=!0,Be(I);else{var G=n(m);G!==null&&Yt(N,G.startTime-R)}}function I(R,G){j=!1,E&&(E=!1,b(F),F=-1),S=!0;var B=w;try{for(x(G),_=n(h);_!==null&&(!(_.expirationTime>G)||R&&!ce());){var K=_.callback;if(typeof K=="function"){_.callback=null,w=_.priorityLevel;var ie=K(_.expirationTime<=G);G=e.unstable_now(),typeof ie=="function"?_.callback=ie:_===n(h)&&i(h),x(G)}else i(h);_=n(h)}if(_!==null)var Le=!0;else{var ue=n(m);ue!==null&&Yt(N,ue.startTime-G),Le=!1}return Le}finally{_=null,w=B,S=!1}}var M=!1,z=null,F=-1,ne=5,X=-1;function ce(){return!(e.unstable_now()-X<ne)}function Ie(){if(z!==null){var R=e.unstable_now();X=R;var G=!0;try{G=z(!0,R)}finally{G?Hn():(M=!1,z=null)}}else M=!1}var Hn;if(typeof y=="function")Hn=function(){y(Ie)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Ca=wt.port2;wt.port1.onmessage=Ie,Hn=function(){Ca.postMessage(null)}}else Hn=function(){O(Ie,0)};function Be(R){z=R,M||(M=!0,Hn())}function Yt(R,G){F=O(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){j||S||(j=!0,Be(I))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(R){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var B=w;w=G;try{return R()}finally{w=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=w;w=R;try{return G()}finally{w=B}},e.unstable_scheduleCallback=function(R,G,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=B+ie,R={id:g++,callback:G,priorityLevel:R,startTime:B,expirationTime:ie,sortIndex:-1},B>K?(R.sortIndex=B,t(m,R),n(h)===null&&R===n(m)&&(E?(b(F),F=-1):E=!0,Yt(N,B-K))):(R.sortIndex=ie,t(h,R),j||S||(j=!0,Be(I))),R},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(R){var G=w;return function(){var B=w;w=G;try{return R.apply(this,arguments)}finally{w=B}}}})(kp);Sp.exports=kp;var i_=Sp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=C,vt=i_;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ep=new Set,ts={};function pr(e,t){ii(e,t),ii(e+"Capture",t)}function ii(e,t){for(ts[e]=t,e=0;e<t.length;e++)Ep.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=Object.prototype.hasOwnProperty,o_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bh={},Sh={};function a_(e){return Gl.call(Sh,e)?!0:Gl.call(bh,e)?!1:o_.test(e)?Sh[e]=!0:(bh[e]=!0,!1)}function l_(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u_(e,t,n,i){if(t===null||typeof t>"u"||l_(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,i,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lc=/[\-:]([a-z])/g;function uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lc,uc);qe[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lc,uc);qe[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lc,uc);qe[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function cc(e,t,n,i){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u_(t,n,s,i)&&(n=null),i||s===null?a_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var pn=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Tp=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,hl;function zi(e){if(hl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var fl=!1;function pl(e,t){if(!e||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),a=i.stack.split(`
`),l=s.length-1,d=a.length-1;1<=l&&0<=d&&s[l]!==a[d];)d--;for(;1<=l&&0<=d;l--,d--)if(s[l]!==a[d]){if(l!==1||d!==1)do if(l--,d--,0>d||s[l]!==a[d]){var h=`
`+s[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=d);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zi(e):""}function c_(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function Xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case Dr:return"Portal";case Jl:return"Profiler";case dc:return"StrictMode";case Ql:return"Suspense";case Yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tp:return(e.displayName||"Context")+".Consumer";case jp:return(e._context.displayName||"Context")+".Provider";case hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:Xl(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Xl(e(t))}catch{}}return null}function d_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h_(e){var t=Pp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){e._valueTracker||(e._valueTracker=h_(e))}function Cp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Pp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eu(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eh(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lp(e,t){t=t.checked,t!=null&&cc(e,"checked",t,!1)}function tu(e,t){Lp(e,t);var n=zn(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nu(e,t.type,n):t.hasOwnProperty("defaultValue")&&nu(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nu(e,t,n){(t!=="number"||Ao(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bi=Array.isArray;function Jr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Th(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Bi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function Op(e,t){var n=zn(t.value),i=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Nh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var to,Ap=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=to.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){f_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function Ip(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function Mp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Ip(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var p_=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(e,t){if(t){if(p_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lu=null,Qr=null,Yr=null;function Ph(e){if(e=Ps(e)){if(typeof lu!="function")throw Error(D(280));var t=e.stateNode;t&&(t=fa(t),lu(e.stateNode,e.type,t))}}function Dp(e){Qr?Yr?Yr.push(e):Yr=[e]:Qr=e}function zp(){if(Qr){var e=Qr,t=Yr;if(Yr=Qr=null,Ph(e),t)for(e=0;e<t.length;e++)Ph(t[e])}}function Bp(e,t){return e(t)}function Up(){}var ml=!1;function $p(e,t,n){if(ml)return e(t,n);ml=!0;try{return Bp(e,t,n)}finally{ml=!1,(Qr!==null||Yr!==null)&&(Up(),zp())}}function rs(e,t){var n=e.stateNode;if(n===null)return null;var i=fa(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var uu=!1;if(cn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{uu=!1}function m_(e,t,n,i,s,a,l,d,h){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(g){this.onError(g)}}var Hi=!1,Io=null,Mo=!1,cu=null,g_={onError:function(e){Hi=!0,Io=e}};function v_(e,t,n,i,s,a,l,d,h){Hi=!1,Io=null,m_.apply(g_,arguments)}function y_(e,t,n,i,s,a,l,d,h){if(v_.apply(this,arguments),Hi){if(Hi){var m=Io;Hi=!1,Io=null}else throw Error(D(198));Mo||(Mo=!0,cu=m)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ch(e){if(mr(e)!==e)throw Error(D(188))}function __(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ch(s),e;if(a===i)return Ch(s),t;a=a.sibling}throw Error(D(188))}if(n.return!==i.return)n=s,i=a;else{for(var l=!1,d=s.child;d;){if(d===n){l=!0,n=s,i=a;break}if(d===i){l=!0,i=s,n=a;break}d=d.sibling}if(!l){for(d=a.child;d;){if(d===n){l=!0,n=a,i=s;break}if(d===i){l=!0,i=a,n=s;break}d=d.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Wp(e){return e=__(e),e!==null?Hp(e):null}function Hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hp(e);if(t!==null)return t;e=e.sibling}return null}var qp=vt.unstable_scheduleCallback,Lh=vt.unstable_cancelCallback,w_=vt.unstable_shouldYield,x_=vt.unstable_requestPaint,Ee=vt.unstable_now,b_=vt.unstable_getCurrentPriorityLevel,mc=vt.unstable_ImmediatePriority,Zp=vt.unstable_UserBlockingPriority,Do=vt.unstable_NormalPriority,S_=vt.unstable_LowPriority,Vp=vt.unstable_IdlePriority,ua=null,Jt=null;function k_(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ua,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:T_,E_=Math.log,j_=Math.LN2;function T_(e){return e>>>=0,e===0?32:31-(E_(e)/j_|0)|0}var no=64,ro=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zo(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~s;d!==0?i=Ui(d):(a&=l,a!==0&&(i=Ui(a)))}else l=n&~s,l!==0?i=Ui(l):a!==0&&(i=Ui(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ut(t),s=1<<n,i|=e[n],t&=~s;return i}function N_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ut(a),d=1<<l,h=s[l];h===-1?(!(d&n)||d&i)&&(s[l]=N_(d,t)):h<=t&&(e.expiredLanes|=d),a&=~d}}function du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kp(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function C_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ut(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var le=0;function Gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jp,vc,Qp,Yp,Xp,hu=!1,io=[],Pn=null,Cn=null,Ln=null,is=new Map,ss=new Map,Sn=[],L_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Oi(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ps(t),t!==null&&vc(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function O_(e,t,n,i,s){switch(t){case"focusin":return Pn=Oi(Pn,e,t,n,i,s),!0;case"dragenter":return Cn=Oi(Cn,e,t,n,i,s),!0;case"mouseover":return Ln=Oi(Ln,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return is.set(a,Oi(is.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,ss.set(a,Oi(ss.get(a)||null,e,t,n,i,s)),!0}return!1}function em(e){var t=rr(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Fp(n),t!==null){e.blockedOn=t,Xp(e.priority,function(){Qp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);au=i,n.target.dispatchEvent(i),au=null}else return t=Ps(n),t!==null&&vc(t),e.blockedOn=n,!1;t.shift()}return!0}function Rh(e,t,n){So(e)&&n.delete(t)}function R_(){hu=!1,Pn!==null&&So(Pn)&&(Pn=null),Cn!==null&&So(Cn)&&(Cn=null),Ln!==null&&So(Ln)&&(Ln=null),is.forEach(Rh),ss.forEach(Rh)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,R_)))}function os(e){function t(s){return Ri(s,e)}if(0<io.length){Ri(io[0],e);for(var n=1;n<io.length;n++){var i=io[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Pn!==null&&Ri(Pn,e),Cn!==null&&Ri(Cn,e),Ln!==null&&Ri(Ln,e),is.forEach(t),ss.forEach(t),n=0;n<Sn.length;n++)i=Sn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)em(n),n.blockedOn===null&&Sn.shift()}var Xr=pn.ReactCurrentBatchConfig,Bo=!0;function A_(e,t,n,i){var s=le,a=Xr.transition;Xr.transition=null;try{le=1,yc(e,t,n,i)}finally{le=s,Xr.transition=a}}function I_(e,t,n,i){var s=le,a=Xr.transition;Xr.transition=null;try{le=4,yc(e,t,n,i)}finally{le=s,Xr.transition=a}}function yc(e,t,n,i){if(Bo){var s=fu(e,t,n,i);if(s===null)jl(e,t,i,Uo,n),Oh(e,i);else if(O_(s,e,t,n,i))i.stopPropagation();else if(Oh(e,i),t&4&&-1<L_.indexOf(e)){for(;s!==null;){var a=Ps(s);if(a!==null&&Jp(a),a=fu(e,t,n,i),a===null&&jl(e,t,i,Uo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else jl(e,t,i,null,n)}}var Uo=null;function fu(e,t,n,i){if(Uo=null,e=pc(i),e=rr(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uo=e,null}function tm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b_()){case mc:return 1;case Zp:return 4;case Do:case S_:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var jn=null,_c=null,ko=null;function nm(){if(ko)return ko;var e,t=_c,n=t.length,i,s="value"in jn?jn.value:jn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===s[a-i];i++);return ko=s.slice(e,1<i?1-i:void 0)}function Eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Ah(){return!1}function _t(e){function t(n,i,s,a,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?so:Ah,this.isPropagationStopped=Ah,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=_t(hi),Ns=xe({},hi,{view:0,detail:0}),M_=_t(Ns),vl,yl,Ai,ca=xe({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(vl=e.screenX-Ai.screenX,yl=e.screenY-Ai.screenY):yl=vl=0,Ai=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Ih=_t(ca),D_=xe({},ca,{dataTransfer:0}),z_=_t(D_),B_=xe({},Ns,{relatedTarget:0}),_l=_t(B_),U_=xe({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=_t(U_),F_=xe({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W_=_t(F_),H_=xe({},hi,{data:0}),Mh=_t(H_),q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V_[e])?!!t[e]:!1}function xc(){return K_}var G_=xe({},Ns,{key:function(e){if(e.key){var t=q_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J_=_t(G_),Q_=xe({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=_t(Q_),Y_=xe({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),X_=_t(Y_),e0=xe({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=_t(e0),n0=xe({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r0=_t(n0),i0=[9,13,27,32],bc=cn&&"CompositionEvent"in window,qi=null;cn&&"documentMode"in document&&(qi=document.documentMode);var s0=cn&&"TextEvent"in window&&!qi,rm=cn&&(!bc||qi&&8<qi&&11>=qi),zh=" ",Bh=!1;function im(e,t){switch(e){case"keyup":return i0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function o0(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(Bh=!0,zh);case"textInput":return e=t.data,e===zh&&Bh?null:e;default:return null}}function a0(e,t){if(Br)return e==="compositionend"||!bc&&im(e,t)?(e=nm(),ko=_c=jn=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rm&&t.locale!=="ko"?null:t.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l0[e.type]:t==="textarea"}function om(e,t,n,i){Dp(i),t=$o(t,"onChange"),0<t.length&&(n=new wc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zi=null,as=null;function u0(e){vm(e,0)}function da(e){var t=Fr(e);if(Cp(t))return e}function c0(e,t){if(e==="change")return t}var am=!1;if(cn){var wl;if(cn){var xl="oninput"in document;if(!xl){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),xl=typeof $h.oninput=="function"}wl=xl}else wl=!1;am=wl&&(!document.documentMode||9<document.documentMode)}function Fh(){Zi&&(Zi.detachEvent("onpropertychange",lm),as=Zi=null)}function lm(e){if(e.propertyName==="value"&&da(as)){var t=[];om(t,as,e,pc(e)),$p(u0,t)}}function d0(e,t,n){e==="focusin"?(Fh(),Zi=t,as=n,Zi.attachEvent("onpropertychange",lm)):e==="focusout"&&Fh()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(as)}function f0(e,t){if(e==="click")return da(t)}function p0(e,t){if(e==="input"||e==="change")return da(t)}function m0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:m0;function ls(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Gl.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function Wh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hh(e,t){var n=Wh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wh(n)}}function um(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?um(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cm(){for(var e=window,t=Ao();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ao(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g0(e){var t=cm(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&um(n.ownerDocument.documentElement,n)){if(i!==null&&Sc(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=Hh(n,a);var l=Hh(n,i);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v0=cn&&"documentMode"in document&&11>=document.documentMode,Ur=null,pu=null,Vi=null,mu=!1;function qh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||Ur==null||Ur!==Ao(i)||(i=Ur,"selectionStart"in i&&Sc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vi&&ls(Vi,i)||(Vi=i,i=$o(pu,"onSelect"),0<i.length&&(t=new wc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ur)))}function oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $r={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},bl={},dm={};cn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function ha(e){if(bl[e])return bl[e];if(!$r[e])return e;var t=$r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dm)return bl[e]=t[n];return e}var hm=ha("animationend"),fm=ha("animationiteration"),pm=ha("animationstart"),mm=ha("transitionend"),gm=new Map,Zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){gm.set(e,t),pr(t,[e])}for(var Sl=0;Sl<Zh.length;Sl++){var kl=Zh[Sl],y0=kl.toLowerCase(),_0=kl[0].toUpperCase()+kl.slice(1);Un(y0,"on"+_0)}Un(hm,"onAnimationEnd");Un(fm,"onAnimationIteration");Un(pm,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(mm,"onTransitionEnd");ii("onMouseEnter",["mouseout","mouseover"]);ii("onMouseLeave",["mouseout","mouseover"]);ii("onPointerEnter",["pointerout","pointerover"]);ii("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Vh(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,y_(i,t,void 0,e),e.currentTarget=null}function vm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var l=i.length-1;0<=l;l--){var d=i[l],h=d.instance,m=d.currentTarget;if(d=d.listener,h!==a&&s.isPropagationStopped())break e;Vh(s,d,m),a=h}else for(l=0;l<i.length;l++){if(d=i[l],h=d.instance,m=d.currentTarget,d=d.listener,h!==a&&s.isPropagationStopped())break e;Vh(s,d,m),a=h}}}if(Mo)throw e=cu,Mo=!1,cu=null,e}function pe(e,t){var n=t[wu];n===void 0&&(n=t[wu]=new Set);var i=e+"__bubble";n.has(i)||(ym(t,e,2,!1),n.add(i))}function El(e,t,n){var i=0;t&&(i|=4),ym(n,e,i,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[ao]){e[ao]=!0,Ep.forEach(function(n){n!=="selectionchange"&&(w0.has(n)||El(n,!1,e),El(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,El("selectionchange",!1,t))}}function ym(e,t,n,i){switch(tm(t)){case 1:var s=A_;break;case 4:s=I_;break;default:s=yc}n=s.bind(null,t,n,e),s=void 0,!uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jl(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var d=i.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;l=l.return}for(;d!==null;){if(l=rr(d),l===null)return;if(h=l.tag,h===5||h===6){i=a=l;continue e}d=d.parentNode}}i=i.return}$p(function(){var m=a,g=pc(n),_=[];e:{var w=gm.get(e);if(w!==void 0){var S=wc,j=e;switch(e){case"keypress":if(Eo(n)===0)break e;case"keydown":case"keyup":S=J_;break;case"focusin":j="focus",S=_l;break;case"focusout":j="blur",S=_l;break;case"beforeblur":case"afterblur":S=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=X_;break;case hm:case fm:case pm:S=$_;break;case mm:S=t0;break;case"scroll":S=M_;break;case"wheel":S=r0;break;case"copy":case"cut":case"paste":S=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Dh}var E=(t&4)!==0,O=!E&&e==="scroll",b=E?w!==null?w+"Capture":null:w;E=[];for(var y=m,x;y!==null;){x=y;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,b!==null&&(N=rs(y,b),N!=null&&E.push(cs(y,N,x)))),O)break;y=y.return}0<E.length&&(w=new S(w,j,null,n,g),_.push({event:w,listeners:E}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",w&&n!==au&&(j=n.relatedTarget||n.fromElement)&&(rr(j)||j[dn]))break e;if((S||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,S?(j=n.relatedTarget||n.toElement,S=m,j=j?rr(j):null,j!==null&&(O=mr(j),j!==O||j.tag!==5&&j.tag!==6)&&(j=null)):(S=null,j=m),S!==j)){if(E=Ih,N="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=Dh,N="onPointerLeave",b="onPointerEnter",y="pointer"),O=S==null?w:Fr(S),x=j==null?w:Fr(j),w=new E(N,y+"leave",S,n,g),w.target=O,w.relatedTarget=x,N=null,rr(g)===m&&(E=new E(b,y+"enter",j,n,g),E.target=x,E.relatedTarget=O,N=E),O=N,S&&j)t:{for(E=S,b=j,y=0,x=E;x;x=Tr(x))y++;for(x=0,N=b;N;N=Tr(N))x++;for(;0<y-x;)E=Tr(E),y--;for(;0<x-y;)b=Tr(b),x--;for(;y--;){if(E===b||b!==null&&E===b.alternate)break t;E=Tr(E),b=Tr(b)}E=null}else E=null;S!==null&&Kh(_,w,S,E,!1),j!==null&&O!==null&&Kh(_,O,j,E,!0)}}e:{if(w=m?Fr(m):window,S=w.nodeName&&w.nodeName.toLowerCase(),S==="select"||S==="input"&&w.type==="file")var I=c0;else if(Uh(w))if(am)I=p0;else{I=h0;var M=d0}else(S=w.nodeName)&&S.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(I=f0);if(I&&(I=I(e,m))){om(_,I,n,g);break e}M&&M(e,w,m),e==="focusout"&&(M=w._wrapperState)&&M.controlled&&w.type==="number"&&nu(w,"number",w.value)}switch(M=m?Fr(m):window,e){case"focusin":(Uh(M)||M.contentEditable==="true")&&(Ur=M,pu=m,Vi=null);break;case"focusout":Vi=pu=Ur=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,qh(_,n,g);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":qh(_,n,g)}var z;if(bc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Br?im(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(rm&&n.locale!=="ko"&&(Br||F!=="onCompositionStart"?F==="onCompositionEnd"&&Br&&(z=nm()):(jn=g,_c="value"in jn?jn.value:jn.textContent,Br=!0)),M=$o(m,F),0<M.length&&(F=new Mh(F,e,null,n,g),_.push({event:F,listeners:M}),z?F.data=z:(z=sm(n),z!==null&&(F.data=z)))),(z=s0?o0(e,n):a0(e,n))&&(m=$o(m,"onBeforeInput"),0<m.length&&(g=new Mh("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:m}),g.data=z))}vm(_,t)})}function cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=rs(e,n),a!=null&&i.unshift(cs(e,a,s)),a=rs(e,t),a!=null&&i.push(cs(e,a,s))),e=e.return}return i}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kh(e,t,n,i,s){for(var a=t._reactName,l=[];n!==null&&n!==i;){var d=n,h=d.alternate,m=d.stateNode;if(h!==null&&h===i)break;d.tag===5&&m!==null&&(d=m,s?(h=rs(n,a),h!=null&&l.unshift(cs(n,h,d))):s||(h=rs(n,a),h!=null&&l.push(cs(n,h,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var x0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(x0,`
`).replace(b0,"")}function lo(e,t,n){if(t=Gh(t),Gh(e)!==t&&n)throw Error(D(425))}function Fo(){}var gu=null,vu=null;function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch(E0)}:_u;function E0(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),os(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);os(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Gt="__reactFiber$"+fi,ds="__reactProps$"+fi,dn="__reactContainer$"+fi,wu="__reactEvents$"+fi,j0="__reactListeners$"+fi,T0="__reactHandles$"+fi;function rr(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qh(e);e!==null;){if(n=e[Gt])return n;e=Qh(e)}return t}e=n,n=e.parentNode}return null}function Ps(e){return e=e[Gt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function fa(e){return e[ds]||null}var xu=[],Wr=-1;function $n(e){return{current:e}}function me(e){0>Wr||(e.current=xu[Wr],xu[Wr]=null,Wr--)}function fe(e,t){Wr++,xu[Wr]=e.current,e.current=t}var Bn={},Je=$n(Bn),at=$n(!1),ur=Bn;function si(e,t){var n=e.type.contextTypes;if(!n)return Bn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Wo(){me(at),me(Je)}function Yh(e,t,n){if(Je.current!==Bn)throw Error(D(168));fe(Je,t),fe(at,n)}function _m(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(D(108,d_(e)||"Unknown",s));return xe({},n,i)}function Ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,ur=Je.current,fe(Je,e),fe(at,at.current),!0}function Xh(e,t,n){var i=e.stateNode;if(!i)throw Error(D(169));n?(e=_m(e,t,ur),i.__reactInternalMemoizedMergedChildContext=e,me(at),me(Je),fe(Je,e)):me(at),fe(at,n)}var on=null,pa=!1,Nl=!1;function wm(e){on===null?on=[e]:on.push(e)}function N0(e){pa=!0,wm(e)}function Fn(){if(!Nl&&on!==null){Nl=!0;var e=0,t=le;try{var n=on;for(le=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}on=null,pa=!1}catch(s){throw on!==null&&(on=on.slice(e+1)),qp(mc,Fn),s}finally{le=t,Nl=!1}}return null}var Hr=[],qr=0,qo=null,Zo=0,kt=[],Et=0,cr=null,an=1,ln="";function Yn(e,t){Hr[qr++]=Zo,Hr[qr++]=qo,qo=e,Zo=t}function xm(e,t,n){kt[Et++]=an,kt[Et++]=ln,kt[Et++]=cr,cr=e;var i=an;e=ln;var s=32-Ut(i)-1;i&=~(1<<s),n+=1;var a=32-Ut(t)+s;if(30<a){var l=s-s%5;a=(i&(1<<l)-1).toString(32),i>>=l,s-=l,an=1<<32-Ut(t)+s|n<<s|i,ln=a+e}else an=1<<a|n<<s|i,ln=e}function kc(e){e.return!==null&&(Yn(e,1),xm(e,1,0))}function Ec(e){for(;e===qo;)qo=Hr[--qr],Hr[qr]=null,Zo=Hr[--qr],Hr[qr]=null;for(;e===cr;)cr=kt[--Et],kt[Et]=null,ln=kt[--Et],kt[Et]=null,an=kt[--Et],kt[Et]=null}var gt=null,mt=null,ge=!1,Bt=null;function bm(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ef(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cr!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Su(e){if(ge){var t=mt;if(t){var n=t;if(!ef(e,t)){if(bu(e))throw Error(D(418));t=On(n.nextSibling);var i=gt;t&&ef(e,t)?bm(i,n):(e.flags=e.flags&-4097|2,ge=!1,gt=e)}}else{if(bu(e))throw Error(D(418));e.flags=e.flags&-4097|2,ge=!1,gt=e}}}function tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function uo(e){if(e!==gt)return!1;if(!ge)return tf(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yu(e.type,e.memoizedProps)),t&&(t=mt)){if(bu(e))throw Sm(),Error(D(418));for(;t;)bm(e,t),t=On(t.nextSibling)}if(tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?On(e.stateNode.nextSibling):null;return!0}function Sm(){for(var e=mt;e;)e=On(e.nextSibling)}function oi(){mt=gt=null,ge=!1}function jc(e){Bt===null?Bt=[e]:Bt.push(e)}var P0=pn.ReactCurrentBatchConfig;function Ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var d=s.refs;l===null?delete d[a]:d[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function co(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nf(e){var t=e._init;return t(e._payload)}function km(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function i(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Mn(b,y),b.index=0,b.sibling=null,b}function a(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function d(b,y,x,N){return y===null||y.tag!==6?(y=Il(x,b.mode,N),y.return=b,y):(y=s(y,x),y.return=b,y)}function h(b,y,x,N){var I=x.type;return I===zr?g(b,y,x.props.children,N,x.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===wn&&nf(I)===y.type)?(N=s(y,x.props),N.ref=Ii(b,y,x),N.return=b,N):(N=Oo(x.type,x.key,x.props,null,b.mode,N),N.ref=Ii(b,y,x),N.return=b,N)}function m(b,y,x,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ml(x,b.mode,N),y.return=b,y):(y=s(y,x.children||[]),y.return=b,y)}function g(b,y,x,N,I){return y===null||y.tag!==7?(y=lr(x,b.mode,N,I),y.return=b,y):(y=s(y,x),y.return=b,y)}function _(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Il(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:return x=Oo(y.type,y.key,y.props,null,b.mode,x),x.ref=Ii(b,null,y),x.return=b,x;case Dr:return y=Ml(y,b.mode,x),y.return=b,y;case wn:var N=y._init;return _(b,N(y._payload),x)}if(Bi(y)||Ci(y))return y=lr(y,b.mode,x,null),y.return=b,y;co(b,y)}return null}function w(b,y,x,N){var I=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:d(b,y,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xs:return x.key===I?h(b,y,x,N):null;case Dr:return x.key===I?m(b,y,x,N):null;case wn:return I=x._init,w(b,y,I(x._payload),N)}if(Bi(x)||Ci(x))return I!==null?null:g(b,y,x,N,null);co(b,x)}return null}function S(b,y,x,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(x)||null,d(y,b,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xs:return b=b.get(N.key===null?x:N.key)||null,h(y,b,N,I);case Dr:return b=b.get(N.key===null?x:N.key)||null,m(y,b,N,I);case wn:var M=N._init;return S(b,y,x,M(N._payload),I)}if(Bi(N)||Ci(N))return b=b.get(x)||null,g(y,b,N,I,null);co(y,N)}return null}function j(b,y,x,N){for(var I=null,M=null,z=y,F=y=0,ne=null;z!==null&&F<x.length;F++){z.index>F?(ne=z,z=null):ne=z.sibling;var X=w(b,z,x[F],N);if(X===null){z===null&&(z=ne);break}e&&z&&X.alternate===null&&t(b,z),y=a(X,y,F),M===null?I=X:M.sibling=X,M=X,z=ne}if(F===x.length)return n(b,z),ge&&Yn(b,F),I;if(z===null){for(;F<x.length;F++)z=_(b,x[F],N),z!==null&&(y=a(z,y,F),M===null?I=z:M.sibling=z,M=z);return ge&&Yn(b,F),I}for(z=i(b,z);F<x.length;F++)ne=S(z,b,F,x[F],N),ne!==null&&(e&&ne.alternate!==null&&z.delete(ne.key===null?F:ne.key),y=a(ne,y,F),M===null?I=ne:M.sibling=ne,M=ne);return e&&z.forEach(function(ce){return t(b,ce)}),ge&&Yn(b,F),I}function E(b,y,x,N){var I=Ci(x);if(typeof I!="function")throw Error(D(150));if(x=I.call(x),x==null)throw Error(D(151));for(var M=I=null,z=y,F=y=0,ne=null,X=x.next();z!==null&&!X.done;F++,X=x.next()){z.index>F?(ne=z,z=null):ne=z.sibling;var ce=w(b,z,X.value,N);if(ce===null){z===null&&(z=ne);break}e&&z&&ce.alternate===null&&t(b,z),y=a(ce,y,F),M===null?I=ce:M.sibling=ce,M=ce,z=ne}if(X.done)return n(b,z),ge&&Yn(b,F),I;if(z===null){for(;!X.done;F++,X=x.next())X=_(b,X.value,N),X!==null&&(y=a(X,y,F),M===null?I=X:M.sibling=X,M=X);return ge&&Yn(b,F),I}for(z=i(b,z);!X.done;F++,X=x.next())X=S(z,b,F,X.value,N),X!==null&&(e&&X.alternate!==null&&z.delete(X.key===null?F:X.key),y=a(X,y,F),M===null?I=X:M.sibling=X,M=X);return e&&z.forEach(function(Ie){return t(b,Ie)}),ge&&Yn(b,F),I}function O(b,y,x,N){if(typeof x=="object"&&x!==null&&x.type===zr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xs:e:{for(var I=x.key,M=y;M!==null;){if(M.key===I){if(I=x.type,I===zr){if(M.tag===7){n(b,M.sibling),y=s(M,x.props.children),y.return=b,b=y;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===wn&&nf(I)===M.type){n(b,M.sibling),y=s(M,x.props),y.ref=Ii(b,M,x),y.return=b,b=y;break e}n(b,M);break}else t(b,M);M=M.sibling}x.type===zr?(y=lr(x.props.children,b.mode,N,x.key),y.return=b,b=y):(N=Oo(x.type,x.key,x.props,null,b.mode,N),N.ref=Ii(b,y,x),N.return=b,b=N)}return l(b);case Dr:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(b,y.sibling),y=s(y,x.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=Ml(x,b.mode,N),y.return=b,b=y}return l(b);case wn:return M=x._init,O(b,y,M(x._payload),N)}if(Bi(x))return j(b,y,x,N);if(Ci(x))return E(b,y,x,N);co(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,x),y.return=b,b=y):(n(b,y),y=Il(x,b.mode,N),y.return=b,b=y),l(b)):n(b,y)}return O}var ai=km(!0),Em=km(!1),Vo=$n(null),Ko=null,Zr=null,Tc=null;function Nc(){Tc=Zr=Ko=null}function Pc(e){var t=Vo.current;me(Vo),e._currentValue=t}function ku(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ei(e,t){Ko=e,Tc=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Tc!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Ko===null)throw Error(D(308));Zr=e,Ko.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var ir=null;function Cc(e){ir===null?ir=[e]:ir.push(e)}function jm(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Cc(t)):(n.next=s.next,s.next=n),t.interleaved=n,hn(e,i)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function Lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,hn(e,n)}return s=i.interleaved,s===null?(t.next=t,Cc(i)):(t.next=s.next,s.next=t),i.interleaved=t,hn(e,n)}function jo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}function rf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Go(e,t,n,i){var s=e.updateQueue;xn=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,m=h.next;h.next=null,l===null?a=m:l.next=m,l=h;var g=e.alternate;g!==null&&(g=g.updateQueue,d=g.lastBaseUpdate,d!==l&&(d===null?g.firstBaseUpdate=m:d.next=m,g.lastBaseUpdate=h))}if(a!==null){var _=s.baseState;l=0,g=m=h=null,d=a;do{var w=d.lane,S=d.eventTime;if((i&w)===w){g!==null&&(g=g.next={eventTime:S,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var j=e,E=d;switch(w=t,S=n,E.tag){case 1:if(j=E.payload,typeof j=="function"){_=j.call(S,_,w);break e}_=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=E.payload,w=typeof j=="function"?j.call(S,_,w):j,w==null)break e;_=xe({},_,w);break e;case 2:xn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[d]:w.push(d))}else S={eventTime:S,lane:w,tag:d.tag,payload:d.payload,callback:d.callback,next:null},g===null?(m=g=S,h=_):g=g.next=S,l|=w;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;w=d,d=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(g===null&&(h=_),s.baseState=h,s.firstBaseUpdate=m,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);hr|=l,e.lanes=l,e.memoizedState=_}}function sf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(D(191,s));s.call(i)}}}var Cs={},Qt=$n(Cs),hs=$n(Cs),fs=$n(Cs);function sr(e){if(e===Cs)throw Error(D(174));return e}function Oc(e,t){switch(fe(fs,t),fe(hs,e),fe(Qt,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}me(Qt),fe(Qt,t)}function li(){me(Qt),me(hs),me(fs)}function Nm(e){sr(fs.current);var t=sr(Qt.current),n=iu(t,e.type);t!==n&&(fe(hs,e),fe(Qt,n))}function Rc(e){hs.current===e&&(me(Qt),me(hs))}var _e=$n(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Ac(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var To=pn.ReactCurrentDispatcher,Cl=pn.ReactCurrentBatchConfig,dr=0,we=null,Re=null,De=null,Qo=!1,Ki=!1,ps=0,C0=0;function Ze(){throw Error(D(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function Mc(e,t,n,i,s,a){if(dr=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?A0:I0,e=n(i,s),Ki){a=0;do{if(Ki=!1,ps=0,25<=a)throw Error(D(301));a+=1,De=Re=null,t.updateQueue=null,To.current=M0,e=n(i,s)}while(Ki)}if(To.current=Yo,t=Re!==null&&Re.next!==null,dr=0,De=Re=we=null,Qo=!1,t)throw Error(D(300));return e}function Dc(){var e=ps!==0;return ps=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?we.memoizedState=De=e:De=De.next=e,De}function Pt(){if(Re===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=De===null?we.memoizedState:De.next;if(t!==null)De=t,Re=e;else{if(e===null)throw Error(D(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},De===null?we.memoizedState=De=e:De=De.next=e}return De}function ms(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Pt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var i=Re,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var d=l=null,h=null,m=a;do{var g=m.lane;if((dr&g)===g)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var _={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(d=h=_,l=i):h=h.next=_,we.lanes|=g,hr|=g}m=m.next}while(m!==null&&m!==a);h===null?l=i:h.next=d,Ft(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseState=l,t.baseQueue=h,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,we.lanes|=a,hr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=Pt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);Ft(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pm(){}function Cm(e,t){var n=we,i=Pt(),s=t(),a=!Ft(i.memoizedState,s);if(a&&(i.memoizedState=s,ot=!0),i=i.queue,zc(Rm.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,gs(9,Om.bind(null,n,i,s,t),void 0,null),ze===null)throw Error(D(349));dr&30||Lm(n,t,s)}return s}function Lm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Om(e,t,n,i){t.value=n,t.getSnapshot=i,Am(t)&&Im(e)}function Rm(e,t,n){return n(function(){Am(t)&&Im(e)})}function Am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function Im(e){var t=hn(e,1);t!==null&&$t(t,e,1,-1)}function of(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=R0.bind(null,we,e),[t.memoizedState,e]}function gs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Mm(){return Pt().memoizedState}function No(e,t,n,i){var s=Kt();we.flags|=e,s.memoizedState=gs(1|t,n,void 0,i===void 0?null:i)}function ma(e,t,n,i){var s=Pt();i=i===void 0?null:i;var a=void 0;if(Re!==null){var l=Re.memoizedState;if(a=l.destroy,i!==null&&Ic(i,l.deps)){s.memoizedState=gs(t,n,a,i);return}}we.flags|=e,s.memoizedState=gs(1|t,n,a,i)}function af(e,t){return No(8390656,8,e,t)}function zc(e,t){return ma(2048,8,e,t)}function Dm(e,t){return ma(4,2,e,t)}function zm(e,t){return ma(4,4,e,t)}function Bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Um(e,t,n){return n=n!=null?n.concat([e]):null,ma(4,4,Bm.bind(null,t,e),n)}function Bc(){}function $m(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ic(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fm(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ic(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wm(e,t,n){return dr&21?(Ft(n,t)||(n=Kp(),we.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function L0(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var i=Cl.transition;Cl.transition={};try{e(!1),t()}finally{le=n,Cl.transition=i}}function Hm(){return Pt().memoizedState}function O0(e,t,n){var i=In(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},qm(e))Zm(t,n);else if(n=jm(e,t,n,i),n!==null){var s=et();$t(n,e,i,s),Vm(n,t,i)}}function R0(e,t,n){var i=In(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(qm(e))Zm(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,d=a(l,n);if(s.hasEagerState=!0,s.eagerState=d,Ft(d,l)){var h=t.interleaved;h===null?(s.next=s,Cc(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}n=jm(e,t,s,i),n!==null&&(s=et(),$t(n,e,i,s),Vm(n,t,i))}}function qm(e){var t=e.alternate;return e===we||t!==null&&t===we}function Zm(e,t){Ki=Qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vm(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}var Yo={readContext:Nt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},A0={readContext:Nt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:af,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,No(4194308,4,Bm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Kt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=O0.bind(null,we,e),[i.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:of,useDebugValue:Bc,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=of(!1),t=e[0];return e=L0.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=we,s=Kt();if(ge){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),ze===null)throw Error(D(349));dr&30||Lm(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,af(Rm.bind(null,i,a,e),[e]),i.flags|=2048,gs(9,Om.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Kt(),t=ze.identifierPrefix;if(ge){var n=ln,i=an;n=(i&~(1<<32-Ut(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=C0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I0={readContext:Nt,useCallback:$m,useContext:Nt,useEffect:zc,useImperativeHandle:Um,useInsertionEffect:Dm,useLayoutEffect:zm,useMemo:Fm,useReducer:Ll,useRef:Mm,useState:function(){return Ll(ms)},useDebugValue:Bc,useDeferredValue:function(e){var t=Pt();return Wm(t,Re.memoizedState,e)},useTransition:function(){var e=Ll(ms)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Cm,useId:Hm,unstable_isNewReconciler:!1},M0={readContext:Nt,useCallback:$m,useContext:Nt,useEffect:zc,useImperativeHandle:Um,useInsertionEffect:Dm,useLayoutEffect:zm,useMemo:Fm,useReducer:Ol,useRef:Mm,useState:function(){return Ol(ms)},useDebugValue:Bc,useDeferredValue:function(e){var t=Pt();return Re===null?t.memoizedState=e:Wm(t,Re.memoizedState,e)},useTransition:function(){var e=Ol(ms)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Cm,useId:Hm,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=et(),s=In(e),a=un(i,s);a.payload=t,n!=null&&(a.callback=n),t=Rn(e,a,s),t!==null&&($t(t,e,s,i),jo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=et(),s=In(e),a=un(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Rn(e,a,s),t!==null&&($t(t,e,s,i),jo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),i=In(e),s=un(n,i);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,i),t!==null&&($t(t,e,i,n),jo(t,e,i))}};function lf(e,t,n,i,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):t.prototype&&t.prototype.isPureReactComponent?!ls(n,i)||!ls(s,a):!0}function Km(e,t,n){var i=!1,s=Bn,a=t.contextType;return typeof a=="object"&&a!==null?a=Nt(a):(s=lt(t)?ur:Je.current,i=t.contextTypes,a=(i=i!=null)?si(e,s):Bn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function uf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ju(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Lc(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Nt(a):(a=lt(t)?ur:Je.current,s.context=si(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Eu(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ga.enqueueReplaceState(s,s.state,null),Go(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var n="",i=t;do n+=c_(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var D0=typeof WeakMap=="function"?WeakMap:Map;function Gm(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ea||(ea=!0,Du=i),Tu(e,t)},n}function Jm(e,t,n){n=un(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Tu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Tu(e,t),typeof i!="function"&&(An===null?An=new Set([this]):An.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function cf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new D0;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Q0.bind(null,e,t,n),t.then(e,e))}function df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hf(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var z0=pn.ReactCurrentOwner,ot=!1;function Ye(e,t,n,i){t.child=e===null?Em(t,null,n,i):ai(t,e.child,n,i)}function ff(e,t,n,i,s){n=n.render;var a=t.ref;return ei(t,s),i=Mc(e,t,n,i,a,s),n=Dc(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(ge&&n&&kc(t),t.flags|=1,Ye(e,t,i,s),t.child)}function pf(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!Vc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Qm(e,t,a,i,s)):(e=Oo(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:ls,n(l,i)&&e.ref===t.ref)return fn(e,t,s)}return t.flags|=1,e=Mn(a,i),e.ref=t.ref,e.return=t,t.child=e}function Qm(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(ls(a,i)&&e.ref===t.ref)if(ot=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,fn(e,t,s)}return Nu(e,t,n,i,s)}function Ym(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Kr,ht),ht|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Kr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,fe(Kr,ht),ht|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,fe(Kr,ht),ht|=i;return Ye(e,t,s,n),t.child}function Xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nu(e,t,n,i,s){var a=lt(n)?ur:Je.current;return a=si(t,a),ei(t,s),n=Mc(e,t,n,i,a,s),i=Dc(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(ge&&i&&kc(t),t.flags|=1,Ye(e,t,n,s),t.child)}function mf(e,t,n,i,s){if(lt(n)){var a=!0;Ho(t)}else a=!1;if(ei(t,s),t.stateNode===null)Po(e,t),Km(t,n,i),ju(t,n,i,s),i=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var h=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=Nt(m):(m=lt(n)?ur:Je.current,m=si(t,m));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==i||h!==m)&&uf(t,l,i,m),xn=!1;var w=t.memoizedState;l.state=w,Go(t,i,l,s),h=t.memoizedState,d!==i||w!==h||at.current||xn?(typeof g=="function"&&(Eu(t,n,g,i),h=t.memoizedState),(d=xn||lf(t,n,d,i,w,h,m))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),l.props=i,l.state=h,l.context=m,i=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Tm(e,t),d=t.memoizedProps,m=t.type===t.elementType?d:It(t.type,d),l.props=m,_=t.pendingProps,w=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Nt(h):(h=lt(n)?ur:Je.current,h=si(t,h));var S=n.getDerivedStateFromProps;(g=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==_||w!==h)&&uf(t,l,i,h),xn=!1,w=t.memoizedState,l.state=w,Go(t,i,l,s);var j=t.memoizedState;d!==_||w!==j||at.current||xn?(typeof S=="function"&&(Eu(t,n,S,i),j=t.memoizedState),(m=xn||lf(t,n,m,i,w,j,h)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,j,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,j,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=j),l.props=i,l.state=j,l.context=h,i=m):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),i=!1)}return Pu(e,t,n,i,a,s)}function Pu(e,t,n,i,s,a){Xm(e,t);var l=(t.flags&128)!==0;if(!i&&!l)return s&&Xh(t,n,!1),fn(e,t,a);i=t.stateNode,z0.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&l?(t.child=ai(t,e.child,null,a),t.child=ai(t,null,d,a)):Ye(e,t,d,a),t.memoizedState=i.state,s&&Xh(t,n,!0),t.child}function eg(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),Oc(e,t.containerInfo)}function gf(e,t,n,i,s){return oi(),jc(s),t.flags|=256,Ye(e,t,n,i),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function tg(e,t,n){var i=t.pendingProps,s=_e.current,a=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(s&2)!==0),d?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(_e,s&1),e===null)return Su(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=_a(l,i,0,null),e=lr(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Lu(n),t.memoizedState=Cu,e):Uc(t,l));if(s=e.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return B0(e,t,l,i,d,s,n);if(a){a=i.fallback,l=t.mode,s=e.child,d=s.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=Mn(s,h),i.subtreeFlags=s.subtreeFlags&14680064),d!==null?a=Mn(d,a):(a=lr(a,l,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=e.child.memoizedState,l=l===null?Lu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Cu,i}return a=e.child,e=a.sibling,i=Mn(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uc(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ho(e,t,n,i){return i!==null&&jc(i),ai(t,e.child,null,n),e=Uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B0(e,t,n,i,s,a,l){if(n)return t.flags&256?(t.flags&=-257,i=Rl(Error(D(422))),ho(e,t,l,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=_a({mode:"visible",children:i.children},s,0,null),a=lr(a,s,l,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&ai(t,e.child,null,l),t.child.memoizedState=Lu(l),t.memoizedState=Cu,a);if(!(t.mode&1))return ho(e,t,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var d=i.dgst;return i=d,a=Error(D(419)),i=Rl(a,i,void 0),ho(e,t,l,i)}if(d=(l&e.childLanes)!==0,ot||d){if(i=ze,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,hn(e,s),$t(i,e,s,-1))}return Zc(),i=Rl(Error(D(421))),ho(e,t,l,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Y0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,mt=On(s.nextSibling),gt=t,ge=!0,Bt=null,e!==null&&(kt[Et++]=an,kt[Et++]=ln,kt[Et++]=cr,an=e.id,ln=e.overflow,cr=t),t=Uc(t,i.children),t.flags|=4096,t)}function vf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ku(e.return,t,n)}function Al(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function ng(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(Ye(e,t,i.children,n),i=_e.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vf(e,n,t);else if(e.tag===19)vf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(fe(_e,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Al(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Al(t,!0,n,null,a);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Po(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function U0(e,t,n){switch(t.tag){case 3:eg(t),oi();break;case 5:Nm(t);break;case 1:lt(t.type)&&Ho(t);break;case 4:Oc(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;fe(Vo,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(fe(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?tg(e,t,n):(fe(_e,_e.current&1),e=fn(e,t,n),e!==null?e.sibling:null);fe(_e,_e.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ng(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(_e,_e.current),i)break;return null;case 22:case 23:return t.lanes=0,Ym(e,t,n)}return fn(e,t,n)}var rg,Ou,ig,sg;rg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ou=function(){};ig=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,sr(Qt.current);var a=null;switch(n){case"input":s=eu(e,s),i=eu(e,i),a=[];break;case"select":s=xe({},s,{value:void 0}),i=xe({},i,{value:void 0}),a=[];break;case"textarea":s=ru(e,s),i=ru(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fo)}su(n,i);var l;n=null;for(m in s)if(!i.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var d=s[m];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ts.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in i){var h=i[m];if(d=s!=null?s[m]:void 0,i.hasOwnProperty(m)&&h!==d&&(h!=null||d!=null))if(m==="style")if(d){for(l in d)!d.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&d[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(a||(a=[]),a.push(m,n)),n=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(a=a||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ts.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&pe("scroll",e),a||d===h||(a=[])):(a=a||[]).push(m,h))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};sg=function(e,t,n,i){n!==i&&(t.flags|=4)};function Mi(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function $0(e,t,n){var i=t.pendingProps;switch(Ec(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return lt(t.type)&&Wo(),Ve(t),null;case 3:return i=t.stateNode,li(),me(at),me(Je),Ac(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Uu(Bt),Bt=null))),Ou(e,t),Ve(t),null;case 5:Rc(t);var s=sr(fs.current);if(n=t.type,e!==null&&t.stateNode!=null)ig(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(D(166));return Ve(t),null}if(e=sr(Qt.current),uo(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Gt]=t,i[ds]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",i),pe("close",i);break;case"iframe":case"object":case"embed":pe("load",i);break;case"video":case"audio":for(s=0;s<$i.length;s++)pe($i[s],i);break;case"source":pe("error",i);break;case"img":case"image":case"link":pe("error",i),pe("load",i);break;case"details":pe("toggle",i);break;case"input":Eh(i,a),pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},pe("invalid",i);break;case"textarea":Th(i,a),pe("invalid",i)}su(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var d=a[l];l==="children"?typeof d=="string"?i.textContent!==d&&(a.suppressHydrationWarning!==!0&&lo(i.textContent,d,e),s=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&lo(i.textContent,d,e),s=["children",""+d]):ts.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&pe("scroll",i)}switch(n){case"input":eo(i),jh(i,a,!0);break;case"textarea":eo(i),Nh(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Fo)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[Gt]=t,e[ds]=i,rg(e,t,!1,!1),t.stateNode=e;e:{switch(l=ou(n,i),n){case"dialog":pe("cancel",e),pe("close",e),s=i;break;case"iframe":case"object":case"embed":pe("load",e),s=i;break;case"video":case"audio":for(s=0;s<$i.length;s++)pe($i[s],e);s=i;break;case"source":pe("error",e),s=i;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=i;break;case"details":pe("toggle",e),s=i;break;case"input":Eh(e,i),s=eu(e,i),pe("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=xe({},i,{value:void 0}),pe("invalid",e);break;case"textarea":Th(e,i),s=ru(e,i),pe("invalid",e);break;default:s=i}su(n,s),d=s;for(a in d)if(d.hasOwnProperty(a)){var h=d[a];a==="style"?Mp(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Ap(e,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ns(e,h):typeof h=="number"&&ns(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ts.hasOwnProperty(a)?h!=null&&a==="onScroll"&&pe("scroll",e):h!=null&&cc(e,a,h,l))}switch(n){case"input":eo(e),jh(e,i,!1);break;case"textarea":eo(e),Nh(e);break;case"option":i.value!=null&&e.setAttribute("value",""+zn(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Jr(e,!!i.multiple,a,!1):i.defaultValue!=null&&Jr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)sg(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(D(166));if(n=sr(fs.current),sr(Qt.current),uo(t)){if(i=t.stateNode,n=t.memoizedProps,i[Gt]=t,(a=i.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:lo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Gt]=t,t.stateNode=i}return Ve(t),null;case 13:if(me(_e),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&mt!==null&&t.mode&1&&!(t.flags&128))Sm(),oi(),t.flags|=98560,a=!1;else if(a=uo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[Gt]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else Bt!==null&&(Uu(Bt),Bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ae===0&&(Ae=3):Zc())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return li(),Ou(e,t),e===null&&us(t.stateNode.containerInfo),Ve(t),null;case 10:return Pc(t.type._context),Ve(t),null;case 17:return lt(t.type)&&Wo(),Ve(t),null;case 19:if(me(_e),a=t.memoizedState,a===null)return Ve(t),null;if(i=(t.flags&128)!==0,l=a.rendering,l===null)if(i)Mi(a,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Jo(e),l!==null){for(t.flags|=128,Mi(a,!1),i=l.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ee()>ci&&(t.flags|=128,i=!0,Mi(a,!1),t.lanes=4194304)}else{if(!i)if(e=Jo(l),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ge)return Ve(t),null}else 2*Ee()-a.renderingStartTime>ci&&n!==1073741824&&(t.flags|=128,i=!0,Mi(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ee(),t.sibling=null,n=_e.current,fe(_e,i?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return qc(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?ht&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function F0(e,t){switch(Ec(t),t.tag){case 1:return lt(t.type)&&Wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return li(),me(at),me(Je),Ac(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rc(t),null;case 13:if(me(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(_e),null;case 4:return li(),null;case 10:return Pc(t.type._context),null;case 22:case 23:return qc(),null;case 24:return null;default:return null}}var fo=!1,Ge=!1,W0=typeof WeakSet=="function"?WeakSet:Set,$=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Se(e,t,i)}else n.current=null}function Ru(e,t,n){try{n()}catch(i){Se(e,t,i)}}var yf=!1;function H0(e,t){if(gu=Bo,e=cm(),Sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,d=-1,h=-1,m=0,g=0,_=e,w=null;t:for(;;){for(var S;_!==n||s!==0&&_.nodeType!==3||(d=l+s),_!==a||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(S=_.firstChild)!==null;)w=_,_=S;for(;;){if(_===e)break t;if(w===n&&++m===s&&(d=l),w===a&&++g===i&&(h=l),(S=_.nextSibling)!==null)break;_=w,w=_.parentNode}_=S}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},Bo=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var E=j.memoizedProps,O=j.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?E:It(t.type,E),O);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(N){Se(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=yf,yf=!1,j}function Gi(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ru(t,n,a)}s=s.next}while(s!==i)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function og(e){var t=e.alternate;t!==null&&(e.alternate=null,og(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[ds],delete t[wu],delete t[j0],delete t[T0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ag(e){return e.tag===5||e.tag===3||e.tag===4}function _f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fo));else if(i!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}function Mu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}var We=null,Dt=!1;function _n(e,t,n){for(n=n.child;n!==null;)lg(e,t,n),n=n.sibling}function lg(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ua,n)}catch{}switch(n.tag){case 5:Ge||Vr(n,t);case 6:var i=We,s=Dt;We=null,_n(e,t,n),We=i,Dt=s,We!==null&&(Dt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Dt?(e=We,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),os(e)):Tl(We,n.stateNode));break;case 4:i=We,s=Dt,We=n.stateNode.containerInfo,Dt=!0,_n(e,t,n),We=i,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ru(n,t,l),s=s.next}while(s!==i)}_n(e,t,n);break;case 1:if(!Ge&&(Vr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(d){Se(n,t,d)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Ge=(i=Ge)||n.memoizedState!==null,_n(e,t,n),Ge=i):_n(e,t,n);break;default:_n(e,t,n)}}function wf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W0),t.forEach(function(i){var s=X0.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:We=d.stateNode,Dt=!1;break e;case 3:We=d.stateNode.containerInfo,Dt=!0;break e;case 4:We=d.stateNode.containerInfo,Dt=!0;break e}d=d.return}if(We===null)throw Error(D(160));lg(a,l,s),We=null,Dt=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(m){Se(s,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ug(t,e),t=t.sibling}function ug(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Vt(e),i&4){try{Gi(3,e,e.return),va(3,e)}catch(E){Se(e,e.return,E)}try{Gi(5,e,e.return)}catch(E){Se(e,e.return,E)}}break;case 1:Ot(t,e),Vt(e),i&512&&n!==null&&Vr(n,n.return);break;case 5:if(Ot(t,e),Vt(e),i&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{ns(s,"")}catch(E){Se(e,e.return,E)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&Lp(s,a),ou(d,l);var m=ou(d,a);for(l=0;l<h.length;l+=2){var g=h[l],_=h[l+1];g==="style"?Mp(s,_):g==="dangerouslySetInnerHTML"?Ap(s,_):g==="children"?ns(s,_):cc(s,g,_,m)}switch(d){case"input":tu(s,a);break;case"textarea":Op(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?Jr(s,!!a.multiple,S,!1):w!==!!a.multiple&&(a.defaultValue!=null?Jr(s,!!a.multiple,a.defaultValue,!0):Jr(s,!!a.multiple,a.multiple?[]:"",!1))}s[ds]=a}catch(E){Se(e,e.return,E)}}break;case 6:if(Ot(t,e),Vt(e),i&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(E){Se(e,e.return,E)}}break;case 3:if(Ot(t,e),Vt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(E){Se(e,e.return,E)}break;case 4:Ot(t,e),Vt(e);break;case 13:Ot(t,e),Vt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Wc=Ee())),i&4&&wf(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(m=Ge)||g,Ot(t,e),Ge=m):Ot(t,e),Vt(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!g&&e.mode&1)for($=e,g=e.child;g!==null;){for(_=$=g;$!==null;){switch(w=$,S=w.child,w.tag){case 0:case 11:case 14:case 15:Gi(4,w,w.return);break;case 1:Vr(w,w.return);var j=w.stateNode;if(typeof j.componentWillUnmount=="function"){i=w,n=w.return;try{t=i,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(E){Se(i,n,E)}}break;case 5:Vr(w,w.return);break;case 22:if(w.memoizedState!==null){bf(_);continue}}S!==null?(S.return=w,$=S):bf(_)}g=g.sibling}e:for(g=null,_=e;;){if(_.tag===5){if(g===null){g=_;try{s=_.stateNode,m?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=Ip("display",l))}catch(E){Se(e,e.return,E)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=m?"":_.memoizedProps}catch(E){Se(e,e.return,E)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Ot(t,e),Vt(e),i&4&&wf(e);break;case 21:break;default:Ot(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ag(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(ns(s,""),i.flags&=-33);var a=_f(e);Mu(e,a,s);break;case 3:case 4:var l=i.stateNode.containerInfo,d=_f(e);Iu(e,d,l);break;default:throw Error(D(161))}}catch(h){Se(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q0(e,t,n){$=e,cg(e)}function cg(e,t,n){for(var i=(e.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||fo;if(!l){var d=s.alternate,h=d!==null&&d.memoizedState!==null||Ge;d=fo;var m=Ge;if(fo=l,(Ge=h)&&!m)for($=s;$!==null;)l=$,h=l.child,l.tag===22&&l.memoizedState!==null?Sf(s):h!==null?(h.return=l,$=h):Sf(s);for(;a!==null;)$=a,cg(a),a=a.sibling;$=s,fo=d,Ge=m}xf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):xf(e)}}function xf(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||va(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ge)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&sf(t,a,i);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sf(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&os(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ge||t.flags&512&&Au(t)}catch(w){Se(t,t.return,w)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function bf(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Sf(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(h){Se(t,n,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(h){Se(t,s,h)}}var a=t.return;try{Au(t)}catch(h){Se(t,a,h)}break;case 5:var l=t.return;try{Au(t)}catch(h){Se(t,l,h)}}}catch(h){Se(t,t.return,h)}if(t===e){$=null;break}var d=t.sibling;if(d!==null){d.return=t.return,$=d;break}$=t.return}}var Z0=Math.ceil,Xo=pn.ReactCurrentDispatcher,$c=pn.ReactCurrentOwner,Tt=pn.ReactCurrentBatchConfig,se=0,ze=null,Pe=null,He=0,ht=0,Kr=$n(0),Ae=0,vs=null,hr=0,ya=0,Fc=0,Ji=null,st=null,Wc=0,ci=1/0,rn=null,ea=!1,Du=null,An=null,po=!1,Tn=null,ta=0,Qi=0,zu=null,Co=-1,Lo=0;function et(){return se&6?Ee():Co!==-1?Co:Co=Ee()}function In(e){return e.mode&1?se&2&&He!==0?He&-He:P0.transition!==null?(Lo===0&&(Lo=Kp()),Lo):(e=le,e!==0||(e=window.event,e=e===void 0?16:tm(e.type)),e):1}function $t(e,t,n,i){if(50<Qi)throw Qi=0,zu=null,Error(D(185));Ts(e,n,i),(!(se&2)||e!==ze)&&(e===ze&&(!(se&2)&&(ya|=n),Ae===4&&kn(e,He)),ut(e,i),n===1&&se===0&&!(t.mode&1)&&(ci=Ee()+500,pa&&Fn()))}function ut(e,t){var n=e.callbackNode;P_(e,t);var i=zo(e,e===ze?He:0);if(i===0)n!==null&&Lh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Lh(n),t===1)e.tag===0?N0(kf.bind(null,e)):wm(kf.bind(null,e)),k0(function(){!(se&6)&&Fn()}),n=null;else{switch(Gp(i)){case 1:n=mc;break;case 4:n=Zp;break;case 16:n=Do;break;case 536870912:n=Vp;break;default:n=Do}n=yg(n,dg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dg(e,t){if(Co=-1,Lo=0,se&6)throw Error(D(327));var n=e.callbackNode;if(ti()&&e.callbackNode!==n)return null;var i=zo(e,e===ze?He:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=na(e,i);else{t=i;var s=se;se|=2;var a=fg();(ze!==e||He!==t)&&(rn=null,ci=Ee()+500,ar(e,t));do try{G0();break}catch(d){hg(e,d)}while(!0);Nc(),Xo.current=a,se=s,Pe!==null?t=0:(ze=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=du(e),s!==0&&(i=s,t=Bu(e,s))),t===1)throw n=vs,ar(e,0),kn(e,i),ut(e,Ee()),n;if(t===6)kn(e,i);else{if(s=e.current.alternate,!(i&30)&&!V0(s)&&(t=na(e,i),t===2&&(a=du(e),a!==0&&(i=a,t=Bu(e,a))),t===1))throw n=vs,ar(e,0),kn(e,i),ut(e,Ee()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(D(345));case 2:Xn(e,st,rn);break;case 3:if(kn(e,i),(i&130023424)===i&&(t=Wc+500-Ee(),10<t)){if(zo(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_u(Xn.bind(null,e,st,rn),t);break}Xn(e,st,rn);break;case 4:if(kn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var l=31-Ut(i);a=1<<l,l=t[l],l>s&&(s=l),i&=~a}if(i=s,i=Ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Z0(i/1960))-i,10<i){e.timeoutHandle=_u(Xn.bind(null,e,st,rn),i);break}Xn(e,st,rn);break;case 5:Xn(e,st,rn);break;default:throw Error(D(329))}}}return ut(e,Ee()),e.callbackNode===n?dg.bind(null,e):null}function Bu(e,t){var n=Ji;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=na(e,t),e!==2&&(t=st,st=n,t!==null&&Uu(t)),e}function Uu(e){st===null?st=e:st.push.apply(st,e)}function V0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Ft(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Fc,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),i=1<<n;e[n]=-1,t&=~i}}function kf(e){if(se&6)throw Error(D(327));ti();var t=zo(e,0);if(!(t&1))return ut(e,Ee()),null;var n=na(e,t);if(e.tag!==0&&n===2){var i=du(e);i!==0&&(t=i,n=Bu(e,i))}if(n===1)throw n=vs,ar(e,0),kn(e,t),ut(e,Ee()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,st,rn),ut(e,Ee()),null}function Hc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(ci=Ee()+500,pa&&Fn())}}function fr(e){Tn!==null&&Tn.tag===0&&!(se&6)&&ti();var t=se;se|=1;var n=Tt.transition,i=le;try{if(Tt.transition=null,le=1,e)return e()}finally{le=i,Tt.transition=n,se=t,!(se&6)&&Fn()}}function qc(){ht=Kr.current,me(Kr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,S0(n)),Pe!==null)for(n=Pe.return;n!==null;){var i=n;switch(Ec(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wo();break;case 3:li(),me(at),me(Je),Ac();break;case 5:Rc(i);break;case 4:li();break;case 13:me(_e);break;case 19:me(_e);break;case 10:Pc(i.type._context);break;case 22:case 23:qc()}n=n.return}if(ze=e,Pe=e=Mn(e.current,null),He=ht=t,Ae=0,vs=null,Fc=ya=hr=0,st=Ji=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,i.next=l}n.pending=i}ir=null}return e}function hg(e,t){do{var n=Pe;try{if(Nc(),To.current=Yo,Qo){for(var i=we.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Qo=!1}if(dr=0,De=Re=we=null,Ki=!1,ps=0,$c.current=null,n===null||n.return===null){Ae=1,vs=t,Pe=null;break}e:{var a=e,l=n.return,d=n,h=t;if(t=He,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,g=d,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var S=df(l);if(S!==null){S.flags&=-257,hf(S,l,d,a,t),S.mode&1&&cf(a,m,t),t=S,h=m;var j=t.updateQueue;if(j===null){var E=new Set;E.add(h),t.updateQueue=E}else j.add(h);break e}else{if(!(t&1)){cf(a,m,t),Zc();break e}h=Error(D(426))}}else if(ge&&d.mode&1){var O=df(l);if(O!==null){!(O.flags&65536)&&(O.flags|=256),hf(O,l,d,a,t),jc(ui(h,d));break e}}a=h=ui(h,d),Ae!==4&&(Ae=2),Ji===null?Ji=[a]:Ji.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=Gm(a,h,t);rf(a,b);break e;case 1:d=h;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(An===null||!An.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Jm(a,d,t);rf(a,N);break e}}a=a.return}while(a!==null)}mg(n)}catch(I){t=I,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function fg(){var e=Xo.current;return Xo.current=Yo,e===null?Yo:e}function Zc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(hr&268435455)&&!(ya&268435455)||kn(ze,He)}function na(e,t){var n=se;se|=2;var i=fg();(ze!==e||He!==t)&&(rn=null,ar(e,t));do try{K0();break}catch(s){hg(e,s)}while(!0);if(Nc(),se=n,Xo.current=i,Pe!==null)throw Error(D(261));return ze=null,He=0,Ae}function K0(){for(;Pe!==null;)pg(Pe)}function G0(){for(;Pe!==null&&!w_();)pg(Pe)}function pg(e){var t=vg(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?mg(e):Pe=t,$c.current=null}function mg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=F0(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=$0(n,t,ht),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function Xn(e,t,n){var i=le,s=Tt.transition;try{Tt.transition=null,le=1,J0(e,t,n,i)}finally{Tt.transition=s,le=i}return null}function J0(e,t,n,i){do ti();while(Tn!==null);if(se&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(C_(e,a),e===ze&&(Pe=ze=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||po||(po=!0,yg(Do,function(){return ti(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Tt.transition,Tt.transition=null;var l=le;le=1;var d=se;se|=4,$c.current=null,H0(e,n),ug(n,e),g0(vu),Bo=!!gu,vu=gu=null,e.current=n,q0(n),x_(),se=d,le=l,Tt.transition=a}else e.current=n;if(po&&(po=!1,Tn=e,ta=s),a=e.pendingLanes,a===0&&(An=null),k_(n.stateNode),ut(e,Ee()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ea)throw ea=!1,e=Du,Du=null,e;return ta&1&&e.tag!==0&&ti(),a=e.pendingLanes,a&1?e===zu?Qi++:(Qi=0,zu=e):Qi=0,Fn(),null}function ti(){if(Tn!==null){var e=Gp(ta),t=Tt.transition,n=le;try{if(Tt.transition=null,le=16>e?16:e,Tn===null)var i=!1;else{if(e=Tn,Tn=null,ta=0,se&6)throw Error(D(331));var s=se;for(se|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var d=a.deletions;if(d!==null){for(var h=0;h<d.length;h++){var m=d[h];for($=m;$!==null;){var g=$;switch(g.tag){case 0:case 11:case 15:Gi(8,g,a)}var _=g.child;if(_!==null)_.return=g,$=_;else for(;$!==null;){g=$;var w=g.sibling,S=g.return;if(og(g),g===m){$=null;break}if(w!==null){w.return=S,$=w;break}$=S}}}var j=a.alternate;if(j!==null){var E=j.child;if(E!==null){j.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gi(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,$=b;break e}$=a.return}}var y=e.current;for($=y;$!==null;){l=$;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,$=x;else e:for(l=y;$!==null;){if(d=$,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:va(9,d)}}catch(I){Se(d,d.return,I)}if(d===l){$=null;break e}var N=d.sibling;if(N!==null){N.return=d.return,$=N;break e}$=d.return}}if(se=s,Fn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ua,e)}catch{}i=!0}return i}finally{le=n,Tt.transition=t}}return!1}function Ef(e,t,n){t=ui(n,t),t=Gm(e,t,1),e=Rn(e,t,1),t=et(),e!==null&&(Ts(e,1,t),ut(e,t))}function Se(e,t,n){if(e.tag===3)Ef(e,e,n);else for(;t!==null;){if(t.tag===3){Ef(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(An===null||!An.has(i))){e=ui(n,e),e=Jm(t,e,1),t=Rn(t,e,1),e=et(),t!==null&&(Ts(t,1,e),ut(t,e));break}}t=t.return}}function Q0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Ee()-Wc?ar(e,0):Fc|=n),ut(e,t)}function gg(e,t){t===0&&(e.mode&1?(t=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):t=1);var n=et();e=hn(e,t),e!==null&&(Ts(e,t,n),ut(e,n))}function Y0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gg(e,n)}function X0(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(t),gg(e,n)}var vg;vg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,U0(e,t,n);ot=!!(e.flags&131072)}else ot=!1,ge&&t.flags&1048576&&xm(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Po(e,t),e=t.pendingProps;var s=si(t,Je.current);ei(t,n),s=Mc(null,t,i,e,s,n);var a=Dc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(i)?(a=!0,Ho(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lc(t),s.updater=ga,t.stateNode=s,s._reactInternals=t,ju(t,i,e,n),t=Pu(null,t,i,!0,a,n)):(t.tag=0,ge&&a&&kc(t),Ye(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Po(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=tw(i),e=It(i,e),s){case 0:t=Nu(null,t,i,e,n);break e;case 1:t=mf(null,t,i,e,n);break e;case 11:t=ff(null,t,i,e,n);break e;case 14:t=pf(null,t,i,It(i.type,e),n);break e}throw Error(D(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:It(i,s),Nu(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:It(i,s),mf(e,t,i,s,n);case 3:e:{if(eg(t),e===null)throw Error(D(387));i=t.pendingProps,a=t.memoizedState,s=a.element,Tm(e,t),Go(t,i,null,n);var l=t.memoizedState;if(i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ui(Error(D(423)),t),t=gf(e,t,i,n,s);break e}else if(i!==s){s=ui(Error(D(424)),t),t=gf(e,t,i,n,s);break e}else for(mt=On(t.stateNode.containerInfo.firstChild),gt=t,ge=!0,Bt=null,n=Em(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),i===s){t=fn(e,t,n);break e}Ye(e,t,i,n)}t=t.child}return t;case 5:return Nm(t),e===null&&Su(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,yu(i,s)?l=null:a!==null&&yu(i,a)&&(t.flags|=32),Xm(e,t),Ye(e,t,l,n),t.child;case 6:return e===null&&Su(t),null;case 13:return tg(e,t,n);case 4:return Oc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ai(t,null,i,n):Ye(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:It(i,s),ff(e,t,i,s,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,fe(Vo,i._currentValue),i._currentValue=l,a!==null)if(Ft(a.value,l)){if(a.children===s.children&&!at.current){t=fn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var d=a.dependencies;if(d!==null){l=a.child;for(var h=d.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=un(-1,n&-n),h.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?h.next=h:(h.next=g.next,g.next=h),m.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),ku(a.return,n,t),d.lanes|=n;break}h=h.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(D(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),ku(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,ei(t,n),s=Nt(s),i=i(s),t.flags|=1,Ye(e,t,i,n),t.child;case 14:return i=t.type,s=It(i,t.pendingProps),s=It(i.type,s),pf(e,t,i,s,n);case 15:return Qm(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:It(i,s),Po(e,t),t.tag=1,lt(i)?(e=!0,Ho(t)):e=!1,ei(t,n),Km(t,i,s),ju(t,i,s,n),Pu(null,t,i,!0,e,n);case 19:return ng(e,t,n);case 22:return Ym(e,t,n)}throw Error(D(156,t.tag))};function yg(e,t){return qp(e,t)}function ew(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,i){return new ew(e,t,n,i)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tw(e){if(typeof e=="function")return Vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hc)return 11;if(e===fc)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oo(e,t,n,i,s,a){var l=2;if(i=e,typeof e=="function")Vc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case zr:return lr(n.children,s,a,t);case dc:l=8,s|=8;break;case Jl:return e=jt(12,n,t,s|2),e.elementType=Jl,e.lanes=a,e;case Ql:return e=jt(13,n,t,s),e.elementType=Ql,e.lanes=a,e;case Yl:return e=jt(19,n,t,s),e.elementType=Yl,e.lanes=a,e;case Np:return _a(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jp:l=10;break e;case Tp:l=9;break e;case hc:l=11;break e;case fc:l=14;break e;case wn:l=16,i=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=jt(l,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function lr(e,t,n,i){return e=jt(7,e,i,t),e.lanes=n,e}function _a(e,t,n,i){return e=jt(22,e,i,t),e.elementType=Np,e.lanes=n,e.stateNode={isHidden:!1},e}function Il(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Ml(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nw(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,i,s,a,l,d,h){return e=new nw(e,t,n,d,h),t===1?(t=1,a===!0&&(t|=8)):t=0,a=jt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(a),e}function rw(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function _g(e){if(!e)return Bn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(lt(n))return _m(e,n,t)}return t}function wg(e,t,n,i,s,a,l,d,h){return e=Kc(n,i,!0,e,s,a,l,d,h),e.context=_g(null),n=e.current,i=et(),s=In(n),a=un(i,s),a.callback=t??null,Rn(n,a,s),e.current.lanes=s,Ts(e,s,i),ut(e,i),e}function wa(e,t,n,i){var s=t.current,a=et(),l=In(s);return n=_g(n),t.context===null?t.context=n:t.pendingContext=n,t=un(a,l),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Rn(s,t,l),e!==null&&($t(e,s,l,a),jo(e,s,l)),l}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gc(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function iw(){return null}var xg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}xa.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));wa(e,t,null,null)};xa.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){wa(null,e,null,null)}),t[dn]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&em(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function sw(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var m=ra(l);a.call(m)}}var l=wg(t,i,e,0,null,!1,!1,"",Tf);return e._reactRootContainer=l,e[dn]=l.current,us(e.nodeType===8?e.parentNode:e),fr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var d=i;i=function(){var m=ra(h);d.call(m)}}var h=Kc(e,0,!1,null,null,!1,!1,"",Tf);return e._reactRootContainer=h,e[dn]=h.current,us(e.nodeType===8?e.parentNode:e),fr(function(){wa(t,h,n,i)}),h}function Sa(e,t,n,i,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var d=s;s=function(){var h=ra(l);d.call(h)}}wa(t,l,e,s)}else l=sw(n,t,e,s,i);return ra(l)}Jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(gc(t,n|1),ut(t,Ee()),!(se&6)&&(ci=Ee()+500,Fn()))}break;case 13:fr(function(){var i=hn(e,1);if(i!==null){var s=et();$t(i,e,1,s)}}),Gc(e,1)}};vc=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=et();$t(t,e,134217728,n)}Gc(e,134217728)}};Qp=function(e){if(e.tag===13){var t=In(e),n=hn(e,t);if(n!==null){var i=et();$t(n,e,t,i)}Gc(e,t)}};Yp=function(){return le};Xp=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};lu=function(e,t,n){switch(t){case"input":if(tu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=fa(i);if(!s)throw Error(D(90));Cp(i),tu(i,s)}}}break;case"textarea":Op(e,n);break;case"select":t=n.value,t!=null&&Jr(e,!!n.multiple,t,!1)}};Bp=Hc;Up=fr;var ow={usingClientEntryPoint:!1,Events:[Ps,Fr,fa,Dp,zp,Hc]},Di={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aw={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wp(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{ua=mo.inject(aw),Jt=mo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(t))throw Error(D(200));return rw(e,t,null,n)};yt.createRoot=function(e,t){if(!Qc(e))throw Error(D(299));var n=!1,i="",s=xg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kc(e,1,!1,null,null,n,!1,i,s),e[dn]=t.current,us(e.nodeType===8?e.parentNode:e),new Jc(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Wp(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return fr(e)};yt.hydrate=function(e,t,n){if(!ba(t))throw Error(D(200));return Sa(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",l=xg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=wg(t,null,e,1,n??null,s,!1,a,l),e[dn]=t.current,us(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xa(t)};yt.render=function(e,t,n){if(!ba(t))throw Error(D(200));return Sa(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!ba(e))throw Error(D(40));return e._reactRootContainer?(fr(function(){Sa(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};yt.unstable_batchedUpdates=Hc;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ba(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Sa(e,t,n,!1,i)};yt.version="18.3.1-next-f1338f8080-20240426";function bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bg)}catch(e){console.error(e)}}bg(),bp.exports=yt;var Sg=bp.exports,Nf=Sg;Kl.createRoot=Nf.createRoot,Kl.hydrateRoot=Nf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ys.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const Pf="popstate";function lw(e){e===void 0&&(e={});function t(i,s){let{pathname:a,search:l,hash:d}=i.location;return $u("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ia(s)}return cw(t,n,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uw(){return Math.random().toString(36).substr(2,8)}function Cf(e,t){return{usr:e.state,key:e.key,idx:t}}function $u(e,t,n,i){return n===void 0&&(n=null),ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pi(t):t,{state:n,key:t&&t.key||i||uw()})}function ia(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function pi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function cw(e,t,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,d=Nn.Pop,h=null,m=g();m==null&&(m=0,l.replaceState(ys({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function _(){d=Nn.Pop;let O=g(),b=O==null?null:O-m;m=O,h&&h({action:d,location:E.location,delta:b})}function w(O,b){d=Nn.Push;let y=$u(E.location,O,b);m=g()+1;let x=Cf(y,m),N=E.createHref(y);try{l.pushState(x,"",N)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(N)}a&&h&&h({action:d,location:E.location,delta:1})}function S(O,b){d=Nn.Replace;let y=$u(E.location,O,b);m=g();let x=Cf(y,m),N=E.createHref(y);l.replaceState(x,"",N),a&&h&&h({action:d,location:E.location,delta:0})}function j(O){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof O=="string"?O:ia(O);return y=y.replace(/ $/,"%20"),Ce(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let E={get action(){return d},get location(){return e(s,l)},listen(O){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Pf,_),h=O,()=>{s.removeEventListener(Pf,_),h=null}},createHref(O){return t(s,O)},createURL:j,encodeLocation(O){let b=j(O);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:w,replace:S,go(O){return l.go(O)}};return E}var Lf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lf||(Lf={}));function dw(e,t,n){return n===void 0&&(n="/"),hw(e,t,n)}function hw(e,t,n,i){let s=typeof t=="string"?pi(t):t,a=Xc(s.pathname||"/",n);if(a==null)return null;let l=kg(e);fw(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let m=Ew(a);d=bw(l[h],m)}return d}function kg(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ce(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Dn([i,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Ce(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),kg(a.children,t,g,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:ww(m,a.index),routesMeta:g})};return e.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of Eg(a.path))s(a,l,h)}),t}function Eg(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=Eg(i.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function fw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xw(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const pw=/^:[\w-]+$/,mw=3,gw=2,vw=1,yw=10,_w=-2,Of=e=>e==="*";function ww(e,t){let n=e.split("/"),i=n.length;return n.some(Of)&&(i+=_w),t&&(i+=gw),n.filter(s=>!Of(s)).reduce((s,a)=>s+(pw.test(a)?mw:a===""?vw:yw),i)}function xw(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function bw(e,t,n){let{routesMeta:i}=e,s={},a="/",l=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,g=a==="/"?t:t.slice(a.length)||"/",_=Sw({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),w=h.route;if(!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Dn([a,_.pathname]),pathnameBase:Cw(Dn([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=Dn([a,_.pathnameBase]))}return l}function Sw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=kw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,g,_)=>{let{paramName:w,isOptional:S}=g;if(w==="*"){let E=d[_]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const j=d[_];return S&&!j?m[w]=void 0:m[w]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:e}}function kw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Yc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function Ew(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tw=e=>jw.test(e);function Nw(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?pi(e):e,a;if(n)if(Tw(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Yc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=Rf(n.substring(1),"/"):a=Rf(n,t)}else a=t;return{pathname:a,search:Lw(i),hash:Ow(s)}}function Rf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dl(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jg(e,t){let n=Pw(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Tg(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=pi(e):(s=ys({},e),Ce(!s.pathname||!s.pathname.includes("?"),Dl("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),Dl("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),Dl("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let _=t.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}d=_>=0?t[_]:"/"}let h=Nw(s,d),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),Cw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ow=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ng=["post","put","patch","delete"];new Set(Ng);const Aw=["get",...Ng];new Set(Aw);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_s.apply(this,arguments)}const ed=C.createContext(null),Iw=C.createContext(null),gr=C.createContext(null),ka=C.createContext(null),vr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Pg=C.createContext(null);function Mw(e,t){let{relative:n}=t===void 0?{}:t;Ls()||Ce(!1);let{basename:i,navigator:s}=C.useContext(gr),{hash:a,pathname:l,search:d}=Lg(e,{relative:n}),h=l;return i!=="/"&&(h=l==="/"?i:Dn([i,l])),s.createHref({pathname:h,search:d,hash:a})}function Ls(){return C.useContext(ka)!=null}function mi(){return Ls()||Ce(!1),C.useContext(ka).location}function Cg(e){C.useContext(gr).static||C.useLayoutEffect(e)}function Wn(){let{isDataRoute:e}=C.useContext(vr);return e?Gw():Dw()}function Dw(){Ls()||Ce(!1);let e=C.useContext(ed),{basename:t,future:n,navigator:i}=C.useContext(gr),{matches:s}=C.useContext(vr),{pathname:a}=mi(),l=JSON.stringify(jg(s,n.v7_relativeSplatPath)),d=C.useRef(!1);return Cg(()=>{d.current=!0}),C.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let _=Tg(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Dn([t,_.pathname])),(g.replace?i.replace:i.push)(_,g.state,g)},[t,i,l,a,e])}function Lg(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=C.useContext(gr),{matches:s}=C.useContext(vr),{pathname:a}=mi(),l=JSON.stringify(jg(s,i.v7_relativeSplatPath));return C.useMemo(()=>Tg(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function zw(e,t){return Bw(e,t)}function Bw(e,t,n,i){Ls()||Ce(!1);let{navigator:s}=C.useContext(gr),{matches:a}=C.useContext(vr),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=mi(),g;if(t){var _;let O=typeof t=="string"?pi(t):t;h==="/"||(_=O.pathname)!=null&&_.startsWith(h)||Ce(!1),g=O}else g=m;let w=g.pathname||"/",S=w;if(h!=="/"){let O=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let j=dw(e,{pathname:S}),E=Hw(j&&j.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:Dn([h,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:Dn([h,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,i);return t&&E?C.createElement(ka.Provider,{value:{location:_s({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Nn.Pop}},E):E}function Uw(){let e=Kw(),t=Rw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,null)}const $w=C.createElement(Uw,null);class Fw extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(vr.Provider,{value:this.props.routeContext},C.createElement(Pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ww(e){let{routeContext:t,match:n,children:i}=e,s=C.useContext(ed);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(vr.Provider,{value:t},i)}function Hw(e,t,n,i){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(s=n)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);g>=0||Ce(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:S}=n,j=_.route.loader&&w[_.route.id]===void 0&&(!S||S[_.route.id]===void 0);if(_.route.lazy||j){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,_,w)=>{let S,j=!1,E=null,O=null;n&&(S=d&&_.route.id?d[_.route.id]:void 0,E=_.route.errorElement||$w,h&&(m<0&&w===0?(Jw("route-fallback"),j=!0,O=null):m===w&&(j=!0,O=_.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,w+1)),y=()=>{let x;return S?x=E:j?x=O:_.route.Component?x=C.createElement(_.route.Component,null):_.route.element?x=_.route.element:x=g,C.createElement(Ww,{match:_,routeContext:{outlet:g,matches:b,isDataRoute:n!=null},children:x})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?C.createElement(Fw,{location:n.location,revalidation:n.revalidation,component:E,error:S,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var Og=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Og||{}),Rg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rg||{});function qw(e){let t=C.useContext(ed);return t||Ce(!1),t}function Zw(e){let t=C.useContext(Iw);return t||Ce(!1),t}function Vw(e){let t=C.useContext(vr);return t||Ce(!1),t}function Ag(e){let t=Vw(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function Kw(){var e;let t=C.useContext(Pg),n=Zw(),i=Ag();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function Gw(){let{router:e}=qw(Og.UseNavigateStable),t=Ag(Rg.UseNavigateStable),n=C.useRef(!1);return Cg(()=>{n.current=!0}),C.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,_s({fromRouteId:t},a)))},[e,t])}const Af={};function Jw(e,t,n){Af[e]||(Af[e]=!0)}function Qw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rt(e){Ce(!1)}function Yw(e){let{basename:t="/",children:n=null,location:i,navigationType:s=Nn.Pop,navigator:a,static:l=!1,future:d}=e;Ls()&&Ce(!1);let h=t.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:h,navigator:a,static:l,future:_s({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof i=="string"&&(i=pi(i));let{pathname:g="/",search:_="",hash:w="",state:S=null,key:j="default"}=i,E=C.useMemo(()=>{let O=Xc(g,h);return O==null?null:{location:{pathname:O,search:_,hash:w,state:S,key:j},navigationType:s}},[h,g,_,w,S,j,s]);return E==null?null:C.createElement(gr.Provider,{value:m},C.createElement(ka.Provider,{children:n,value:E}))}function Xw(e){let{children:t,location:n}=e;return zw(Fu(t),n)}new Promise(()=>{});function Fu(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(i,s)=>{if(!C.isValidElement(i))return;let a=[...t,s];if(i.type===C.Fragment){n.push.apply(n,Fu(i.props.children,a));return}i.type!==Rt&&Ce(!1),!i.props.index||!i.props.children||Ce(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Fu(i.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wu.apply(this,arguments)}function ex(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function tx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nx(e,t){return e.button===0&&(!t||t==="_self")&&!tx(e)}const rx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ix="6";try{window.__reactRouterVersion=ix}catch{}const sx="startTransition",If=Qy[sx];function ox(e){let{basename:t,children:n,future:i,window:s}=e,a=C.useRef();a.current==null&&(a.current=lw({window:s,v5Compat:!0}));let l=a.current,[d,h]=C.useState({action:l.action,location:l.location}),{v7_startTransition:m}=i||{},g=C.useCallback(_=>{m&&If?If(()=>h(_)):h(_)},[h,m]);return C.useLayoutEffect(()=>l.listen(g),[l,g]),C.useEffect(()=>Qw(i),[i]),C.createElement(Yw,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:i})}const ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=C.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:a,replace:l,state:d,target:h,to:m,preventScrollReset:g,viewTransition:_}=t,w=ex(t,rx),{basename:S}=C.useContext(gr),j,E=!1;if(typeof m=="string"&&lx.test(m)&&(j=m,ax))try{let x=new URL(window.location.href),N=m.startsWith("//")?new URL(x.protocol+m):new URL(m),I=Xc(N.pathname,S);N.origin===x.origin&&I!=null?m=I+N.search+N.hash:E=!0}catch{}let O=Mw(m,{relative:s}),b=ux(m,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:_});function y(x){i&&i(x),x.defaultPrevented||b(x)}return C.createElement("a",Wu({},w,{href:j||O,onClick:E||a?i:y,ref:n,target:h}))});var Mf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mf||(Mf={}));var Df;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Df||(Df={}));function ux(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:l,viewTransition:d}=t===void 0?{}:t,h=Wn(),m=mi(),g=Lg(e,{relative:l});return C.useCallback(_=>{if(nx(_,n)){_.preventDefault();let w=i!==void 0?i:ia(m)===ia(g);h(e,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[m,h,g,i,s,n,e,a,l,d])}function Ea(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function cx(e,t,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(g){try{m(i.next(g))}catch(_){l(_)}}function h(g){try{m(i.throw(g))}catch(_){l(_)}}function m(g){g.done?a(g.value):s(g.value).then(d,h)}m((i=i.apply(e,t||[])).next())})}const dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class td extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class hx extends td{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zf extends td{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bf extends td{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hu||(Hu={}));class fx{constructor(t,{headers:n={},customFetch:i,region:s=Hu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=dx(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cx(this,arguments,void 0,function*(n,i={}){var s;let a,l;try{const{headers:d,method:h,body:m,signal:g,timeout:_}=i;let w={},{region:S}=i;S||(S=this.region);const j=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let E;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=m):typeof m=="string"?(w["Content-Type"]="text/plain",E=m):typeof FormData<"u"&&m instanceof FormData?E=m:(w["Content-Type"]="application/json",E=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?E=JSON.stringify(m):E=m;let O=g;_&&(l=new AbortController,a=setTimeout(()=>l.abort(),_),g?(O=l.signal,g.addEventListener("abort",()=>l.abort())):O=l.signal);const b=yield this.fetch(j.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:E,signal:O}).catch(I=>{throw new hx(I)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new zf(b);if(!b.ok)throw new Bf(b);let x=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return x==="application/json"?N=yield b.json():x==="application/octet-stream"||x==="application/pdf"?N=yield b.blob():x==="text/event-stream"?N=b:x==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(d){return{data:null,error:d,response:d instanceof Bf||d instanceof zf?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var px=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},mx=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,d=null,h=null,m=a.status,g=a.statusText;if(a.ok){var _,w;if(n.method!=="HEAD"){var S;const b=await a.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}const E=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),O=(w=a.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&O&&O.length>1&&(h=parseInt(O[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var j;const E=await a.text();try{l=JSON.parse(E),Array.isArray(l)&&a.status===404&&(d=[],l=null,m=200,g="OK")}catch{a.status===404&&E===""?(m=204,g="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(j=l.details)===null||j===void 0)&&j.includes("0 rows"))&&(l=null,m=200,g="OK"),l&&n.shouldThrowOnError)throw new px(l)}return{error:l,data:d,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var l;let d="";const h=a==null?void 0:a.cause;if(h){var m,g,_,w;const j=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",E=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";d=`${(_=a==null?void 0:a.name)!==null&&_!==void 0?_:"FetchError"}: ${a==null?void 0:a.message}`,d+=`

Caused by: ${(w=h==null?void 0:h.name)!==null&&w!==void 0?w:"Error"}: ${j}`,E&&(d+=` (${E})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var S;d=(S=a==null?void 0:a.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},gx=class extends mx{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${d};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Uf=new RegExp("[,()]");var Ar=class extends gx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Uf.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&Uf.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},vx=class{constructor(e,{headers:t={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",l),i&&h.append("Prefer",`count=${i}`),new Ar({method:s,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:a,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);a.searchParams.set("columns",h.join(","))}}return new Ar({method:s,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const l="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),i&&h.append("Prefer",`count=${i}`),s||h.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(m.length>0){const g=[...new Set(m)].map(_=>`"${_}"`);d.searchParams.set("columns",g.join(","))}}return new Ar({method:l,url:d,headers:h,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Ar({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ar({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},yx=class Ig{constructor(t,{headers:n={},schema:i,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ig(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:s=!1,count:a}={}){var l;let d;const h=new URL(`${this.url}/rpc/${t}`);let m;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),_=i&&Object.values(n).some(g);_?(d="POST",m=n):i||s?(d=i?"HEAD":"GET",Object.entries(n).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{h.searchParams.append(S,j)})):(d="POST",m=n);const w=new Headers(this.headers);return _?w.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&w.set("Prefer",`count=${a}`),new Ar({method:d,url:h,headers:w,schema:this.schemaName,body:m,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class _x{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wx="2.90.1",xx=`realtime-js/${wx}`,Mg="1.0.0",bx="2.0.0",$f=Mg,qu=1e4,Sx=1e3,kx=100;var bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bn||(bn={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zt||(zt={}));var Zu;(function(e){e.websocket="websocket"})(Zu||(Zu={}));var tr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tr||(tr={}));class Ex{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,i){var s,a;const l=t.topic,d=(s=t.ref)!==null&&s!==void 0?s:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},_=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+l.length+m.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let j=new DataView(S),E=0;j.setUint8(E++,this.KINDS.userBroadcastPush),j.setUint8(E++,h.length),j.setUint8(E++,d.length),j.setUint8(E++,l.length),j.setUint8(E++,m.length),j.setUint8(E++,_.length),j.setUint8(E++,n),Array.from(h,b=>j.setUint8(E++,b.charCodeAt(0))),Array.from(d,b=>j.setUint8(E++,b.charCodeAt(0))),Array.from(l,b=>j.setUint8(E++,b.charCodeAt(0))),Array.from(m,b=>j.setUint8(E++,b.charCodeAt(0))),Array.from(_,b=>j.setUint8(E++,b.charCodeAt(0)));var O=new Uint8Array(S.byteLength+i.byteLength);return O.set(new Uint8Array(S),0),O.set(new Uint8Array(i),S.byteLength),O.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,a,l,d,h]=i;return n({join_ref:s,ref:a,topic:l,event:d,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(t.slice(h,h+s));h=h+s;const g=i.decode(t.slice(h,h+a));h=h+a;const _=i.decode(t.slice(h,h+l));h=h+l;const w=t.slice(h,t.byteLength),S=d===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,j={type:this.BROADCAST_EVENT,event:g,payload:S};return l>0&&(j.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}class Dg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const Ff=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=jx(l,e,t,s),a),{}):{}},jx=(e,t,n,i)=>{const s=t.find(d=>d.name===e),a=s==null?void 0:s.type,l=n[e];return a&&!i.includes(a)?zg(a,l):Vu(l)},zg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Cx(t,n)}switch(e){case he.bool:return Tx(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return Nx(t);case he.json:case he.jsonb:return Px(t);case he.timestamp:return Lx(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Vu(t);default:return Vu(t)}},Vu=e=>e,Tx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Px=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cx=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(d=>zg(t,d))}return e},Lx=e=>typeof e=="string"?e.replace(" ","T"):e,Bg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class zl{constructor(t,n,i={},s=qu){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Wf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Wf||(Wf={}));class Xi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,s,a,l),this.pendingDiffs.forEach(h=>{this.state=Xi.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xi.syncDiff(this.state,s,a,l),d())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const a=this.cloneDeep(t),l=this.transformState(n),d={},h={};return this.map(a,(m,g)=>{l[m]||(h[m]=g)}),this.map(l,(m,g)=>{const _=a[m];if(_){const w=g.map(O=>O.presence_ref),S=_.map(O=>O.presence_ref),j=g.filter(O=>S.indexOf(O.presence_ref)<0),E=_.filter(O=>w.indexOf(O.presence_ref)<0);j.length>0&&(d[m]=j),E.length>0&&(h[m]=E)}else d[m]=g}),this.syncDiff(a,{joins:d,leaves:h},i,s)}static syncDiff(t,n,i,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(d,h)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),g.length>0){const _=t[d].map(S=>S.presence_ref),w=g.filter(S=>_.indexOf(S.presence_ref)<0);t[d].unshift(...w)}i(d,g,h)}),this.map(l,(d,h)=>{let m=t[d];if(!m)return;const g=h.map(_=>_.presence_ref);m=m.filter(_=>g.indexOf(_.presence_ref)<0),t[d]=m,s(d,m,h),m.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hf||(Hf={}));var es;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(es||(es={}));var sn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));class Gr{constructor(t,n={config:{}},i){var s,a;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zl(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Dg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Xi(this),this.broadcastEndpointURL=Bg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:l,presence:d,private:h}}=this.params,m=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},w={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(sn.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(sn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t(sn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(j=E==null?void 0:E.length)!==null&&j!==void 0?j:0,b=[];for(let y=0;y<O;y++){const x=E[y],{filter:{event:N,schema:I,table:M,filter:z}}=x,F=S&&S[y];if(F&&F.event===N&&Gr.isFilterValueEqual(F.schema,I)&&Gr.isFilterValueEqual(F.table,M)&&Gr.isFilterValueEqual(F.filter,z))b.push(Object.assign(Object.assign({},x),{id:F.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(sn.SUBSCRIBED);return}}).receive("error",S=>{this.state=Oe.errored,t==null||t(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Oe.joined&&t===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,d,h;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new zl(this,zt.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new zl(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,a;const l=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=zt;if(i&&[d,h,m,g].indexOf(l)>=0&&i!==this._joinRef())return;let w=this._onMessage(l,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var j,E,O;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((O=(E=S.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===l}).map(S=>S.callback(w,i)):(a=this.bindings[l])===null||a===void 0||a.filter(S=>{var j,E,O,b,y,x,N,I;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in S){const M=S.id,z=(j=S.filter)===null||j===void 0?void 0:j.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((b=S.filter)===null||b===void 0)&&b.table)||S.filter.table===((y=n.data)===null||y===void 0?void 0:y.table))}else{const M=(N=(x=S==null?void 0:S.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return M==="*"||M===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===l}).map(S=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:E,table:O,commit_timestamp:b,type:y,errors:x}=j;w=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:b,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(j))}S.callback(w,i)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Gr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zt.close,{},t)}_onError(t){this._on(zt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ff(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ff(t.columns,t.old_record)),n}}const Bl=()=>{},go={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ox=[1e3,2e3,5e3,1e4],Rx=1e4,Ax=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ix{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qu,this.transport=null,this.heartbeatIntervalMs=go.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=$f,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new Ex,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Zu.websocket}`,this.httpEndpoint=Bg(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_x.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return tr.Connecting;case bn.open:return tr.Open;case bn.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Gr(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:s,ref:a}=t,l=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},go.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:a,ref:l}=n,d=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${s} ${d}`.trim(),a),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bn.open||this.conn.readyState===bn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Ax],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:xx};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(zt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Dg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},go.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,a,l,d,h,m,g,_,w,S;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:qu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:go.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Bl,this.vsn=(h=t==null?void 0:t.vsn)!==null&&h!==void 0?h:$f,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:j=>Ox[j-1]||Rx,this.vsn){case Mg:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:(j,E)=>E(JSON.stringify(j)),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:(j,E)=>E(JSON.parse(j));break;case bx:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ws=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mx(e,t,n){const i=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&i.searchParams.set(s,a);return i.toString()}async function Dx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function zx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:a,headers:l}){const d=Mx(e.baseUrl,i,s),h=await Dx(e.auth),m=await t(d,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...h,...l},body:a?JSON.stringify(a):void 0}),g=await m.text(),_=(m.headers.get("content-type")||"").includes("application/json"),w=_&&g?JSON.parse(g):g;if(!m.ok){const S=_?w:void 0,j=S==null?void 0:S.error;throw new ws((j==null?void 0:j.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:S})}return{status:m.status,headers:m.headers,data:w}}}}function vo(e){return e.join("")}var Bx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vo(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vo(e.namespace)}`}),!0}catch(t){if(t instanceof ws&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ws&&n.status===409)return;throw n}}};function Nr(e){return e.join("")}var Ux=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ws&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ws&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},$x=class{constructor(e){var i;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=zx({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(i=e.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Bx(this.client,t),this.tableOps=new Ux(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ja=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Fx=class extends ja{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ku=class extends ja{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const nd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wx=()=>Response,Gu=e=>{if(Array.isArray(e))return e.map(n=>Gu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Gu(i)}),t},Hx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Zx(e,t){if(xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(xs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vx(e){var t=Zx(e,"string");return xs(t)=="symbol"?t:t+""}function Kx(e,t,n){return(t=Vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qf(Object(n),!0).forEach(function(i){Kx(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const Ul=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Gx=async(e,t,n)=>{e instanceof await Wx()&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Fx(Ul(i),s,a))}).catch(i=>{t(new Ku(Ul(i),i))}):t(new Ku(Ul(e),e))},Jx=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?s:(Hx(i)?(s.headers=Z({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,t!=null&&t.duplex&&(s.duplex=t.duplex),Z(Z({},s),n))};async function Os(e,t,n,i,s,a){return new Promise((l,d)=>{e(n,Jx(t,i,s,a)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>Gx(h,d,i))})}async function bs(e,t,n,i){return Os(e,"GET",t,n,i)}async function Mt(e,t,n,i,s){return Os(e,"POST",t,i,s,n)}async function Ju(e,t,n,i,s){return Os(e,"PUT",t,i,s,n)}async function Qx(e,t,n,i){return Os(e,"HEAD",t,Z(Z({},n),{},{noResolveJson:!0}),i)}async function rd(e,t,n,i,s){return Os(e,"DELETE",t,i,s,n)}var Yx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};let Ug;Ug=Symbol.toStringTag;var Xx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ug]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};const eb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tb=class{constructor(e,t={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=nd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,i){var s=this;try{let a;const l=Z(Z({},Zf),i);let d=Z(Z({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",s.encodeMetadata(h)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),h&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(h))):(a=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,h&&(d["x-metadata"]=s.toBase64(s.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(d=Z(Z({},d),i.headers));const m=s._removeEmptyFolders(t),g=s._getFinalPath(m),_=await(e=="PUT"?Ju:Mt)(s.fetch,`${s.url}/object/${g}`,a,Z({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const a=s._removeEmptyFolders(e),l=s._getFinalPath(a),d=new URL(s.url+`/object/upload/sign/${l}`);d.searchParams.set("token",t);try{let h;const m=Z({upsert:Zf.upsert},i),g=Z(Z({},s.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:a,fullPath:(await Ju(s.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(s.shouldThrowOnError)throw h;if(ye(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var n=this;try{let i=n._getFinalPath(e);const s=Z({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Mt(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+a.url),d=l.searchParams.get("token");if(!d)throw new ja("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;try{return{data:await Mt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async copy(e,t,n){var i=this;try{return{data:{path:(await Mt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var i=this;try{let s=i._getFinalPath(e),a=await Mt(i.fetch,`${i.url}/object/sign/${s}`,Z({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${i.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var i=this;try{const s=await Mt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Z(Z({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>bs(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Xx(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Gu(await bs(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Qx(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ye(i)&&i instanceof Ku){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}async remove(e){var t=this;try{return{data:await rd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async list(e,t,n){var i=this;try{const s=Z(Z(Z({},eb),t),{},{prefix:e||""});return{data:await Mt(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const i=Z({},e);return{data:await Mt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $g="2.90.1",Fg={"X-Client-Info":`storage-js/${$g}`};var nb=class{constructor(e,t={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Z(Z({},Fg),t),this.fetch=nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await bs(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await bs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var n=this;try{return{data:await Ju(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await rd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},rb=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},Fg),t),this.fetch=nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await bs(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await rd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!qx(e))throw new ja("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new $x({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const l=s[a];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(s,d),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const id={"X-Client-Info":`storage-js/${$g}`,"Content-Type":"application/json"};var Wg=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ft(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var $l=class extends Wg{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ib=class extends Wg{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const sd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ob=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new $l(Vf(a),i,l))}).catch(()=>{const a=i+"";t(new $l(s.statusText||`HTTP ${i} error`,i,a))});else{const a=i+"";t(new $l(s.statusText||`HTTP ${i} error`,i,a))}}else t(new ib(Vf(e),e))},ab=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(sb(i)?(s.headers=Z({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,Z(Z({},s),n)):s};async function lb(e,t,n,i,s,a){return new Promise((l,d)=>{e(n,ab(t,i,s,a)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>ob(h,d,i))})}async function pt(e,t,n,i,s){return lb(e,"POST",t,i,s,n)}var ub=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},id),t),this.fetch=sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await pt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await pt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}},cb=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},id),t),this.fetch=sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await pt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await pt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await pt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}},db=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},id),t),this.fetch=sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await pt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await pt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}},hb=class extends db{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new fb(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},fb=class extends ub{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new pb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},pb=class extends cb{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Z(Z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},mb=class extends nb{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new tb(this.url,this.headers,e,this.fetch)}get vectors(){return new hb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rb(this.url+"/iceberg",this.headers,this.fetch)}};const Hg="2.90.1",Ir=30*1e3,Qu=3,Fl=Qu*Ir,gb="http://localhost:9999",vb="supabase.auth.token",yb={"X-Client-Info":`gotrue-js/${Hg}`},Yu="X-Supabase-Api-Version",qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wb=10*60*1e3;class Ss extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xb extends Ss{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function bb(e){return W(e)&&e.name==="AuthApiError"}class nr extends Ss{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mn extends Ss{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class dt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sb(e){return W(e)&&e.name==="AuthSessionMissingError"}class Pr extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yo extends mn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _o extends mn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kb(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kf extends mn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eb extends mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xu extends mn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wl(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Gf extends mn{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ec extends mn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jf=` 	
\r=`.split(""),jb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jf.length;t+=1)e[Jf[t].charCodeAt(0)]=-2;for(let t=0;t<sa.length;t+=1)e[sa[t].charCodeAt(0)]=t;return e})();function Qf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(sa[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(sa[i]),t.queuedBits-=6}}function Zg(e,t,n){const i=jb[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yf(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{Pb(l,i,n)};for(let l=0;l<e.length;l+=1)Zg(e.charCodeAt(l),s,a);return t.join("")}function Tb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nb(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Tb(i,t)}}function Pb(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ni(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Zg(e.charCodeAt(s),n,i);return new Uint8Array(t)}function Cb(e){const t=[];return Nb(e,n=>t.push(n)),new Uint8Array(t)}function or(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>Qf(s,n,i)),Qf(null,n,i),t.join("")}function Lb(e){return Math.round(Date.now()/1e3)+e}function Ob(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},Vg=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function Rb(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const Kg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ab=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$e=async(e,t)=>{await e.removeItem(t)};class Ta{constructor(){this.promise=new Ta.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ta.promiseConstructor=Promise;function Hl(e){const t=e.split(".");if(t.length!==3)throw new ec("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!_b.test(t[i]))throw new ec("JWT not in base64url format");return{header:JSON.parse(Yf(t[0])),payload:JSON.parse(Yf(t[1])),signature:ni(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ib(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mb(e,t){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){i(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function Db(e){return("0"+e.toString(16)).substr(-2)}function zb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,Db).join("")}async function Bb(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Ub(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Bb(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(e,t,n=!1){const i=zb();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Mr(e,`${t}-code-verifier`,s);const a=await Ub(i);return[a,i===a?"plain":"s256"]}const $b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fb(e){const t=e.headers.get(Yu);if(!t||!t.match($b))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Hb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(e){if(!qb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ql(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zb(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function Xf(e){return JSON.parse(JSON.stringify(e))}const er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vb=[502,503,504];async function ep(e){var t;if(!Ab(e))throw new Xu(er(e),0);if(Vb.includes(e.status))throw new Xu(er(e),e.status);let n;try{n=await e.json()}catch(a){throw new nr(er(a),a)}let i;const s=Fb(e);if(s&&s.getTime()>=qg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Gf(er(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Gf(er(n),e.status,n.weak_password.reasons);throw new xb(er(n),e.status||500,i)}const Kb=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function q(e,t,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[Yu]||(a[Yu]=qg["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await Gb(e,t,n+d,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function Gb(e,t,n,i,s,a){const l=Kb(t,i,s,a);let d;try{d=await e(n,Object.assign({},l))}catch(h){throw console.error(h),new Xu(er(h),0)}if(d.ok||await ep(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await ep(h)}}function At(e){var t;let n=null;Yb(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Lb(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function tp(e){const t=At(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function En(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Jb(e){return{data:e,error:null}}function Qb(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=e,l=Ea(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},h=Object.assign({},l);return{data:{properties:d,user:h},error:null}}function np(e){return e}function Yb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zl=["global","local","others"];class Xb{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Kg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zl[0]){if(Zl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zl.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:En})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Ea(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:En})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,a,l,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:np});if(g.error)throw g.error;const _=await g.json(),w=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);m[`${O}Page`]=E}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(W(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Lr(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:En})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Lr(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:En})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Lr(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:En})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Lr(t.userId);try{const{data:n,error:i}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Lr(t.userId),Lr(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,a,l,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:np});if(g.error)throw g.error;const _=await g.json(),w=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);m[`${O}Page`]=E}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(W(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}}function rp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Or={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eS extends Gg{}async function tS(e,t,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Or.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function nS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rS(e){return parseInt(e,16)}function iS(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function sS(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:d,requestId:h,resources:m,scheme:g,uri:_,version:w}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const S=Jg(e.address),j=g?`${g}://${i}`:i,E=e.statement?`${e.statement}
`:"",O=`${j} wants you to sign in with your Ethereum account:
${S}

${E}`;let b=`URI: ${_}
Version: ${w}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),d&&(b+=`
Not Before: ${d.toISOString()}`),h&&(b+=`
Request ID: ${h}`),m){let y=`
Resources:`;for(const x of m){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}b+=y}return`${O}
${b}`}class Ne extends Error{constructor({message:t,code:n,cause:i,name:s}){var a;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class oa extends Ne{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function oS({error:e,options:t}){var n,i,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Qg(l)){if(a.rp.id!==l)return new Ne({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aS({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Qg(i)){if(n.rpId!==i)return new Ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uS=new lS;function cS(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Ea(e,["challenge","user","excludeCredentials"]),a=ni(t).buffer,l=Object.assign(Object.assign({},n),{id:ni(n.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ni(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function dS(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Ea(e,["challenge","allowCredentials"]),s=ni(t).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},d),{id:ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function hS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:or(new Uint8Array(e.response.attestationObject)),clientDataJSON:or(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ip(){var e,t;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pS(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",t)}:{data:null,error:new oa("Empty credential response",t)}}catch(t){return{data:null,error:oS({error:t,options:e})}}}async function mS(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",t)}:{data:null,error:new oa("Empty credential response",t)}}catch(t){return{data:null,error:aS({error:t,options:e})}}}const gS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function aa(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(n(l))i[a]=l;else if(t(l)){const d=i[a];t(d)?i[a]=aa(d,l):i[a]=aa(l)}else i[a]=l}return i}function yS(e,t){return aa(gS,e,t||{})}function _S(e,t){return aa(vS,e,t||{})}class wS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},a){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const h=s??uS.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=yS(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:_}=await pS({publicKey:m,signal:h});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}case"request":{const m=_S(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:_}=await mS(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}}}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!ip())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:d};const{webauthn:h}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!ip())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var _;return(_=g.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(l){return W(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in register",l)}}}}nS();const xS={url:gb,storageKey:vb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sp(e,t,n){return await n()}const Rr={};class ks{get jwks(){var t,n;return(n=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},xS),t);if(this.storageKey=a.storageKey,this.instanceID=(n=ks.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ks.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Fe()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Xb({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Kg(a.fetch),this.lock=a.lock||sp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Fe()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=tS:this.lock=sp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rp(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rp(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hg}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(Fe()&&(n=Rb(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Fe()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kb(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?this._returnResult({error:n}):this._returnResult({error:new nr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:At}),{data:l,error:d}=a;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const h=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,i,s;try{let a;if("email"in t){const{email:g,password:_,options:w}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Cr(this.storage,this.storageKey)),a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:_,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:j},xform:At})}else if("phone"in t){const{phone:g,password:_,options:w}=t;a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:At})}else throw new yo("You must provide either an email or phone number and a password");const{data:l,error:d}=a;if(d||!l)return await $e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:d}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tp})}else if("phone"in t){const{phone:a,password:l,options:d}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tp})}else throw new yo("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new Pr;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,a,l,d,h,m,g,_,w;let S,j;if("message"in t)S=t.message,j=t.signature;else{const{chain:E,wallet:O,statement:b,options:y}=t;let x;if(Fe())if(typeof O=="object")x=O;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")x=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=O}const N=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),I=await x.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Jg(I[0]);let z=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!z){const ne=await x.request({method:"eth_chainId"});z=rS(ne)}const F={domain:N.host,address:M,statement:b,uri:N.href,version:"1",chainId:z,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=y==null?void 0:y.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=y==null?void 0:y.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=y==null?void 0:y.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=sS(F),j=await x.request({method:"personal_sign",params:[iS(S),M]})}try{const{data:E,error:O}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:At});if(O)throw O;if(!E||!E.session||!E.user){const b=new Pr;return this._returnResult({data:{user:null,session:null},error:b})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(W(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,i,s,a,l,d,h,m,g,_,w,S;let j,E;if("message"in t)j=t.message,E=t.signature;else{const{chain:O,wallet:b,statement:y,options:x}=t;let N;if(Fe())if(typeof b=="object")N=b;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))N=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const I=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const M=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),y?{statement:y}:null));let z;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")z=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)z=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)j=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${I.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(s=(i=x==null?void 0:x.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((m=x==null?void 0:x.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((_=(g=x==null?void 0:x.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...x.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const M=await N.signMessage(new TextEncoder().encode(j),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:O,error:b}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:or(E)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:At});if(b)throw b;if(!O||!O.session||!O.user){const y=new Pr;return this._returnResult({data:{user:null,session:null},error:y})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:b})}catch(O){if(W(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(t){const n=await Qn(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Eb;const{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:At});if(await $e(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const d=new Pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:a,nonce:l}=t,d=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Pr;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,a,l;try{if("email"in t){const{email:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Cr(this.storage,this.storageKey));const{error:_}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:g}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new yo("You must provide either an email or phone number.")}catch(d){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,i;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:d}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:At});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,m=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,a,l;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Cr(this.storage,this.storageKey));const m=await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Jb});return!((a=m.data)===null||a===void 0)&&a.url&&Fe()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new dt;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(W(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:l}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:i,type:s,options:a}=t,{data:l,error:d}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new yo("You must provide either an email or phone number and a type")}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const l=await Qn(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=ql()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Zb(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:En}):await this._useSession(async n=>{var i,s,a;const{data:l,error:d}=n;if(d)throw d;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:En})})}catch(n){if(W(n))return Sb(n)&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new dt;const l=s.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Cr(this.storage,this.storageKey));const{data:m,error:g}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:l.access_token,xform:En});if(g)throw g;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dt;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:l}=Hl(t.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new dt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Fe())throw new _o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _o("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kf("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:d,expires_at:h,token_type:m}=t;if(!a||!d||!l||!m)throw new _o("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(d);let w=g+_;h&&(w=parseInt(h));const S=w-g;S*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const j=w-_;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,g);const{data:E,error:O}=await this._getUser(a);if(O)throw O;const b={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:_,expires_at:w,refresh_token:l,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Qn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(bb(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Ob(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Cr(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var l,d,h,m,g;const{data:_,error:w}=a;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Fe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(W(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:d,token:h,access_token:m,nonce:g}=t,_=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:At}),{data:w,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Pr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(s){if(await $e(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)throw l;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Mb(async s=>(s>0&&await Ib(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:At})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Wl(a)&&Date.now()+l-i<Ir})}catch(i){if(this._debug(n,"error",i),W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Fe()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Qn(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Mr(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:ql()}else if(s&&!s.user&&!s.user){const l=await Qn(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await $e(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,s)):s.user=ql()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fl;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Fl}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Wl(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(s.access_token);!d&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ta;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new dt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),W(a)){const l={data:null,error:a};return Wl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $e(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Xf(s);await Mr(this.storage,this.storageKey,a)}else{const s=Xf(n);await Mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $e(this.storage,this.storageKey),await $e(this.storage,this.storageKey+"-code-verifier"),await $e(this.storage,this.storageKey+"-user"),this.userStorage&&await $e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Qu} ticks`),s<=Qu&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await Cr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await q(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hS(t.webauthn.credential_response):fS(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:cS(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:dS(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Hl(i.access_token);let l=null;a.aal&&(l=a.aal);let d=l;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const m=a.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new dt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new dt});const l=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new dt});const l=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new dt})})}catch(t){if(W(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(d=>d.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+wb>s)return i;const{data:a,error:l}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});i=S.session.access_token}const{header:s,payload:a,signature:l,raw:{header:d,payload:h}}=Hl(i);n!=null&&n.allowExpired||Wb(a.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:a,header:s,signature:l},error:null}}const g=Hb(s.alg),_=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,l,Cb(`${d}.${h}`)))throw new ec("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}}ks.nextInstanceID={};const bS=ks,SS="2.90.1";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const kS={"X-Client-Info":`supabase-js-${Fi}/${SS}`},ES={headers:kS},jS={schema:"public"},TS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NS={};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function PS(e,t){if(Es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Es(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CS(e){var t=PS(e,"string");return Es(t)=="symbol"?t:t+""}function LS(e,t,n){return(t=CS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?op(Object(n),!0).forEach(function(i){LS(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const OS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RS=()=>Headers,AS=(e,t,n)=>{const i=OS(n),s=RS();return async(a,l)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let m=new s(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(a,be(be({},l),{},{headers:m}))}};function IS(e){return e.endsWith("/")?e:e+"/"}function MS(e,t){var n,i;const{db:s,auth:a,realtime:l,global:d}=e,{db:h,auth:m,realtime:g,global:_}=t,w={db:be(be({},h),s),auth:be(be({},m),a),realtime:be(be({},g),l),storage:{},global:be(be(be({},_),d),{},{headers:be(be({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function DS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zS=class extends bS{constructor(e){super(e)}},BS=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const a=DS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:jS,realtime:NS,auth:be(be({},TS),{},{storageKey:l}),global:ES},h=MS(n??{},d);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=AS(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new yx(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new mb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new fx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:d,debug:h,throwOnError:m},g,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zS({url:this.authUrl.href,headers:be(be({},w),g),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:d,debug:h,throwOnError:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ix(this.realtimeUrl.href,be(be({},e),{},{params:be(be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const US=(e,t,n)=>new BS(e,t,n);function $S(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}$S()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vl="https://luzbesnqjlulbqnvsfqe.supabase.co",ap="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1emJlc25xamx1bGJxbnZzZnFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0NDEzODksImV4cCI6MjA4NDAxNzM4OX0.Eq5qvHEGu2njZO6AnkSf8yeb-YZ0w1cu4jHT8l4Rv20";let Ke=null;try{Vl&&ap&&!Vl.includes("placeholder")?Ke=US(Vl,ap):Ke={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({data:null,error:{message:"Supabase not configured"}}),signUp:async()=>({data:null,error:{message:"Supabase not configured"}}),signOut:async()=>({error:null})}}}catch(e){console.warn("Supabase initialization error:",e),Ke={auth:{getSession:async()=>({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithPassword:async()=>({data:null,error:{message:"Supabase not configured"}}),signUp:async()=>({data:null,error:{message:"Supabase not configured"}}),signOut:async()=>({error:null})}}}const Yg=C.createContext({}),FS=()=>{const e=C.useContext(Yg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},WS=({children:e})=>{const[t,n]=C.useState(null),[i,s]=C.useState(!0);C.useEffect(()=>{if(Ke&&Ke.auth){Ke.auth.getSession().then(({data:{session:d}})=>{n((d==null?void 0:d.user)??null),s(!1)}).catch(d=>{console.warn("Auth session error:",d),n(null),s(!1)});const{data:{subscription:l}}=Ke.auth.onAuthStateChange((d,h)=>{n((h==null?void 0:h.user)??null),s(!1)});return()=>{l&&l.unsubscribe()}}else s(!1)},[]);const a={user:t,loading:i,signIn:async(l,d)=>{if(!Ke||!Ke.auth)throw new Error("Supabase is not configured");const{data:h,error:m}=await Ke.auth.signInWithPassword({email:l,password:d});if(m)throw m;return h},signUp:async(l,d)=>{if(!Ke||!Ke.auth)throw new Error("Supabase is not configured");const{data:h,error:m}=await Ke.auth.signUp({email:l,password:d});if(m)throw m;return h},signOut:async()=>{if(!Ke||!Ke.auth)return;const{error:l}=await Ke.auth.signOut();if(l)throw l}};return c.jsx(Yg.Provider,{value:a,children:e})},Xg=C.createContext({}),ct=()=>{const e=C.useContext(Xg);if(!e)throw new Error("useData must be used within a DataProvider");return e},HS=({children:e})=>{const[t,n]=C.useState([]),[i,s]=C.useState([]),[a,l]=C.useState([]),[d,h]=C.useState([]),[m,g]=C.useState(!1);C.useEffect(()=>{const y=localStorage.getItem("bloodRequests"),x=localStorage.getItem("donors"),N=localStorage.getItem("hospitals"),I=localStorage.getItem("emergencies");y&&n(JSON.parse(y)),x&&s(JSON.parse(x)),N&&l(JSON.parse(N)),I&&h(JSON.parse(I))},[]),C.useEffect(()=>{localStorage.setItem("bloodRequests",JSON.stringify(t))},[t]),C.useEffect(()=>{localStorage.setItem("donors",JSON.stringify(i))},[i]),C.useEffect(()=>{localStorage.setItem("hospitals",JSON.stringify(a))},[a]),C.useEffect(()=>{localStorage.setItem("emergencies",JSON.stringify(d))},[d]);const b={bloodRequests:t,donors:i,hospitals:a,emergencies:d,loading:m,setLoading:g,addBloodRequest:y=>{const x={...y,id:Date.now(),status:"Pending",createdAt:new Date().toISOString()};return n([...t,x]),x},updateBloodRequest:(y,x)=>{n(t.map(N=>N.id===y?{...N,...x}:N))},addDonor:y=>{const x={...y,id:Date.now(),available:!0,registeredAt:new Date().toISOString()};return s([...i,x]),x},updateDonor:(y,x)=>{s(i.map(N=>N.id===y?{...N,...x}:N))},addEmergency:y=>{const x={...y,id:Date.now(),time:new Date().toLocaleString(),createdAt:new Date().toISOString()};return h([...d,x]),x},getStats:()=>({totalRequests:t.length,activeRequests:t.filter(y=>y.status==="Pending").length,fulfilledRequests:t.filter(y=>y.status==="Fulfilled").length,totalDonors:i.length,availableDonors:i.filter(y=>y.available).length,totalEmergencies:d.length,activeEmergencies:d.filter(y=>y.urgency==="Critical").length})};return c.jsx(Xg.Provider,{value:b,children:e})};class qS extends ri.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Something went wrong"}),c.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try again"})]})}):this.props.children}}function ZS(){const{pathname:e}=mi();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const VS=({size:e=32})=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{x:"0",y:"0",width:"32",height:"32",rx:"8",fill:"#E53935"}),c.jsx("path",{d:`M16 22.5s-6.5-4.3-6.5-8.3c0-2.1 1.6-3.7 3.6-3.7\r
             1.4 0 2.6.8 3.2 1.9\r
             .6-1.1 1.8-1.9 3.2-1.9\r
             2 0 3.6 1.6 3.6 3.7\r
             0 4-6.5 8.3-6.5 8.3z`,stroke:"#FFFFFF",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),c.jsx("span",{style:{fontSize:"25px",fontWeight:700,color:"#111111",fontFamily:"Inter, system-ui, sans-serif"},children:"BloodConnect"})]});function KS(){const e=FS(),t=(e==null?void 0:e.user)||null;e!=null&&e.signOut;const n=mi(),i=Wn(),[s,a]=C.useState(!1),l=n.pathname,d=()=>{t?alert("Profile clicked!"):i("/donor-registration")},h=()=>{a(!s),i("/critical-alerts")},m=[{path:"/emergency-dashboard",label:"Emergency Dashboard"},{path:"/donor-registration",label:"Become a Donor"},{path:"/blood-request-portal",label:"Request Blood"},{path:"/live-donor-map",label:"Live Map"},{path:"/hospital-management-center",label:"Hospital Center"}];return c.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Yi,{to:"/",children:c.jsx(VS,{})}),c.jsx("nav",{className:"hidden md:flex gap-1 items-center",children:m.map(g=>{const _=l===g.path||g.path==="/hospital-management-center"&&l.startsWith("/hospital");return c.jsx(Yi,{to:g.path,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${_?"bg-red-600 text-white shadow-md":"text-gray-700 hover:bg-red-50 hover:text-red-600"}`,children:g.label},g.path)})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:h,className:"relative p-2 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 group",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-600 rounded-full animate-pulse"}),c.jsx("span",{className:"hidden md:inline ml-2 group-hover:font-medium",children:"Alerts"})]}),c.jsxs("button",{onClick:d,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 ${t?"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-red-300"}`,children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"hidden md:inline",children:"Profile"})]})]})]}),c.jsx("nav",{className:"md:hidden mt-4 flex flex-wrap gap-2",children:m.map(g=>{const _=l===g.path;return c.jsx(Yi,{to:g.path,className:`text-sm px-3 py-2 rounded transition-all duration-200 ${_?"bg-red-600 text-white":"text-gray-700 hover:bg-red-50 hover:text-red-600"}`,children:g.label},g.path)})})]})})}function GS(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-6xl font-bold text-gray-800 mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),c.jsx(Yi,{to:"/",className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Home"})]})})}function Na(...e){return e.filter(Boolean).join(" ")}function JS({children:e,className:t="",variant:n="primary",size:i="md",disabled:s=!1,onClick:a,type:l="button",...d}){const h={primary:"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white shadow-md hover:shadow-lg",secondary:"bg-white hover:bg-gray-50 active:bg-gray-100 text-gray-700 border border-gray-300",danger:"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white",success:"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white",ghost:"bg-transparent hover:bg-gray-100 active:bg-gray-200 text-gray-700"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},g=s?"opacity-50 cursor-not-allowed pointer-events-none":"transition-all duration-200 ease-in-out transform hover:scale-105 active:scale-95";return c.jsx("button",{type:l,className:Na("rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",h[n],m[i],g,t),onClick:a,disabled:s,...d,children:e})}function Xe({className:e="",...t}){return c.jsx("input",{className:Na("w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",e),...t})}function tc({className:e="",children:t,...n}){return c.jsx("select",{className:Na("w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",e),...n,children:t})}function Ro({className:e="",...t}){return c.jsx("input",{type:"checkbox",className:Na("w-4 h-4 text-blue-600 rounded focus:ring-blue-500",e),...t})}function QS(){const{addBloodRequest:e,addEmergency:t}=ct(),[n,i]=C.useState({patientName:"",bloodType:"",unitsRequired:"",urgencyLevel:"",hospitalName:"",contactNumber:"",emailAddress:"",additionalNotes:"",consent:!1}),[s,a]=C.useState(!1),[l,d]=C.useState(!1),h=async g=>{g.preventDefault(),a(!0);try{const _=e({patientName:n.patientName,bloodType:n.bloodType,quantity:parseInt(n.unitsRequired),urgency:n.urgencyLevel.toLowerCase(),location:n.hospitalName,contact:n.contactNumber,email:n.emailAddress,notes:n.additionalNotes});(n.urgencyLevel==="Urgent"||n.urgencyLevel==="Critical")&&t({bloodType:n.bloodType,location:n.hospitalName,urgency:n.urgencyLevel,quantity:n.unitsRequired}),d(!0),i({patientName:"",bloodType:"",unitsRequired:"",urgencyLevel:"",hospitalName:"",contactNumber:"",emailAddress:"",additionalNotes:"",consent:!1}),setTimeout(()=>d(!1),5e3)}catch(_){console.error("Error submitting request:",_),alert("Failed to submit request. Please try again.")}finally{a(!1)}},m=()=>{i({patientName:"",bloodType:"",unitsRequired:"",urgencyLevel:"",hospitalName:"",contactNumber:"",emailAddress:"",additionalNotes:"",consent:!1})};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-8",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Blood Request Form"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Fill in the details below to submit your blood request. All fields marked with * are required."}),l&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:" Blood request submitted successfully!"}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Patient Information"})]}),c.jsxs("div",{className:"space-y-4 pl-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Name *"}),c.jsx(Xe,{value:n.patientName,onChange:g=>i({...n,patientName:g.target.value}),required:!0,placeholder:"Enter patient's full name"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type Required *"}),c.jsxs(tc,{value:n.bloodType,onChange:g=>i({...n,bloodType:g.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select blood type"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units Required *"}),c.jsx(Xe,{type:"number",min:"1",value:n.unitsRequired,onChange:g=>i({...n,unitsRequired:g.target.value}),required:!0,placeholder:"Number of units"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency Level *"}),c.jsxs(tc,{value:n.urgencyLevel,onChange:g=>i({...n,urgencyLevel:g.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select urgency level"}),c.jsx("option",{value:"Normal",children:"Normal"}),c.jsx("option",{value:"Urgent",children:"Urgent"}),c.jsx("option",{value:"Critical",children:"Critical"})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hospital & Contact Details"})]}),c.jsxs("div",{className:"space-y-4 pl-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hospital Name *"}),c.jsx(Xe,{value:n.hospitalName,onChange:g=>i({...n,hospitalName:g.target.value}),required:!0,placeholder:"Enter hospital or medical facility name"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),c.jsx(Xe,{type:"tel",value:n.contactNumber,onChange:g=>i({...n,contactNumber:g.target.value}),required:!0,placeholder:"Enter contact number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx(Xe,{type:"email",value:n.emailAddress,onChange:g=>i({...n,emailAddress:g.target.value}),required:!0,placeholder:"Enter email address"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes (Optional)"}),c.jsx("textarea",{value:n.additionalNotes,onChange:g=>i({...n,additionalNotes:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"4",placeholder:"Any additional information that might help donors..."})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx(Ro,{checked:n.consent,onChange:g=>i({...n,consent:g.target.checked}),className:"mt-1",required:!0}),c.jsxs("label",{className:"ml-2 text-sm text-gray-700",children:["I consent to share this information with potential donors *",c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your contact details will be shared with verified donors who match your requirements"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("button",{type:"submit",disabled:s,onMouseEnter:g=>{s||g.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105")},onMouseLeave:g=>{g.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105")},className:"flex-1 bg-red-600 hover:bg-red-700 active:bg-red-800 text-white font-semibold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[c.jsx("span",{children:"Submit Blood Request"}),c.jsx("span",{className:`transition-transform duration-200 ${s?"animate-pulse":""}`,children:""})]}),c.jsx("button",{type:"button",onClick:m,onMouseEnter:g=>g.currentTarget.classList.add("bg-gray-100","border-gray-400","scale-105"),onMouseLeave:g=>g.currentTarget.classList.remove("bg-gray-100","border-gray-400","scale-105"),className:"flex-1 bg-white border border-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 transform hover:scale-105 active:scale-95",children:"Clear Form"})]})]}),c.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-blue-600 text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Need Help?"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Our support team is available 24/7 to assist with emergency blood requests and donor coordination."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("button",{onClick:()=>window.open("tel:+1234567890"),onMouseEnter:g=>g.currentTarget.classList.add("bg-blue-700","shadow-lg","scale-105"),onMouseLeave:g=>g.currentTarget.classList.remove("bg-blue-700","shadow-lg","scale-105"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 shadow-md hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Call Emergency Hotline"})]}),c.jsxs("button",{onClick:()=>alert("Live chat support will open in a new window."),onMouseEnter:g=>g.currentTarget.classList.add("bg-gray-200","border-gray-300","scale-105"),onMouseLeave:g=>g.currentTarget.classList.remove("bg-gray-200","border-gray-300","scale-105"),className:"px-4 py-2 bg-gray-100 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-200 active:bg-gray-300 transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Live Chat Support"})]})]})]})]})}function YS({stats:e}){const t=[{label:"Active Requests",value:e.activeRequests||12,icon:"",color:"blue"},{label:"Donors Notified",value:e.activeRequests*20||247,icon:"",color:"orange"},{label:"Responses Received",value:Math.floor(e.activeRequests*20*.36)||89,icon:"",color:"green"},{label:"Avg Response Time",value:"8 min",icon:"",color:"purple"}],n={blue:"bg-blue-50 border-blue-200",orange:"bg-orange-50 border-orange-200",green:"bg-green-50 border-green-200",purple:"bg-purple-50 border-purple-200"};return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((i,s)=>c.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border ${n[i.color]}`,children:[c.jsx("div",{className:"text-3xl mb-3",children:i.icon}),c.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.value}),c.jsx("div",{className:"text-sm text-gray-600",children:i.label})]},s))})}function XS(){const{addEmergency:e}=ct(),[t,n]=C.useState(!1),[i,s]=C.useState(!1),a=async()=>{if(confirm("Are you sure you want to send an emergency broadcast to all compatible donors?")){s(!0);try{e({bloodType:"URGENT",location:"All Areas",urgency:"Critical",message:"Emergency blood request - All donors please respond"}),setTimeout(()=>{alert("Emergency broadcast sent to all nearby donors!"),s(!1)},500)}catch(l){console.error("Error sending broadcast:",l),alert("Failed to send broadcast. Please try again."),s(!1)}}};return c.jsxs("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-lg shadow-lg p-6 md:p-8 text-white transition-all duration-300 transform hover:shadow-xl",children:[c.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[c.jsx("div",{className:`w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center flex-shrink-0 transition-transform duration-300 ${t?"scale-110 rotate-12":""}`,children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-2",children:"Critical Emergency? Use Emergency Broadcast"}),c.jsx("p",{className:"text-red-50 text-sm md:text-base",children:"For life-threatening situations, instantly notify all compatible donors within your selected radius."})]})]}),c.jsxs("button",{onClick:a,disabled:i,onMouseEnter:l=>l.currentTarget.classList.add("bg-green-700","shadow-lg","scale-105"),onMouseLeave:l=>l.currentTarget.classList.remove("bg-green-700","shadow-lg","scale-105"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("span",{className:`transition-transform duration-200 ${i?"animate-spin":""}`,children:""}),c.jsx("span",{children:i?"Broadcasting...":"Show Emergency Broadcast"})]})]})}function ek(){const{getStats:e}=ct(),t=e();return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:[c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-red-600",children:""}),c.jsx("span",{className:"text-red-800 font-medium",children:"Emergency Blood Request System"})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Request Blood Donation"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Connect with nearby compatible donors instantly. Our intelligent matching system broadcasts your request to verified donors in real-time."})]}),c.jsx(YS,{stats:t}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(QS,{})}),c.jsx("div",{children:c.jsx(XS,{})})]})]})})}function tk({currentStep:e,totalSteps:t}){const n=[{number:1,label:"Personal Info"},{number:2,label:"Medical History"},{number:3,label:"Location"},{number:4,label:"Verification"},{number:5,label:"Review"}];return c.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:c.jsx("div",{className:"flex items-center justify-between",children:n.map((i,s)=>c.jsxs("div",{className:"flex items-center flex-1",children:[c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsx("div",{className:`w-12 h-12 md:w-16 md:h-16 rounded-full flex items-center justify-center font-bold text-lg md:text-xl border-2 transition-all duration-300 ${i.number<=e?"bg-red-600 text-white border-red-600 shadow-md scale-110":"bg-white text-gray-400 border-gray-300 hover:border-gray-400"}`,children:i.number}),c.jsx("span",{className:`mt-2 text-xs md:text-sm font-medium transition-colors duration-200 ${i.number<=e?"text-red-600":"text-gray-400"}`,children:i.label})]}),s<n.length-1&&c.jsx("div",{className:`h-1 flex-1 mx-2 md:mx-4 transition-all duration-300 ${i.number<e?"bg-red-600":"bg-gray-300"}`})]},i.number))})})}function nk({data:e,onChange:t}){return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),c.jsx("p",{className:"text-gray-600",children:"Help us identify you and ensure accurate matching with recipients."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx(Xe,{value:e.firstName||"",onChange:n=>t({...e,firstName:n.target.value}),required:!0,placeholder:"Enter your first name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx(Xe,{value:e.lastName||"",onChange:n=>t({...e,lastName:n.target.value}),required:!0,placeholder:"Enter your last name"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx(Xe,{type:"email",value:e.email||"",onChange:n=>t({...e,email:n.target.value}),required:!0,placeholder:"your.email@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll use this for important notifications and account recovery."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),c.jsx(Xe,{type:"tel",value:e.phone||"",onChange:n=>t({...e,phone:n.target.value}),required:!0,placeholder:"Enter your phone number"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type *"}),c.jsxs(tc,{value:e.bloodType||"",onChange:n=>t({...e,bloodType:n.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select blood type"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age *"}),c.jsx(Xe,{type:"number",min:"18",max:"65",value:e.age||"",onChange:n=>t({...e,age:n.target.value}),required:!0,placeholder:"18-65"})]})]})]})]})}function rk({data:e,onChange:t}){return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medical History"}),c.jsx("p",{className:"text-gray-600",children:"Please provide your medical history information."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Donation Date"}),c.jsx(Xe,{type:"date",value:e.lastDonation||"",onChange:n=>t({...e,lastDonation:n.target.value})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Medical Conditions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx(Ro,{checked:e.noMedicalConditions||!1,onChange:n=>t({...e,noMedicalConditions:n.target.checked})}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I confirm I have no medical conditions that prevent donation"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(Ro,{checked:e.notPregnant||!1,onChange:n=>t({...e,notPregnant:n.target.checked})}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Not pregnant or breastfeeding (if applicable)"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(Ro,{checked:e.noRecentSurgery||!1,onChange:n=>t({...e,noRecentSurgery:n.target.checked})}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"No recent surgery in the last 6 months"})]})]})]})]})]})}function ik({data:e,onChange:t}){return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Location"}),c.jsx("p",{className:"text-gray-600",children:"Help us find nearby blood requests."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),c.jsx(Xe,{value:e.address||"",onChange:n=>t({...e,address:n.target.value}),required:!0,placeholder:"Enter your street address"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),c.jsx(Xe,{value:e.city||"",onChange:n=>t({...e,city:n.target.value}),required:!0,placeholder:"City"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),c.jsx(Xe,{value:e.state||"",onChange:n=>t({...e,state:n.target.value}),required:!0,placeholder:"State"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),c.jsx(Xe,{value:e.zipCode||"",onChange:n=>t({...e,zipCode:n.target.value}),required:!0,placeholder:"ZIP Code"})]})]})]})]})}function sk(){return c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Verification Email Sent"}),c.jsx("p",{className:"text-gray-600 mb-2",children:"Please check your email and click the verification link to complete your registration."}),c.jsx("p",{className:"text-sm text-gray-500",children:"If you don't see the email, please check your spam folder."})]})}function ok({data:e}){return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Your Information"}),c.jsx("p",{className:"text-gray-600",children:"Please review all information before submitting."})]})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),c.jsxs("p",{className:"text-gray-900",children:[e.firstName," ",e.lastName]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),c.jsx("p",{className:"text-gray-900",children:e.email})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("p",{className:"text-gray-900",children:e.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Blood Type"}),c.jsx("p",{className:"text-gray-900",children:e.bloodType})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Age"}),c.jsx("p",{className:"text-gray-900",children:e.age})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Address"}),c.jsxs("p",{className:"text-gray-900",children:[e.address,", ",e.city,", ",e.state," ",e.zipCode]})]})]})})]})}function ak({isOpen:e,onClose:t}){const[n,i]=C.useState(!1);if(!e)return null;const s=()=>{i(!0),setTimeout(()=>{t(),i(!1)},300)};return c.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300 ${n?"opacity-0":"opacity-100"}`,onClick:s,children:c.jsxs("div",{onClick:a=>a.stopPropagation(),className:`bg-white rounded-lg shadow-xl p-6 md:p-8 max-w-md w-full mx-4 text-center transform transition-all duration-300 ${n?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),c.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-2",children:"Registration Successful!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for registering as a blood donor. Your information has been saved."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Yi,{to:"/",children:c.jsx("button",{onClick:s,onMouseEnter:a=>a.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105"),onMouseLeave:a=>a.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105"),className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:"Go to Home"})}),c.jsx("button",{onClick:s,onMouseEnter:a=>a.currentTarget.classList.add("bg-gray-200","scale-105"),onMouseLeave:a=>a.currentTarget.classList.remove("bg-gray-200","scale-105"),className:"w-full px-6 py-3 bg-gray-100 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-200 active:bg-gray-300 transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:"Close"})]})]})})}function lk(){const e=Wn(),{addDonor:t,getStats:n}=ct(),i=n(),[s,a]=C.useState(1),[l,d]=C.useState({firstName:"",lastName:"",email:"",phone:"",bloodType:"",age:"",address:"",city:"",state:"",zipCode:"",medicalHistory:{},lastDonation:""}),[h,m]=C.useState(!1),g=5,_=()=>{s<g&&a(s+1)},w=()=>{s>1&&a(s-1)},S=async()=>{try{t({name:`${l.firstName} ${l.lastName}`,email:l.email,phone:l.phone,bloodType:l.bloodType,age:parseInt(l.age),address:`${l.address}, ${l.city}, ${l.state} ${l.zipCode}`,city:l.city,state:l.state,zipCode:l.zipCode,lastDonation:l.lastDonation,available:!0,distance:`${(Math.random()*5+1).toFixed(1)} km`}),m(!0)}catch(E){console.error("Error registering donor:",E),alert("Failed to register. Please try again.")}},j=()=>{switch(s){case 1:return c.jsx(nk,{data:l,onChange:d});case 2:return c.jsx(rk,{data:l,onChange:d});case 3:return c.jsx(ik,{data:l,onChange:d});case 4:return c.jsx(sk,{});case 5:return c.jsx(ok,{data:l});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsx("span",{className:"text-red-600 text-2xl",children:""}),c.jsx("span",{className:"text-lg text-gray-700",children:"Join Our Life-Saving Community"})]}),c.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Become a Blood Donor"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Complete your registration to start saving lives. Your generosity creates miracles."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-red-600 text-4xl mb-3",children:""}),c.jsx("div",{className:"text-3xl md:text-4xl font-bold text-red-600 mb-2",children:i.totalDonors.toLocaleString()}),c.jsx("div",{className:"text-gray-600",children:"Active Donors"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-green-600 text-4xl mb-3",children:""}),c.jsx("div",{className:"text-3xl md:text-4xl font-bold text-green-600 mb-2",children:(i.totalDonors*2.67).toLocaleString()}),c.jsx("div",{className:"text-gray-600",children:"Lives Saved"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[c.jsx("div",{className:"text-orange-600 text-4xl mb-3",children:""}),c.jsx("div",{className:"text-3xl md:text-4xl font-bold text-orange-600 mb-2",children:"8 min"}),c.jsx("div",{className:"text-gray-600",children:"Avg Response"})]})]}),c.jsx(tk,{currentStep:s,totalSteps:g}),c.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-lg border-2 border-yellow-400 p-6 md:p-8",children:[j(),c.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[c.jsx("button",{onClick:w,disabled:s===1,onMouseEnter:E=>{s>1&&E.currentTarget.classList.add("bg-gray-300","shadow-md","scale-105")},onMouseLeave:E=>{E.currentTarget.classList.remove("bg-gray-300","shadow-md","scale-105")},className:`px-6 py-2 rounded font-medium transition-all duration-200 ${s===1?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50":"bg-gray-200 text-gray-700 hover:bg-gray-300 active:bg-gray-400 transform hover:scale-105 active:scale-95"}`,children:"Previous"}),s<g?c.jsx("button",{onClick:_,onMouseEnter:E=>E.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105"),onMouseLeave:E=>E.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105"),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:"Next "}):c.jsx("button",{onClick:S,onMouseEnter:E=>E.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105"),onMouseLeave:E=>E.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105"),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:" Submit Registration"})]})]})]}),c.jsx(ak,{isOpen:h,onClose:()=>{m(!1),e("/")}})]})}function uk({kpi:e}){const t={green:"bg-green-50 border-green-200",red:"bg-red-50 border-red-200",blue:"bg-blue-50 border-blue-200",orange:"bg-orange-50 border-orange-200"},n={green:"text-green-600",red:"text-red-600",blue:"text-blue-600",orange:"text-orange-600"};return c.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border ${t[e.color]}`,children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("div",{className:`text-3xl ${n[e.color]}`,children:e.icon})}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase mb-1",children:e.title}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[e.trendUp?c.jsx("span",{className:"text-green-600",children:""}):c.jsx("span",{className:"text-red-600",children:""}),c.jsx("span",{className:`text-xs ${e.trendUp?"text-green-600":"text-red-600"}`,children:e.trend})]})]})}function ck({activeTab:e,setActiveTab:t}){const n=[{id:"overview",label:"Overview",icon:""},{id:"alerts",label:"Emergency Alerts",icon:""},{id:"requests",label:"Active Requests",icon:""},{id:"donors",label:"Available Donors",icon:""}];return c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:n.map(i=>c.jsxs("button",{onClick:()=>t(i.id),onMouseEnter:s=>{e!==i.id&&s.currentTarget.classList.add("bg-gray-50")},onMouseLeave:s=>{e!==i.id&&s.currentTarget.classList.remove("bg-gray-50")},className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${e===i.id?"bg-red-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300"}`,children:[c.jsx("span",{children:i.icon}),c.jsx("span",{children:i.label})]},i.id))})}function ev(e,t){const n=C.useRef(t);C.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const dk=1;function hk(e){return Object.freeze({__version:dk,map:e})}function fk(e,t){return Object.freeze({...e,...t})}const tv=C.createContext(null),nv=tv.Provider;function rv(){const e=C.useContext(tv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function pk(e){function t(n,i){const{instance:s,context:a}=e(n).current;return C.useImperativeHandle(i,()=>s),n.children==null?null:ri.createElement(nv,{value:a},n.children)}return C.forwardRef(t)}function mk(e){function t(n,i){const[s,a]=C.useState(!1),{instance:l}=e(n,a).current;C.useImperativeHandle(i,()=>l),C.useEffect(function(){s&&l.update()},[l,s,n.children]);const d=l._contentNode;return d?Sg.createPortal(n.children,d):null}return C.forwardRef(t)}function gk(e){function t(n,i){const{instance:s}=e(n).current;return C.useImperativeHandle(i,()=>s),null}return C.forwardRef(t)}function iv(e,t){const n=C.useRef();C.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function od(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function vk(e,t){return function(i,s){const a=rv(),l=e(od(i,a),a);return ev(a.map,i.attribution),iv(l.current,i.eventHandlers),t(l.current,a,i,s),l}}var nc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(Ay,function(n){var i="1.9.4";function s(r){var o,u,f,p;for(u=1,f=arguments.length;u<f;u++){p=arguments[u];for(o in p)r[o]=p[o]}return r}var a=Object.create||function(){function r(){}return function(o){return r.prototype=o,new r}}();function l(r,o){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var f=u.call(arguments,2);return function(){return r.apply(o,f.length?f.concat(u.call(arguments)):arguments)}}var d=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function m(r,o,u){var f,p,v,k;return k=function(){f=!1,p&&(v.apply(u,p),p=!1)},v=function(){f?p=arguments:(r.apply(u,arguments),setTimeout(k,o),f=!0)},v}function g(r,o,u){var f=o[1],p=o[0],v=f-p;return r===f&&u?r:((r-p)%v+v)%v+p}function _(){return!1}function w(r,o){if(o===!1)return r;var u=Math.pow(10,o===void 0?6:o);return Math.round(r*u)/u}function S(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function j(r){return S(r).split(/\s+/)}function E(r,o){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var u in o)r.options[u]=o[u];return r.options}function O(r,o,u){var f=[];for(var p in r)f.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(r[p]));return(!o||o.indexOf("?")===-1?"?":"&")+f.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function y(r,o){return r.replace(b,function(u,f){var p=o[f];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(o)),p})}var x=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function N(r,o){for(var u=0;u<r.length;u++)if(r[u]===o)return u;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function F(r){var o=+new Date,u=Math.max(0,16-(o-z));return z=o+u,window.setTimeout(r,u)}var ne=window.requestAnimationFrame||M("RequestAnimationFrame")||F,X=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ce(r,o,u){if(u&&ne===F)r.call(o);else return ne.call(window,l(r,o))}function Ie(r){r&&X.call(window,r)}var Hn={__proto__:null,extend:s,create:a,bind:l,get lastId(){return d},stamp:h,throttle:m,wrapNum:g,falseFn:_,formatNum:w,trim:S,splitWords:j,setOptions:E,getParamString:O,template:y,isArray:x,indexOf:N,emptyImageUrl:I,requestFn:ne,cancelFn:X,requestAnimFrame:ce,cancelAnimFrame:Ie};function wt(){}wt.extend=function(r){var o=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,f=a(u);f.constructor=o,o.prototype=f;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(o[p]=this[p]);return r.statics&&s(o,r.statics),r.includes&&(Ca(r.includes),s.apply(null,[f].concat(r.includes))),s(f,r),delete f.statics,delete f.includes,f.options&&(f.options=u.options?a(u.options):{},s(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,k=f._initHooks.length;v<k;v++)f._initHooks[v].call(this)}},o},wt.include=function(r){var o=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=o,this.mergeOptions(r.options)),this},wt.mergeOptions=function(r){return s(this.prototype.options,r),this},wt.addInitHook=function(r){var o=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Ca(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=x(r)?r:[r];for(var o=0;o<r.length;o++)r[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Be={on:function(r,o,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],o);else{r=j(r);for(var p=0,v=r.length;p<v;p++)this._on(r[p],o,u)}return this},off:function(r,o,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],o);else{r=j(r);for(var p=arguments.length===1,v=0,k=r.length;v<k;v++)p?this._off(r[v]):this._off(r[v],o,u)}return this},_on:function(r,o,u,f){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(r,o,u)===!1){u===this&&(u=void 0);var p={fn:o,ctx:u};f&&(p.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(p)}},_off:function(r,o,u){var f,p,v;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(p=0,v=f.length;p<v;p++)f[p].fn=_;delete this._events[r];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var k=this._listens(r,o,u);if(k!==!1){var T=f[k];this._firingCount&&(T.fn=_,this._events[r]=f=f.slice()),f.splice(k,1)}}},fire:function(r,o,u){if(!this.listens(r,u))return this;var f=s({},o,{type:r,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var p=this._events[r];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,k=p.length;v<k;v++){var T=p[v],P=T.fn;T.once&&this.off(r,P,T.ctx),P.call(T.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(r,o,u,f){typeof r!="string"&&console.warn('"string" type argument expected');var p=o;typeof o!="function"&&(f=!!o,p=void 0,u=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,p,u)!==!1)return!0;if(f){for(var k in this._eventParents)if(this._eventParents[k].listens(r,o,u,f))return!0}return!1},_listens:function(r,o,u){if(!this._events)return!1;var f=this._events[r]||[];if(!o)return!!f.length;u===this&&(u=void 0);for(var p=0,v=f.length;p<v;p++)if(f[p].fn===o&&f[p].ctx===u)return p;return!1},once:function(r,o,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],o,!0);else{r=j(r);for(var p=0,v=r.length;p<v;p++)this._on(r[p],o,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var o in this._eventParents)this._eventParents[o].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};Be.addEventListener=Be.on,Be.removeEventListener=Be.clearAllEventListeners=Be.off,Be.addOneTimeEventListener=Be.once,Be.fireEvent=Be.fire,Be.hasEventListeners=Be.listens;var Yt=wt.extend(Be);function R(r,o,u){this.x=u?Math.round(r):r,this.y=u?Math.round(o):o}var G=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(r){return this.clone()._add(B(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(B(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new R(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new R(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(r){r=B(r);var o=r.x-this.x,u=r.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(r){return r=B(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=B(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function B(r,o,u){return r instanceof R?r:x(r)?new R(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new R(r.x,r.y):new R(r,o,u)}function K(r,o){if(r)for(var u=o?[r,o]:r,f=0,p=u.length;f<p;f++)this.extend(u[f])}K.prototype={extend:function(r){var o,u;if(!r)return this;if(r instanceof R||typeof r[0]=="number"||"x"in r)o=u=B(r);else if(r=ie(r),o=r.min,u=r.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var o,u;return typeof r[0]=="number"||r instanceof R?r=B(r):r=ie(r),r instanceof K?(o=r.min,u=r.max):o=u=r,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=ie(r);var o=this.min,u=this.max,f=r.min,p=r.max,v=p.x>=o.x&&f.x<=u.x,k=p.y>=o.y&&f.y<=u.y;return v&&k},overlaps:function(r){r=ie(r);var o=this.min,u=this.max,f=r.min,p=r.max,v=p.x>o.x&&f.x<u.x,k=p.y>o.y&&f.y<u.y;return v&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var o=this.min,u=this.max,f=Math.abs(o.x-u.x)*r,p=Math.abs(o.y-u.y)*r;return ie(B(o.x-f,o.y-p),B(u.x+f,u.y+p))},equals:function(r){return r?(r=ie(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ie(r,o){return!r||r instanceof K?r:new K(r,o)}function Le(r,o){if(r)for(var u=o?[r,o]:r,f=0,p=u.length;f<p;f++)this.extend(u[f])}Le.prototype={extend:function(r){var o=this._southWest,u=this._northEast,f,p;if(r instanceof oe)f=r,p=r;else if(r instanceof Le){if(f=r._southWest,p=r._northEast,!f||!p)return this}else return r?this.extend(J(r)||ue(r)):this;return!o&&!u?(this._southWest=new oe(f.lat,f.lng),this._northEast=new oe(p.lat,p.lng)):(o.lat=Math.min(f.lat,o.lat),o.lng=Math.min(f.lng,o.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(r){var o=this._southWest,u=this._northEast,f=Math.abs(o.lat-u.lat)*r,p=Math.abs(o.lng-u.lng)*r;return new Le(new oe(o.lat-f,o.lng-p),new oe(u.lat+f,u.lng+p))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof oe||"lat"in r?r=J(r):r=ue(r);var o=this._southWest,u=this._northEast,f,p;return r instanceof Le?(f=r.getSouthWest(),p=r.getNorthEast()):f=p=r,f.lat>=o.lat&&p.lat<=u.lat&&f.lng>=o.lng&&p.lng<=u.lng},intersects:function(r){r=ue(r);var o=this._southWest,u=this._northEast,f=r.getSouthWest(),p=r.getNorthEast(),v=p.lat>=o.lat&&f.lat<=u.lat,k=p.lng>=o.lng&&f.lng<=u.lng;return v&&k},overlaps:function(r){r=ue(r);var o=this._southWest,u=this._northEast,f=r.getSouthWest(),p=r.getNorthEast(),v=p.lat>o.lat&&f.lat<u.lat,k=p.lng>o.lng&&f.lng<u.lng;return v&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,o){return r?(r=ue(r),this._southWest.equals(r.getSouthWest(),o)&&this._northEast.equals(r.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(r,o){return r instanceof Le?r:new Le(r,o)}function oe(r,o,u){if(isNaN(r)||isNaN(o))throw new Error("Invalid LatLng object: ("+r+", "+o+")");this.lat=+r,this.lng=+o,u!==void 0&&(this.alt=+u)}oe.prototype={equals:function(r,o){if(!r)return!1;r=J(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(o===void 0?1e-9:o)},toString:function(r){return"LatLng("+w(this.lat,r)+", "+w(this.lng,r)+")"},distanceTo:function(r){return gn.distance(this,J(r))},wrap:function(){return gn.wrapLatLng(this)},toBounds:function(r){var o=180*r/40075017,u=o/Math.cos(Math.PI/180*this.lat);return ue([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function J(r,o,u){return r instanceof oe?r:x(r)&&typeof r[0]!="object"?r.length===3?new oe(r[0],r[1],r[2]):r.length===2?new oe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new oe(r.lat,"lng"in r?r.lng:r.lon,r.alt):o===void 0?null:new oe(r,o,u)}var rt={latLngToPoint:function(r,o){var u=this.projection.project(r),f=this.scale(o);return this.transformation._transform(u,f)},pointToLatLng:function(r,o){var u=this.scale(o),f=this.transformation.untransform(r,u);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(r),f=this.transformation.transform(o.min,u),p=this.transformation.transform(o.max,u);return new K(f,p)},infinite:!1,wrapLatLng:function(r){var o=this.wrapLng?g(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?g(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new oe(u,o,f)},wrapLatLngBounds:function(r){var o=r.getCenter(),u=this.wrapLatLng(o),f=o.lat-u.lat,p=o.lng-u.lng;if(f===0&&p===0)return r;var v=r.getSouthWest(),k=r.getNorthEast(),T=new oe(v.lat-f,v.lng-p),P=new oe(k.lat-f,k.lng-p);return new Le(T,P)}},gn=s({},rt,{wrapLng:[-180,180],R:6371e3,distance:function(r,o){var u=Math.PI/180,f=r.lat*u,p=o.lat*u,v=Math.sin((o.lat-r.lat)*u/2),k=Math.sin((o.lng-r.lng)*u/2),T=v*v+Math.cos(f)*Math.cos(p)*k*k,P=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*P}}),ud=6378137,La={R:ud,MAX_LATITUDE:85.0511287798,project:function(r){var o=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,r.lat),-u),p=Math.sin(f*o);return new R(this.R*r.lng*o,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(r){var o=180/Math.PI;return new oe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*o,r.x*o/this.R)},bounds:function(){var r=ud*Math.PI;return new K([-r,-r],[r,r])}()};function Oa(r,o,u,f){if(x(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=o,this._c=u,this._d=f}Oa.prototype={transform:function(r,o){return this._transform(r.clone(),o)},_transform:function(r,o){return o=o||1,r.x=o*(this._a*r.x+this._b),r.y=o*(this._c*r.y+this._d),r},untransform:function(r,o){return o=o||1,new R((r.x/o-this._b)/this._a,(r.y/o-this._d)/this._c)}};function gi(r,o,u,f){return new Oa(r,o,u,f)}var Ra=s({},gn,{code:"EPSG:3857",projection:La,transformation:function(){var r=.5/(Math.PI*La.R);return gi(r,.5,-r,.5)}()}),uv=s({},Ra,{code:"EPSG:900913"});function cd(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function dd(r,o){var u="",f,p,v,k,T,P;for(f=0,v=r.length;f<v;f++){for(T=r[f],p=0,k=T.length;p<k;p++)P=T[p],u+=(p?"L":"M")+P.x+" "+P.y;u+=o?H.svg?"z":"x":""}return u||"M0 0"}var Aa=document.documentElement.style,Rs="ActiveXObject"in window,cv=Rs&&!document.addEventListener,hd="msLaunchUri"in navigator&&!("documentMode"in document),Ia=Wt("webkit"),fd=Wt("android"),pd=Wt("android 2")||Wt("android 3"),dv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hv=fd&&Wt("Google")&&dv<537&&!("AudioNode"in window),Ma=!!window.opera,md=!hd&&Wt("chrome"),gd=Wt("gecko")&&!Ia&&!Ma&&!Rs,fv=!md&&Wt("safari"),vd=Wt("phantom"),yd="OTransition"in Aa,pv=navigator.platform.indexOf("Win")===0,_d=Rs&&"transition"in Aa,Da="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pd,wd="MozPerspective"in Aa,mv=!window.L_DISABLE_3D&&(_d||Da||wd)&&!yd&&!vd,vi=typeof orientation<"u"||Wt("mobile"),gv=vi&&Ia,vv=vi&&Da,xd=!window.PointerEvent&&window.MSPointerEvent,bd=!!(window.PointerEvent||xd),Sd="ontouchstart"in window||!!window.TouchEvent,yv=!window.L_NO_TOUCH&&(Sd||bd),_v=vi&&Ma,wv=vi&&gd,xv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,bv=function(){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",_,o),window.removeEventListener("testPassiveEventSupport",_,o)}catch{}return r}(),Sv=function(){return!!document.createElement("canvas").getContext}(),za=!!(document.createElementNS&&cd("svg").createSVGRect),kv=!!za&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ev=!za&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var o=r.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),jv=navigator.platform.indexOf("Mac")===0,Tv=navigator.platform.indexOf("Linux")===0;function Wt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var H={ie:Rs,ielt9:cv,edge:hd,webkit:Ia,android:fd,android23:pd,androidStock:hv,opera:Ma,chrome:md,gecko:gd,safari:fv,phantom:vd,opera12:yd,win:pv,ie3d:_d,webkit3d:Da,gecko3d:wd,any3d:mv,mobile:vi,mobileWebkit:gv,mobileWebkit3d:vv,msPointer:xd,pointer:bd,touch:yv,touchNative:Sd,mobileOpera:_v,mobileGecko:wv,retina:xv,passiveEvents:bv,canvas:Sv,svg:za,vml:Ev,inlineSvg:kv,mac:jv,linux:Tv},kd=H.msPointer?"MSPointerDown":"pointerdown",Ed=H.msPointer?"MSPointerMove":"pointermove",jd=H.msPointer?"MSPointerUp":"pointerup",Td=H.msPointer?"MSPointerCancel":"pointercancel",Ba={touchstart:kd,touchmove:Ed,touchend:jd,touchcancel:Td},Nd={touchstart:Rv,touchmove:As,touchend:As,touchcancel:As},yr={},Pd=!1;function Nv(r,o,u){return o==="touchstart"&&Ov(),Nd[o]?(u=Nd[o].bind(this,u),r.addEventListener(Ba[o],u,!1),u):(console.warn("wrong event specified:",o),_)}function Pv(r,o,u){if(!Ba[o]){console.warn("wrong event specified:",o);return}r.removeEventListener(Ba[o],u,!1)}function Cv(r){yr[r.pointerId]=r}function Lv(r){yr[r.pointerId]&&(yr[r.pointerId]=r)}function Cd(r){delete yr[r.pointerId]}function Ov(){Pd||(document.addEventListener(kd,Cv,!0),document.addEventListener(Ed,Lv,!0),document.addEventListener(jd,Cd,!0),document.addEventListener(Td,Cd,!0),Pd=!0)}function As(r,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in yr)o.touches.push(yr[u]);o.changedTouches=[o],r(o)}}function Rv(r,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ue(o),As(r,o)}function Av(r){var o={},u,f;for(f in r)u=r[f],o[f]=u&&u.bind?u.bind(r):u;return r=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Iv=200;function Mv(r,o){r.addEventListener("dblclick",o);var u=0,f;function p(v){if(v.detail!==1){f=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var k=Id(v);if(!(k.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!k.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var T=Date.now();T-u<=Iv?(f++,f===2&&o(Av(v))):f=1,u=T}}}return r.addEventListener("click",p),{dblclick:o,simDblclick:p}}function Dv(r,o){r.removeEventListener("dblclick",o.dblclick),r.removeEventListener("click",o.simDblclick)}var Ua=Ds(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yi=Ds(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ld=yi==="webkitTransition"||yi==="OTransition"?yi+"End":"transitionend";function Od(r){return typeof r=="string"?document.getElementById(r):r}function _i(r,o){var u=r.style[o]||r.currentStyle&&r.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);u=f?f[o]:null}return u==="auto"?null:u}function ae(r,o,u){var f=document.createElement(r);return f.className=o||"",u&&u.appendChild(f),f}function ve(r){var o=r.parentNode;o&&o.removeChild(r)}function Is(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _r(r){var o=r.parentNode;o&&o.lastChild!==r&&o.appendChild(r)}function wr(r){var o=r.parentNode;o&&o.firstChild!==r&&o.insertBefore(r,o.firstChild)}function $a(r,o){if(r.classList!==void 0)return r.classList.contains(o);var u=Ms(r);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function Y(r,o){if(r.classList!==void 0)for(var u=j(o),f=0,p=u.length;f<p;f++)r.classList.add(u[f]);else if(!$a(r,o)){var v=Ms(r);Fa(r,(v?v+" ":"")+o)}}function ke(r,o){r.classList!==void 0?r.classList.remove(o):Fa(r,S((" "+Ms(r)+" ").replace(" "+o+" "," ")))}function Fa(r,o){r.className.baseVal===void 0?r.className=o:r.className.baseVal=o}function Ms(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function xt(r,o){"opacity"in r.style?r.style.opacity=o:"filter"in r.style&&zv(r,o)}function zv(r,o){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(f)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):r.style.filter+=" progid:"+f+"(opacity="+o+")"}function Ds(r){for(var o=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in o)return r[u];return!1}function qn(r,o,u){var f=o||new R(0,0);r.style[Ua]=(H.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function je(r,o){r._leaflet_pos=o,H.any3d?qn(r,o):(r.style.left=o.x+"px",r.style.top=o.y+"px")}function Zn(r){return r._leaflet_pos||new R(0,0)}var wi,xi,Wa;if("onselectstart"in document)wi=function(){Q(window,"selectstart",Ue)},xi=function(){de(window,"selectstart",Ue)};else{var bi=Ds(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wi=function(){if(bi){var r=document.documentElement.style;Wa=r[bi],r[bi]="none"}},xi=function(){bi&&(document.documentElement.style[bi]=Wa,Wa=void 0)}}function Ha(){Q(window,"dragstart",Ue)}function qa(){de(window,"dragstart",Ue)}var zs,Za;function Va(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Bs(),zs=r,Za=r.style.outlineStyle,r.style.outlineStyle="none",Q(window,"keydown",Bs))}function Bs(){zs&&(zs.style.outlineStyle=Za,zs=void 0,Za=void 0,de(window,"keydown",Bs))}function Rd(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ka(r){var o=r.getBoundingClientRect();return{x:o.width/r.offsetWidth||1,y:o.height/r.offsetHeight||1,boundingClientRect:o}}var Bv={__proto__:null,TRANSFORM:Ua,TRANSITION:yi,TRANSITION_END:Ld,get:Od,getStyle:_i,create:ae,remove:ve,empty:Is,toFront:_r,toBack:wr,hasClass:$a,addClass:Y,removeClass:ke,setClass:Fa,getClass:Ms,setOpacity:xt,testProp:Ds,setTransform:qn,setPosition:je,getPosition:Zn,get disableTextSelection(){return wi},get enableTextSelection(){return xi},disableImageDrag:Ha,enableImageDrag:qa,preventOutline:Va,restoreOutline:Bs,getSizedParentNode:Rd,getScale:Ka};function Q(r,o,u,f){if(o&&typeof o=="object")for(var p in o)Ja(r,p,o[p],u);else{o=j(o);for(var v=0,k=o.length;v<k;v++)Ja(r,o[v],u,f)}return this}var Ht="_leaflet_events";function de(r,o,u,f){if(arguments.length===1)Ad(r),delete r[Ht];else if(o&&typeof o=="object")for(var p in o)Qa(r,p,o[p],u);else if(o=j(o),arguments.length===2)Ad(r,function(T){return N(o,T)!==-1});else for(var v=0,k=o.length;v<k;v++)Qa(r,o[v],u,f);return this}function Ad(r,o){for(var u in r[Ht]){var f=u.split(/\d/)[0];(!o||o(f))&&Qa(r,f,null,null,u)}}var Ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ja(r,o,u,f){var p=o+h(u)+(f?"_"+h(f):"");if(r[Ht]&&r[Ht][p])return this;var v=function(T){return u.call(f||r,T||window.event)},k=v;!H.touchNative&&H.pointer&&o.indexOf("touch")===0?v=Nv(r,o,v):H.touch&&o==="dblclick"?v=Mv(r,v):"addEventListener"in r?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?r.addEventListener(Ga[o]||o,v,H.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(v=function(T){T=T||window.event,Xa(r,T)&&k(T)},r.addEventListener(Ga[o],v,!1)):r.addEventListener(o,k,!1):r.attachEvent("on"+o,v),r[Ht]=r[Ht]||{},r[Ht][p]=v}function Qa(r,o,u,f,p){p=p||o+h(u)+(f?"_"+h(f):"");var v=r[Ht]&&r[Ht][p];if(!v)return this;!H.touchNative&&H.pointer&&o.indexOf("touch")===0?Pv(r,o,v):H.touch&&o==="dblclick"?Dv(r,v):"removeEventListener"in r?r.removeEventListener(Ga[o]||o,v,!1):r.detachEvent("on"+o,v),r[Ht][p]=null}function Vn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ya(r){return Ja(r,"wheel",Vn),this}function Si(r){return Q(r,"mousedown touchstart dblclick contextmenu",Vn),r._leaflet_disable_click=!0,this}function Ue(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Kn(r){return Ue(r),Vn(r),this}function Id(r){if(r.composedPath)return r.composedPath();for(var o=[],u=r.target;u;)o.push(u),u=u.parentNode;return o}function Md(r,o){if(!o)return new R(r.clientX,r.clientY);var u=Ka(o),f=u.boundingClientRect;return new R((r.clientX-f.left)/u.x-o.clientLeft,(r.clientY-f.top)/u.y-o.clientTop)}var Uv=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dd(r){return H.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Uv:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Xa(r,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var $v={__proto__:null,on:Q,off:de,stopPropagation:Vn,disableScrollPropagation:Ya,disableClickPropagation:Si,preventDefault:Ue,stop:Kn,getPropagationPath:Id,getMousePosition:Md,getWheelDelta:Dd,isExternalTarget:Xa,addListener:Q,removeListener:de},zd=Yt.extend({run:function(r,o,u,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Zn(r),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(r){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,o){var u=this._startPos.add(this._offset.multiplyBy(r));o&&u._round(),je(this._el,u),this.fire("step")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),re=Yt.extend({options:{crs:Ra,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,o){o=E(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(J(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yi&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Q(this._proxy,Ld,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),r=this._limitCenter(J(r),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,o,u.zoom):this._tryAnimatedPan(r,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,o){return this._loaded?this.setView(this.getCenter(),r,{zoom:o}):(this._zoom=r,this)},zoomIn:function(r,o){return r=r||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,o)},zoomOut:function(r,o){return r=r||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,o)},setZoomAround:function(r,o,u){var f=this.getZoomScale(o),p=this.getSize().divideBy(2),v=r instanceof R?r:this.latLngToContainerPoint(r),k=v.subtract(p).multiplyBy(1-1/f),T=this.containerPointToLatLng(p.add(k));return this.setView(T,o,{zoom:u})},_getBoundsCenterZoom:function(r,o){o=o||{},r=r.getBounds?r.getBounds():ue(r);var u=B(o.paddingTopLeft||o.padding||[0,0]),f=B(o.paddingBottomRight||o.padding||[0,0]),p=this.getBoundsZoom(r,!1,u.add(f));if(p=typeof o.maxZoom=="number"?Math.min(o.maxZoom,p):p,p===1/0)return{center:r.getCenter(),zoom:p};var v=f.subtract(u).divideBy(2),k=this.project(r.getSouthWest(),p),T=this.project(r.getNorthEast(),p),P=this.unproject(k.add(T).divideBy(2).add(v),p);return{center:P,zoom:p}},fitBounds:function(r,o){if(r=ue(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,o){return this.setView(r,this._zoom,{pan:o})},panBy:function(r,o){if(r=B(r).round(),o=o||{},!r.x&&!r.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,o,u){if(u=u||{},u.animate===!1||!H.any3d)return this.setView(r,o,u);this._stop();var f=this.project(this.getCenter()),p=this.project(r),v=this.getSize(),k=this._zoom;r=J(r),o=o===void 0?k:o;var T=Math.max(v.x,v.y),P=T*this.getZoomScale(k,o),A=p.distanceTo(f)||1,U=1.42,V=U*U;function ee(Te){var Qs=Te?-1:1,Py=Te?P:T,Cy=P*P-T*T+Qs*V*V*A*A,Ly=2*Py*V*A,cl=Cy/Ly,yh=Math.sqrt(cl*cl+1)-cl,Oy=yh<1e-9?-18:Math.log(yh);return Oy}function Qe(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function Me(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function St(Te){return Qe(Te)/Me(Te)}var it=ee(0);function jr(Te){return T*(Me(it)/Me(it+U*Te))}function Ey(Te){return T*(Me(it)*St(it+U*Te)-Qe(it))/V}function jy(Te){return 1-Math.pow(1-Te,1.5)}var Ty=Date.now(),gh=(ee(1)-it)/U,Ny=u.duration?1e3*u.duration:1e3*gh*.8;function vh(){var Te=(Date.now()-Ty)/Ny,Qs=jy(Te)*gh;Te<=1?(this._flyToFrame=ce(vh,this),this._move(this.unproject(f.add(p.subtract(f).multiplyBy(Ey(Qs)/A)),k),this.getScaleZoom(T/jr(Qs),k),{flyTo:!0})):this._move(r,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),vh.call(this),this},flyToBounds:function(r,o){var u=this._getBoundsCenterZoom(r,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(r){return r=ue(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var o=this.options.minZoom;return this.options.minZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var o=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,o){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,ue(r));return u.equals(f)||this.panTo(f,o),this._enforcingBounds=!1,this},panInside:function(r,o){o=o||{};var u=B(o.paddingTopLeft||o.padding||[0,0]),f=B(o.paddingBottomRight||o.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(r),k=this.getPixelBounds(),T=ie([k.min.add(u),k.max.subtract(f)]),P=T.getSize();if(!T.contains(v)){this._enforcingBounds=!0;var A=v.subtract(T.getCenter()),U=T.extend(v).getSize().subtract(P);p.x+=A.x<0?-U.x:U.x,p.y+=A.y<0?-U.y:U.y,this.panTo(this.unproject(p),o),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=o.divideBy(2).round(),p=u.divideBy(2).round(),v=f.subtract(p);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,r):navigator.geolocation.getCurrentPosition(o,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var o=r.code,u=r.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var o=r.coords.latitude,u=r.coords.longitude,f=new oe(o,u),p=f.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var k=this.getBoundsZoom(p);this.setView(f,v.maxZoom?Math.min(k,v.maxZoom):k)}var T={latlng:f,bounds:p,timestamp:r.timestamp};for(var P in r.coords)typeof r.coords[P]=="number"&&(T[P]=r.coords[P]);this.fire("locationfound",T)}},addHandler:function(r,o){if(!o)return this;var u=this[r]=new o(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ve(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,o){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=ae("div",u,o||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),o=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new Le(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,o,u){r=ue(r),u=B(u||[0,0]);var f=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),k=r.getNorthWest(),T=r.getSouthEast(),P=this.getSize().subtract(u),A=ie(this.project(T,f),this.project(k,f)).getSize(),U=H.any3d?this.options.zoomSnap:1,V=P.x/A.x,ee=P.y/A.y,Qe=o?Math.max(V,ee):Math.min(V,ee);return f=this.getScaleZoom(Qe,f),U&&(f=Math.round(f/(U/100))*(U/100),f=o?Math.ceil(f/U)*U:Math.floor(f/U)*U),Math.max(p,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,o){var u=this._getTopLeftPoint(r,o);return new K(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(r)/u.scale(o)},getScaleZoom:function(r,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var f=u.zoom(r*u.scale(o));return isNaN(f)?1/0:f},project:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(J(r),o)},unproject:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(B(r),o)},layerPointToLatLng:function(r){var o=B(r).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(r){var o=this.project(J(r))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(J(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ue(r))},distance:function(r,o){return this.options.crs.distance(J(r),J(o))},containerPointToLayerPoint:function(r){return B(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return B(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var o=this.containerPointToLayerPoint(B(r));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(r)))},mouseEventToContainerPoint:function(r){return Md(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var o=this._container=Od(r);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Q(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,Y(r,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=_i(r,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),je(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(r.markerPane,"leaflet-zoom-hide"),Y(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,o,u){je(this._mapPane,new R(0,0));var f=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var p=this._zoom!==o;this._moveStart(p,u)._move(r,o)._moveEnd(p),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,o){return r&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(r,o,u,f){o===void 0&&(o=this._zoom);var p=this._zoom!==o;return this._zoom=o,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){je(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var o=r?de:Q;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,o){for(var u=[],f,p=o==="mouseout"||o==="mouseover",v=r.target||r.srcElement,k=!1;v;){if(f=this._targets[h(v)],f&&(o==="click"||o==="preclick")&&this._draggableMoved(f)){k=!0;break}if(f&&f.listens(o,!0)&&(p&&!Xa(v,r)||(u.push(f),p))||v===this._container)break;v=v.parentNode}return!u.length&&!k&&!p&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var o=r.target||r.srcElement;if(!(!this._loaded||o._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(o))){var u=r.type;u==="mousedown"&&Va(o),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,o,u){if(r.type==="click"){var f=s({},r);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var p=this._findEventTargets(r,o);if(u){for(var v=[],k=0;k<u.length;k++)u[k].listens(o,!0)&&v.push(u[k]);p=v.concat(p)}if(p.length){o==="contextmenu"&&Ue(r);var T=p[0],P={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var A=T.getLatLng&&(!T._radius||T._radius<=10);P.containerPoint=A?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(r),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=A?T.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(k=0;k<p.length;k++)if(p[k].fire(o,P,!0),P.originalEvent._stopped||p[k].options.bubblingMouseEvents===!1&&N(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,o=this._handlers.length;r<o;r++)this._handlers[r].disable()},whenReady:function(r,o){return this._loaded?r.call(o||this,{target:this}):this.on("load",r,o),this},_getMapPanePos:function(){return Zn(this._mapPane)||new R(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,o){var u=r&&o!==void 0?this._getNewPixelOrigin(r,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,o){var u=this.getSize()._divideBy(2);return this.project(r,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,o,u){var f=this._getNewPixelOrigin(u,o);return this.project(r,o)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,o,u){var f=this._getNewPixelOrigin(u,o);return ie([this.project(r.getSouthWest(),o)._subtract(f),this.project(r.getNorthWest(),o)._subtract(f),this.project(r.getSouthEast(),o)._subtract(f),this.project(r.getNorthEast(),o)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,o,u){if(!u)return r;var f=this.project(r,o),p=this.getSize().divideBy(2),v=new K(f.subtract(p),f.add(p)),k=this._getBoundsOffset(v,u,o);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?r:this.unproject(f.add(k),o)},_limitOffset:function(r,o){if(!o)return r;var u=this.getPixelBounds(),f=new K(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(f,o))},_getBoundsOffset:function(r,o,u){var f=ie(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),p=f.min.subtract(r.min),v=f.max.subtract(r.max),k=this._rebound(p.x,-v.x),T=this._rebound(p.y,-v.y);return new R(k,T)},_rebound:function(r,o){return r+o>0?Math.round(r-o)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(o))},_limitZoom:function(r){var o=this.getMinZoom(),u=this.getMaxZoom(),f=H.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(o,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,o){var u=this._getCenterOffset(r)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var r=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(o){var u=Ua,f=this._proxy.style[u];qn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),o=this.getZoom();qn(this._proxy,this.project(r,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(o),p=this._getCenterOffset(r)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(p)?!1:(ce(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,o,!0)},this),!0)},_animateZoom:function(r,o,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=o,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:o,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fv(r,o){return new re(r,o)}var Ct=wt.extend({options:{position:"topright"},initialize:function(r){E(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var o=this._map;return o&&o.removeControl(this),this.options.position=r,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var o=this._container=this.onAdd(r),u=this.getPosition(),f=r._controlCorners[u];return Y(o,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(o,f.firstChild):f.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ki=function(r){return new Ct(r)};re.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},o="leaflet-",u=this._controlContainer=ae("div",o+"control-container",this._container);function f(p,v){var k=o+p+" "+o+v;r[p+v]=ae("div",k,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ve(this._controlCorners[r]);ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bd=Ct.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,o,u,f){return u<f?-1:f<u?1:0}},initialize:function(r,o,u){E(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in o)this._addLayer(o[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ct.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,o){return this._addLayer(r,o),this._map?this._update():this},addOverlay:function(r,o){return this._addLayer(r,o,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(r));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",o=this._container=ae("div",r),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Si(o),Ya(o);var f=this._section=ae("section",r+"-list");u&&(this._map.on("click",this.collapse,this),Q(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ae("a",r+"-toggle",o);p.href="#",p.title="Layers",p.setAttribute("role","button"),Q(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Ue(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ae("div",r+"-base",f),this._separator=ae("div",r+"-separator",f),this._overlaysList=ae("div",r+"-overlays",f),o.appendChild(f)},_getLayer:function(r){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===r)return this._layers[o]},_addLayer:function(r,o,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(f,p){return this.options.sortFunction(f.layer,p.layer,f.name,p.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Is(this._baseLayersList),Is(this._overlaysList),this._layerControlInputs=[];var r,o,u,f,p=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),o=o||f.overlay,r=r||!f.overlay,p+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&p>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=o&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var o=this._getLayer(h(r.target)),u=o.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(r,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(o?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(r){var o=document.createElement("label"),u=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(f),f.layerId=h(r.layer),Q(f,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+r.name;var v=document.createElement("span");o.appendChild(v),v.appendChild(f),v.appendChild(p);var k=r.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,o,u,f=[],p=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)o=r[v],u=this._getLayer(o.layerId).layer,o.checked?f.push(u):o.checked||p.push(u);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,o,u,f=this._map.getZoom(),p=r.length-1;p>=0;p--)o=r[p],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Q(r,"click",Ue),this.expand();var o=this;setTimeout(function(){de(r,"click",Ue),o._preventClick=!1})}}),Wv=function(r,o,u){return new Bd(r,o,u)},el=Ct.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var o="leaflet-control-zoom",u=ae("div",o+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,o,u,f,p){var v=ae("a",u,f);return v.innerHTML=r,v.href="#",v.title=o,v.setAttribute("role","button"),v.setAttribute("aria-label",o),Si(v),Q(v,"click",Kn),Q(v,"click",p,this),Q(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,o="leaflet-disabled";ke(this._zoomInButton,o),ke(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Y(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Y(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new el,this.addControl(this.zoomControl))});var Hv=function(r){return new el(r)},Ud=Ct.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var o="leaflet-control-scale",u=ae("div",o),f=this.options;return this._addScales(f,o+"-line",u),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,o,u){r.metric&&(this._mScale=ae("div",o,u)),r.imperial&&(this._iScale=ae("div",o,u))},_update:function(){var r=this._map,o=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,o]),r.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var o=this._getRoundNum(r),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/r)},_updateImperial:function(r){var o=r*3.2808399,u,f,p;o>5280?(u=o/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(p=this._getRoundNum(o),this._updateScale(this._iScale,p+" ft",p/o))},_updateScale:function(r,o,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=o},_getRoundNum:function(r){var o=Math.pow(10,(Math.floor(r)+"").length-1),u=r/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),qv=function(r){return new Ud(r)},Zv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tl=Ct.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Zv+" ":"")+"Leaflet</a>"},initialize:function(r){E(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Si(this._container);for(var o in r._layers)r._layers[o].getAttribution&&this.addAttribution(r._layers[o].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var o in this._attributions)this._attributions[o]&&r.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new tl().addTo(this)});var Vv=function(r){return new tl(r)};Ct.Layers=Bd,Ct.Zoom=el,Ct.Scale=Ud,Ct.Attribution=tl,ki.layers=Wv,ki.zoom=Hv,ki.scale=qv,ki.attribution=Vv;var qt=wt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(r,o){return r.addHandler(o,this),this};var Kv={Events:Be},$d=H.touch?"touchstart mousedown":"mousedown",vn=Yt.extend({options:{clickTolerance:3},initialize:function(r,o,u,f){E(this,f),this._element=r,this._dragStartTarget=o||r,this._preventOutline=u},enable:function(){this._enabled||(Q(this._dragStartTarget,$d,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vn._dragging===this&&this.finishDrag(!0),de(this._dragStartTarget,$d,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!$a(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){vn._dragging===this&&this.finishDrag();return}if(!(vn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(vn._dragging=this,this._preventOutline&&Va(this._element),Ha(),wi(),!this._moving)){this.fire("down");var o=r.touches?r.touches[0]:r,u=Rd(this._element);this._startPoint=new R(o.clientX,o.clientY),this._startPos=Zn(this._element),this._parentScale=Ka(u);var f=r.type==="mousedown";Q(document,f?"mousemove":"touchmove",this._onMove,this),Q(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var o=r.touches&&r.touches.length===1?r.touches[0]:r,u=new R(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ue(r),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),je(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),de(document,"mousemove touchmove",this._onMove,this),de(document,"mouseup touchend touchcancel",this._onUp,this),qa(),xi();var o=this._moved&&this._moving;this._moving=!1,vn._dragging=!1,o&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Fd(r,o,u){var f,p=[1,4,2,8],v,k,T,P,A,U,V,ee;for(v=0,U=r.length;v<U;v++)r[v]._code=Gn(r[v],o);for(T=0;T<4;T++){for(V=p[T],f=[],v=0,U=r.length,k=U-1;v<U;k=v++)P=r[v],A=r[k],P._code&V?A._code&V||(ee=Us(A,P,V,o,u),ee._code=Gn(ee,o),f.push(ee)):(A._code&V&&(ee=Us(A,P,V,o,u),ee._code=Gn(ee,o),f.push(ee)),f.push(P));r=f}return r}function Wd(r,o){var u,f,p,v,k,T,P,A,U;if(!r||r.length===0)throw new Error("latlngs not passed");bt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var V=J([0,0]),ee=ue(r),Qe=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Qe<1700&&(V=nl(r));var Me=r.length,St=[];for(u=0;u<Me;u++){var it=J(r[u]);St.push(o.project(J([it.lat-V.lat,it.lng-V.lng])))}for(T=P=A=0,u=0,f=Me-1;u<Me;f=u++)p=St[u],v=St[f],k=p.y*v.x-v.y*p.x,P+=(p.x+v.x)*k,A+=(p.y+v.y)*k,T+=k*3;T===0?U=St[0]:U=[P/T,A/T];var jr=o.unproject(B(U));return J([jr.lat+V.lat,jr.lng+V.lng])}function nl(r){for(var o=0,u=0,f=0,p=0;p<r.length;p++){var v=J(r[p]);o+=v.lat,u+=v.lng,f++}return J([o/f,u/f])}var Gv={__proto__:null,clipPolygon:Fd,polygonCenter:Wd,centroid:nl};function Hd(r,o){if(!o||!r.length)return r.slice();var u=o*o;return r=Yv(r,u),r=Qv(r,u),r}function qd(r,o,u){return Math.sqrt(Ei(r,o,u,!0))}function Jv(r,o,u){return Ei(r,o,u)}function Qv(r,o){var u=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,p=new f(u);p[0]=p[u-1]=1,rl(r,p,o,0,u-1);var v,k=[];for(v=0;v<u;v++)p[v]&&k.push(r[v]);return k}function rl(r,o,u,f,p){var v=0,k,T,P;for(T=f+1;T<=p-1;T++)P=Ei(r[T],r[f],r[p],!0),P>v&&(k=T,v=P);v>u&&(o[k]=1,rl(r,o,u,f,k),rl(r,o,u,k,p))}function Yv(r,o){for(var u=[r[0]],f=1,p=0,v=r.length;f<v;f++)Xv(r[f],r[p])>o&&(u.push(r[f]),p=f);return p<v-1&&u.push(r[v-1]),u}var Zd;function Vd(r,o,u,f,p){var v=f?Zd:Gn(r,u),k=Gn(o,u),T,P,A;for(Zd=k;;){if(!(v|k))return[r,o];if(v&k)return!1;T=v||k,P=Us(r,o,T,u,p),A=Gn(P,u),T===v?(r=P,v=A):(o=P,k=A)}}function Us(r,o,u,f,p){var v=o.x-r.x,k=o.y-r.y,T=f.min,P=f.max,A,U;return u&8?(A=r.x+v*(P.y-r.y)/k,U=P.y):u&4?(A=r.x+v*(T.y-r.y)/k,U=T.y):u&2?(A=P.x,U=r.y+k*(P.x-r.x)/v):u&1&&(A=T.x,U=r.y+k*(T.x-r.x)/v),new R(A,U,p)}function Gn(r,o){var u=0;return r.x<o.min.x?u|=1:r.x>o.max.x&&(u|=2),r.y<o.min.y?u|=4:r.y>o.max.y&&(u|=8),u}function Xv(r,o){var u=o.x-r.x,f=o.y-r.y;return u*u+f*f}function Ei(r,o,u,f){var p=o.x,v=o.y,k=u.x-p,T=u.y-v,P=k*k+T*T,A;return P>0&&(A=((r.x-p)*k+(r.y-v)*T)/P,A>1?(p=u.x,v=u.y):A>0&&(p+=k*A,v+=T*A)),k=r.x-p,T=r.y-v,f?k*k+T*T:new R(p,v)}function bt(r){return!x(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Kd(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bt(r)}function Gd(r,o){var u,f,p,v,k,T,P,A;if(!r||r.length===0)throw new Error("latlngs not passed");bt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=J([0,0]),V=ue(r),ee=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());ee<1700&&(U=nl(r));var Qe=r.length,Me=[];for(u=0;u<Qe;u++){var St=J(r[u]);Me.push(o.project(J([St.lat-U.lat,St.lng-U.lng])))}for(u=0,f=0;u<Qe-1;u++)f+=Me[u].distanceTo(Me[u+1])/2;if(f===0)A=Me[0];else for(u=0,v=0;u<Qe-1;u++)if(k=Me[u],T=Me[u+1],p=k.distanceTo(T),v+=p,v>f){P=(v-f)/p,A=[T.x-P*(T.x-k.x),T.y-P*(T.y-k.y)];break}var it=o.unproject(B(A));return J([it.lat+U.lat,it.lng+U.lng])}var ey={__proto__:null,simplify:Hd,pointToSegmentDistance:qd,closestPointOnSegment:Jv,clipSegment:Vd,_getEdgeIntersection:Us,_getBitCode:Gn,_sqClosestPointOnSegment:Ei,isFlat:bt,_flat:Kd,polylineCenter:Gd},il={project:function(r){return new R(r.lng,r.lat)},unproject:function(r){return new oe(r.y,r.x)},bounds:new K([-180,-90],[180,90])},sl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var o=Math.PI/180,u=this.R,f=r.lat*o,p=this.R_MINOR/u,v=Math.sqrt(1-p*p),k=v*Math.sin(f),T=Math.tan(Math.PI/4-f/2)/Math.pow((1-k)/(1+k),v/2);return f=-u*Math.log(Math.max(T,1e-10)),new R(r.lng*o*u,f)},unproject:function(r){for(var o=180/Math.PI,u=this.R,f=this.R_MINOR/u,p=Math.sqrt(1-f*f),v=Math.exp(-r.y/u),k=Math.PI/2-2*Math.atan(v),T=0,P=.1,A;T<15&&Math.abs(P)>1e-7;T++)A=p*Math.sin(k),A=Math.pow((1-A)/(1+A),p/2),P=Math.PI/2-2*Math.atan(v*A)-k,k+=P;return new oe(k*o,r.x*o/u)}},ty={__proto__:null,LonLat:il,Mercator:sl,SphericalMercator:La},ny=s({},gn,{code:"EPSG:3395",projection:sl,transformation:function(){var r=.5/(Math.PI*sl.R);return gi(r,.5,-r,.5)}()}),Jd=s({},gn,{code:"EPSG:4326",projection:il,transformation:gi(1/180,1,-1/180,.5)}),ry=s({},rt,{projection:il,transformation:gi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,o){var u=o.lng-r.lng,f=o.lat-r.lat;return Math.sqrt(u*u+f*f)},infinite:!0});rt.Earth=gn,rt.EPSG3395=ny,rt.EPSG3857=Ra,rt.EPSG900913=uv,rt.EPSG4326=Jd,rt.Simple=ry;var Lt=Yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var o=r.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});re.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(r);return this._layers[o]?this:(this._layers[o]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var o=h(r);return this._layers[o]?(this._loaded&&r.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,o){for(var u in this._layers)r.call(o,this._layers[u]);return this},_addLayers:function(r){r=r?x(r)?r:[r]:[];for(var o=0,u=r.length;o<u;o++)this.addLayer(r[o])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var o=h(r);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,o=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var p=this._zoomBoundLayers[f].options;r=p.minZoom===void 0?r:Math.min(r,p.minZoom),o=p.maxZoom===void 0?o:Math.max(o,p.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xr=Lt.extend({initialize:function(r,o){E(this,o),this._layers={};var u,f;if(r)for(u=0,f=r.length;u<f;u++)this.addLayer(r[u])},addLayer:function(r){var o=this.getLayerId(r);return this._layers[o]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var o=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(r){var o=typeof r=="number"?r:this.getLayerId(r);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var o=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[r]&&f[r].apply(f,o);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,o){for(var u in this._layers)r.call(o,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),iy=function(r,o){return new xr(r,o)},Xt=xr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),xr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),xr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Le;for(var o in this._layers){var u=this._layers[o];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),sy=function(r,o){return new Xt(r,o)},br=wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){E(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,o){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,o){var u=this.options,f=u[o+"Size"];typeof f=="number"&&(f=[f,f]);var p=B(f),v=B(o==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));r.className="leaflet-marker-"+o+" "+(u.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),p&&(r.style.width=p.x+"px",r.style.height=p.y+"px")},_createImg:function(r,o){return o=o||document.createElement("img"),o.src=r,o},_getIconUrl:function(r){return H.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function oy(r){return new br(r)}var ji=br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ji.imagePath!="string"&&(ji.imagePath=this._detectIconPath()),(this.options.imagePath||ji.imagePath)+br.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var o=function(u,f,p){var v=f.exec(u);return v&&v[p]};return r=o(r,/^url\((['"])?(.+)\1\)$/,2),r&&o(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ae("div","leaflet-default-icon-path",document.body),o=_i(r,"background-image")||_i(r,"backgroundImage");if(document.body.removeChild(r),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Qd=qt.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new vn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var o=this._marker,u=o._map,f=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,v=Zn(o._icon),k=u.getPixelBounds(),T=u.getPixelOrigin(),P=ie(k.min._subtract(T).add(p),k.max._subtract(T).subtract(p));if(!P.contains(v)){var A=B((Math.max(P.max.x,v.x)-P.max.x)/(k.max.x-P.max.x)-(Math.min(P.min.x,v.x)-P.min.x)/(k.min.x-P.min.x),(Math.max(P.max.y,v.y)-P.max.y)/(k.max.y-P.max.y)-(Math.min(P.min.y,v.y)-P.min.y)/(k.min.y-P.min.y)).multiplyBy(f);u.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),je(o._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ce(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ie(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,r)))},_onDrag:function(r){var o=this._marker,u=o._shadow,f=Zn(o._icon),p=o._map.layerPointToLatLng(f);u&&je(u,f),o._latlng=p,r.latlng=p,r.oldLatLng=this._oldLatLng,o.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),$s=Lt.extend({options:{icon:new ji,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,o){E(this,o),this._latlng=J(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var o=this._latlng;return this._latlng=J(r),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),Y(u,o),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(u,"focus",this._panOnFocus,this);var p=r.icon.createShadow(this._shadow),v=!1;p!==this._shadow&&(this._removeShadow(),v=!0),p&&(Y(p,o),p.alt=""),this._shadow=p,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(this._icon,"focus",this._panOnFocus,this),ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ve(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&je(this._icon,r),this._shadow&&je(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qd)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qd(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&xt(this._icon,r),this._shadow&&xt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var o=this.options.icon.options,u=o.iconSize?B(o.iconSize):B(0,0),f=o.iconAnchor?B(o.iconAnchor):B(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ay(r,o){return new $s(r,o)}var yn=Lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return E(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fs=yn.extend({options:{fill:!0,radius:10},initialize:function(r,o){E(this,o),this._latlng=J(r),this._radius=this.options.radius},setLatLng:function(r){var o=this._latlng;return this._latlng=J(r),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var o=r&&r.radius||this._radius;return yn.prototype.setStyle.call(this,r),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,o=this._radiusY||r,u=this._clickTolerance(),f=[r+u,o+u];this._pxBounds=new K(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ly(r,o){return new Fs(r,o)}var ol=Fs.extend({initialize:function(r,o,u){if(typeof o=="number"&&(o=s({},u,{radius:o})),E(this,o),this._latlng=J(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Le(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:yn.prototype.setStyle,_project:function(){var r=this._latlng.lng,o=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===gn.distance){var p=Math.PI/180,v=this._mRadius/gn.R/p,k=u.project([o+v,r]),T=u.project([o-v,r]),P=k.add(T).divideBy(2),A=u.unproject(P).lat,U=Math.acos((Math.cos(v*p)-Math.sin(o*p)*Math.sin(A*p))/(Math.cos(o*p)*Math.cos(A*p)))/p;(isNaN(U)||U===0)&&(U=v/Math.cos(Math.PI/180*o)),this._point=P.subtract(u.getPixelOrigin()),this._radius=isNaN(U)?0:P.x-u.project([A,r-U]).x,this._radiusY=P.y-k.y}else{var V=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(V).x}this._updateBounds()}});function uy(r,o,u){return new ol(r,o,u)}var en=yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,o){E(this,o),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var o=1/0,u=null,f=Ei,p,v,k=0,T=this._parts.length;k<T;k++)for(var P=this._parts[k],A=1,U=P.length;A<U;A++){p=P[A-1],v=P[A];var V=f(r,p,v,!0);V<o&&(o=V,u=f(r,p,v))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,o){return o=o||this._defaultShape(),r=J(r),o.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Le,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var o=[],u=bt(r),f=0,p=r.length;f<p;f++)u?(o[f]=J(r[f]),this._bounds.extend(o[f])):o[f]=this._convertLatLngs(r[f]);return o},_project:function(){var r=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),o=new R(r,r);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(r,o,u){var f=r[0]instanceof oe,p=r.length,v,k;if(f){for(k=[],v=0;v<p;v++)k[v]=this._map.latLngToLayerPoint(r[v]),u.extend(k[v]);o.push(k)}else for(v=0;v<p;v++)this._projectLatlngs(r[v],o,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,f,p,v,k,T,P;for(u=0,p=0,v=this._rings.length;u<v;u++)for(P=this._rings[u],f=0,k=P.length;f<k-1;f++)T=Vd(P[f],P[f+1],r,f,!0),T&&(o[p]=o[p]||[],o[p].push(T[0]),(T[1]!==P[f+1]||f===k-2)&&(o[p].push(T[1]),p++))}},_simplifyPoints:function(){for(var r=this._parts,o=this.options.smoothFactor,u=0,f=r.length;u<f;u++)r[u]=Hd(r[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,o){var u,f,p,v,k,T,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,v=this._parts.length;u<v;u++)for(T=this._parts[u],f=0,k=T.length,p=k-1;f<k;p=f++)if(!(!o&&f===0)&&qd(r,T[p],T[f])<=P)return!0;return!1}});function cy(r,o){return new en(r,o)}en._flat=Kd;var Sr=en.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var o=en.prototype._convertLatLngs.call(this,r),u=o.length;return u>=2&&o[0]instanceof oe&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(r){en.prototype._setLatLngs.call(this,r),bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,o=this.options.weight,u=new R(o,o);if(r=new K(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,p=this._rings.length,v;f<p;f++)v=Fd(this._rings[f],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var o=!1,u,f,p,v,k,T,P,A;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,P=this._parts.length;v<P;v++)for(u=this._parts[v],k=0,A=u.length,T=A-1;k<A;T=k++)f=u[k],p=u[T],f.y>r.y!=p.y>r.y&&r.x<(p.x-f.x)*(r.y-f.y)/(p.y-f.y)+f.x&&(o=!o);return o||en.prototype._containsPoint.call(this,r,!0)}});function dy(r,o){return new Sr(r,o)}var tn=Xt.extend({initialize:function(r,o){E(this,o),this._layers={},r&&this.addData(r)},addData:function(r){var o=x(r)?r:r.features,u,f,p;if(o){for(u=0,f=o.length;u<f;u++)p=o[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var k=Ws(r,v);return k?(k.feature=Zs(r),k.defaultOptions=k.options,this.resetStyle(k),v.onEachFeature&&v.onEachFeature(r,k),this.addLayer(k)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(o){this._setLayerStyle(o,r)},this)},_setLayerStyle:function(r,o){r.setStyle&&(typeof o=="function"&&(o=o(r.feature)),r.setStyle(o))}});function Ws(r,o){var u=r.type==="Feature"?r.geometry:r,f=u?u.coordinates:null,p=[],v=o&&o.pointToLayer,k=o&&o.coordsToLatLng||al,T,P,A,U;if(!f&&!u)return null;switch(u.type){case"Point":return T=k(f),Yd(v,r,T,o);case"MultiPoint":for(A=0,U=f.length;A<U;A++)T=k(f[A]),p.push(Yd(v,r,T,o));return new Xt(p);case"LineString":case"MultiLineString":return P=Hs(f,u.type==="LineString"?0:1,k),new en(P,o);case"Polygon":case"MultiPolygon":return P=Hs(f,u.type==="Polygon"?1:2,k),new Sr(P,o);case"GeometryCollection":for(A=0,U=u.geometries.length;A<U;A++){var V=Ws({geometry:u.geometries[A],type:"Feature",properties:r.properties},o);V&&p.push(V)}return new Xt(p);case"FeatureCollection":for(A=0,U=u.features.length;A<U;A++){var ee=Ws(u.features[A],o);ee&&p.push(ee)}return new Xt(p);default:throw new Error("Invalid GeoJSON object.")}}function Yd(r,o,u,f){return r?r(o,u):new $s(u,f&&f.markersInheritOptions&&f)}function al(r){return new oe(r[1],r[0],r[2])}function Hs(r,o,u){for(var f=[],p=0,v=r.length,k;p<v;p++)k=o?Hs(r[p],o-1,u):(u||al)(r[p]),f.push(k);return f}function ll(r,o){return r=J(r),r.alt!==void 0?[w(r.lng,o),w(r.lat,o),w(r.alt,o)]:[w(r.lng,o),w(r.lat,o)]}function qs(r,o,u,f){for(var p=[],v=0,k=r.length;v<k;v++)p.push(o?qs(r[v],bt(r[v])?0:o-1,u,f):ll(r[v],f));return!o&&u&&p.length>0&&p.push(p[0].slice()),p}function kr(r,o){return r.feature?s({},r.feature,{geometry:o}):Zs(o)}function Zs(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ul={toGeoJSON:function(r){return kr(this,{type:"Point",coordinates:ll(this.getLatLng(),r)})}};$s.include(ul),ol.include(ul),Fs.include(ul),en.include({toGeoJSON:function(r){var o=!bt(this._latlngs),u=qs(this._latlngs,o?1:0,!1,r);return kr(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Sr.include({toGeoJSON:function(r){var o=!bt(this._latlngs),u=o&&!bt(this._latlngs[0]),f=qs(this._latlngs,u?2:o?1:0,!0,r);return o||(f=[f]),kr(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),xr.include({toMultiPoint:function(r){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(r).geometry.coordinates)}),kr(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(r){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(r);var u=o==="GeometryCollection",f=[];return this.eachLayer(function(p){if(p.toGeoJSON){var v=p.toGeoJSON(r);if(u)f.push(v.geometry);else{var k=Zs(v);k.type==="FeatureCollection"?f.push.apply(f,k.features):f.push(k)}}}),u?kr(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Xd(r,o){return new tn(r,o)}var hy=Xd,Vs=Lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,o,u){this._url=r,this._bounds=ue(o),E(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_r(this._image),this},bringToBack:function(){return this._map&&wr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ue(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",o=this._image=r?this._url:ae("img");if(Y(o,"leaflet-image-layer"),this._zoomAnimated&&Y(o,"leaflet-zoom-animated"),this.options.className&&Y(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(r){var o=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;qn(this._image,u,o)},_reset:function(){var r=this._image,o=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();je(r,o.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),fy=function(r,o,u){return new Vs(r,o,u)},eh=Vs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",o=this._image=r?this._url:ae("video");if(Y(o,"leaflet-image-layer"),this._zoomAnimated&&Y(o,"leaflet-zoom-animated"),this.options.className&&Y(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onloadeddata=l(this.fire,this,"load"),r){for(var u=o.getElementsByTagName("source"),f=[],p=0;p<u.length;p++)f.push(u[p].src);this._url=u.length>0?f:[o.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var k=ae("source");k.src=this._url[v],o.appendChild(k)}}});function py(r,o,u){return new eh(r,o,u)}var th=Vs.extend({_initImage:function(){var r=this._image=this._url;Y(r,"leaflet-image-layer"),this._zoomAnimated&&Y(r,"leaflet-zoom-animated"),this.options.className&&Y(r,this.options.className),r.onselectstart=_,r.onmousemove=_}});function my(r,o,u){return new th(r,o,u)}var Zt=Lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,o){r&&(r instanceof oe||x(r))?(this._latlng=J(r),E(this,o)):(E(this,r),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(l(ve,void 0,this._container),200)):ve(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=J(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_r(this._container),this},bringToBack:function(){return this._map&&wr(this._container),this},_prepareOpen:function(r){var o=this._source;if(!o._map)return!1;if(o instanceof Xt){o=null;var u=this._source._layers;for(var f in u)if(u[f]._map){o=u[f];break}if(!o)return!1;this._source=o}if(!r)if(o.getCenter)r=o.getCenter();else if(o.getLatLng)r=o.getLatLng();else if(o.getBounds)r=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")r.innerHTML=o;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),o=B(this.options.offset),u=this._getAnchor();this._zoomAnimated?je(this._container,r.add(u)):o=o.add(r).add(u);var f=this._containerBottom=-o.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=f+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(r,o,u,f){var p=o;return p instanceof r||(p=new r(f).setContent(o)),u&&p.setLatLng(u),p}}),Lt.include({_initOverlay:function(r,o,u,f){var p=u;return p instanceof r?(E(p,f),p._source=this):(p=o&&!f?o:new r(f,this),p.setContent(u)),p}});var Ks=Zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Zt.prototype.openOn.call(this,r)},onAdd:function(r){Zt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof yn||this._source.on("preclick",Vn))},onRemove:function(r){Zt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof yn||this._source.off("preclick",Vn))},getEvents:function(){var r=Zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",o=this._container=ae("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ae("div",r+"-content-wrapper",o);if(this._contentNode=ae("div",r+"-content",u),Si(o),Ya(this._contentNode),Q(o,"contextmenu",Vn),this._tipContainer=ae("div",r+"-tip-container",o),this._tip=ae("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ae("a",r+"-close-button",o);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Q(f,"click",function(p){Ue(p),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,o=r.style;o.width="",o.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var f=r.offsetHeight,p=this.options.maxHeight,v="leaflet-popup-scrolled";p&&f>p?(o.height=p+"px",Y(r,v)):ke(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();je(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,o=parseInt(_i(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,f=this._containerWidth,p=new R(this._containerLeft,-u-this._containerBottom);p._add(Zn(this._container));var v=r.layerPointToContainerPoint(p),k=B(this.options.autoPanPadding),T=B(this.options.autoPanPaddingTopLeft||k),P=B(this.options.autoPanPaddingBottomRight||k),A=r.getSize(),U=0,V=0;v.x+f+P.x>A.x&&(U=v.x+f-A.x+P.x),v.x-U-T.x<0&&(U=v.x-T.x),v.y+u+P.y>A.y&&(V=v.y+u-A.y+P.y),v.y-V-T.y<0&&(V=v.y-T.y),(U||V)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,V]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gy=function(r,o){return new Ks(r,o)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(r,o,u){return this._initOverlay(Ks,r,o,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Lt.include({bindPopup:function(r,o){return this._popup=this._initOverlay(Ks,this._popup,r,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Xt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Kn(r);var o=r.layer||r.target;if(this._popup._source===o&&!(o instanceof yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=o,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Gs=Zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Zt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Zt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Zt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",o=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var o,u,f=this._map,p=this._container,v=f.latLngToContainerPoint(f.getCenter()),k=f.layerPointToContainerPoint(r),T=this.options.direction,P=p.offsetWidth,A=p.offsetHeight,U=B(this.options.offset),V=this._getAnchor();T==="top"?(o=P/2,u=A):T==="bottom"?(o=P/2,u=0):T==="center"?(o=P/2,u=A/2):T==="right"?(o=0,u=A/2):T==="left"?(o=P,u=A/2):k.x<v.x?(T="right",o=0,u=A/2):(T="left",o=P+(U.x+V.x)*2,u=A/2),r=r.subtract(B(o,u,!0)).add(U).add(V),ke(p,"leaflet-tooltip-right"),ke(p,"leaflet-tooltip-left"),ke(p,"leaflet-tooltip-top"),ke(p,"leaflet-tooltip-bottom"),Y(p,"leaflet-tooltip-"+T),je(p,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&xt(this._container,r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(o)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vy=function(r,o){return new Gs(r,o)};re.include({openTooltip:function(r,o,u){return this._initOverlay(Gs,r,o,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Lt.include({bindTooltip:function(r,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gs,this._tooltip,r,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var o=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Xt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&(Q(o,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Q(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var o=r.latlng,u,f;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(o)}});var nh=br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var o=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Is(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=B(u.bgPos);o.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function yy(r){return new nh(r)}br.Default=ji;var Ti=Lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){E(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ve(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof R?r:new R(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var o=this.getPane().children,u=-r(-1/0,1/0),f=0,p=o.length,v;f<p;f++)v=o[f].style.zIndex,o[f]!==this._container&&v&&(u=r(u,+v));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){xt(this._container,this.options.opacity);var r=+new Date,o=!1,u=!1;for(var f in this._tiles){var p=this._tiles[f];if(!(!p.current||!p.loaded)){var v=Math.min(1,(r-p.loaded)/200);xt(p.el,v),v<1?o=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(Ie(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,o=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=o-Math.abs(r-u),this._onUpdateLevel(u)):(ve(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[r],p=this._map;return f||(f=this._levels[r]={},f.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=o,f.origin=p.project(p.unproject(p.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,p.getCenter(),p.getZoom()),_(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var r,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)o=this._tiles[r],o.retain=o.current;for(r in this._tiles)if(o=this._tiles[r],o.current&&!o.active){var f=o.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var o in this._tiles)this._tiles[o].coords.z===r&&this._removeTile(o)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ve(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,o,u,f){var p=Math.floor(r/2),v=Math.floor(o/2),k=u-1,T=new R(+p,+v);T.z=+k;var P=this._tileCoordsToKey(T),A=this._tiles[P];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),k>f?this._retainParent(p,v,k,f):!1)},_retainChildren:function(r,o,u,f){for(var p=2*r;p<2*r+2;p++)for(var v=2*o;v<2*o+2;v++){var k=new R(p,v);k.z=u+1;var T=this._tileCoordsToKey(k),P=this._tiles[T];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);u+1<f&&this._retainChildren(p,v,u+1,f)}},_resetView:function(r){var o=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var o=this.options;return o.minNativeZoom!==void 0&&r<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<r?o.maxNativeZoom:r},_setView:function(r,o,u,f){var p=Math.round(o);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var v=this.options.updateWhenZooming&&p!==this._tileZoom;(!f||v)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,o)},_setZoomTransforms:function(r,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,o)},_setZoomTransform:function(r,o,u){var f=this._map.getZoomScale(u,r.zoom),p=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(o,u)).round();H.any3d?qn(r.el,p,f):je(r.el,p)},_resetGrid:function(){var r=this._map,o=r.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,o.wrapLng[0]],f).x/u.x),Math.ceil(r.project([0,o.wrapLng[1]],f).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([o.wrapLat[0],0],f).y/u.x),Math.ceil(r.project([o.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),f=o.getZoomScale(u,this._tileZoom),p=o.project(r,this._tileZoom).floor(),v=o.getSize().divideBy(f*2);return new K(p.subtract(v),p.add(v))},_update:function(r){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(r===void 0&&(r=o.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),p=this._pxBoundsToTileRange(f),v=p.getCenter(),k=[],T=this.options.keepBuffer,P=new K(p.getBottomLeft().subtract([T,-T]),p.getTopRight().add([T,-T]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var U=this._tiles[A].coords;(U.z!==this._tileZoom||!P.contains(new R(U.x,U.y)))&&(this._tiles[A].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var V=p.min.y;V<=p.max.y;V++)for(var ee=p.min.x;ee<=p.max.x;ee++){var Qe=new R(ee,V);if(Qe.z=this._tileZoom,!!this._isValidTile(Qe)){var Me=this._tiles[this._tileCoordsToKey(Qe)];Me?Me.current=!0:k.push(Qe)}}if(k.sort(function(it,jr){return it.distanceTo(v)-jr.distanceTo(v)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var St=document.createDocumentFragment();for(ee=0;ee<k.length;ee++)this._addTile(k[ee],St);this._level.el.appendChild(St)}}}},_isValidTile:function(r){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!o.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return ue(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var o=this._map,u=this.getTileSize(),f=r.scaleBy(u),p=f.add(u),v=o.unproject(f,r.z),k=o.unproject(p,r.z);return[v,k]},_tileCoordsToBounds:function(r){var o=this._tileCoordsToNwSe(r),u=new Le(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var o=r.split(":"),u=new R(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(r){var o=this._tiles[r];o&&(ve(o.el),delete this._tiles[r],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Y(r,"leaflet-tile");var o=this.getTileSize();r.style.width=o.x+"px",r.style.height=o.y+"px",r.onselectstart=_,r.onmousemove=_,H.ielt9&&this.options.opacity<1&&xt(r,this.options.opacity)},_addTile:function(r,o){var u=this._getTilePos(r),f=this._tileCoordsToKey(r),p=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(p),this.createTile.length<2&&ce(l(this._tileReady,this,r,null,p)),je(p,u),this._tiles[f]={el:p,coords:r,current:!0},o.appendChild(p),this.fire("tileloadstart",{tile:p,coords:r})},_tileReady:function(r,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:r});var f=this._tileCoordsToKey(r);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(xt(u.el,0),Ie(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(Y(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var o=new R(this._wrapX?g(r.x,this._wrapX):r.x,this._wrapY?g(r.y,this._wrapY):r.y);return o.z=r.z,o},_pxBoundsToTileRange:function(r){var o=this.getTileSize();return new K(r.min.unscaleBy(o).floor(),r.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function _y(r){return new Ti(r)}var Er=Ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,o){this._url=r,o=E(this,o),o.detectRetina&&H.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,o){return this._url===r&&o===void 0&&(o=!0),this._url=r,o||this.redraw(),this},createTile:function(r,o){var u=document.createElement("img");return Q(u,"load",l(this._tileOnLoad,this,o,u)),Q(u,"error",l(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var o={r:H.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(o.y=u),o["-y"]=u}return y(this._url,s(o,this.options))},_tileOnLoad:function(r,o){H.ielt9?setTimeout(l(r,this,null,o),0):r(null,o)},_tileOnError:function(r,o,u){var f=this.options.errorTileUrl;f&&o.getAttribute("src")!==f&&(o.src=f),r(u,o)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(r=o-r),r+f},_getSubdomain:function(r){var o=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var r,o;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(o=this._tiles[r].el,o.onload=_,o.onerror=_,!o.complete)){o.src=I;var u=this._tiles[r].coords;ve(o),delete this._tiles[r],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(r){var o=this._tiles[r];if(o)return o.el.setAttribute("src",I),Ti.prototype._removeTile.call(this,r)},_tileReady:function(r,o,u){if(!(!this._map||u&&u.getAttribute("src")===I))return Ti.prototype._tileReady.call(this,r,o,u)}});function rh(r,o){return new Er(r,o)}var ih=Er.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,o){this._url=r;var u=s({},this.defaultWmsParams);for(var f in o)f in this.options||(u[f]=o[f]);o=E(this,o);var p=o.detectRetina&&H.retina?2:1,v=this.getTileSize();u.width=v.x*p,u.height=v.y*p,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Er.prototype.onAdd.call(this,r)},getTileUrl:function(r){var o=this._tileCoordsToNwSe(r),u=this._crs,f=ie(u.project(o[0]),u.project(o[1])),p=f.min,v=f.max,k=(this._wmsVersion>=1.3&&this._crs===Jd?[p.y,p.x,v.y,v.x]:[p.x,p.y,v.x,v.y]).join(","),T=Er.prototype.getTileUrl.call(this,r);return T+O(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(r,o){return s(this.wmsParams,r),o||this.redraw(),this}});function wy(r,o){return new ih(r,o)}Er.WMS=ih,rh.wms=wy;var nn=Lt.extend({options:{padding:.1},initialize:function(r){E(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,o){var u=this._map.getZoomScale(o,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,o),v=f.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(r,o));H.any3d?qn(this._container,v,u):je(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-r)).round();this._bounds=new K(u,u.add(o.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sh=nn.extend({options:{tolerance:0},getEvents:function(){var r=nn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Q(r,"mousemove",this._onMouseMove,this),Q(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Q(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ie(this._redrawRequest),delete this._ctx,ve(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var o in this._layers)r=this._layers[o],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nn.prototype._update.call(this);var r=this._bounds,o=this._container,u=r.getSize(),f=H.retina?2:1;je(o,r.min),o.width=f*u.x,o.height=f*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){nn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var o=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var o=r._order,u=o.next,f=o.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var o=r.options.dashArray.split(/[, ]+/),u=[],f,p;for(p=0;p<o.length;p++){if(f=Number(o[p]),isNaN(f))return;u.push(f)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var o=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(r._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(r._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var o=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!o||r._pxBounds&&r._pxBounds.intersects(o))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,o){if(this._drawing){var u,f,p,v,k=r._parts,T=k.length,P=this._ctx;if(T){for(P.beginPath(),u=0;u<T;u++){for(f=0,p=k[u].length;f<p;f++)v=k[u][f],P[f?"lineTo":"moveTo"](v.x,v.y);o&&P.closePath()}this._fillStroke(P,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var o=r._point,u=this._ctx,f=Math.max(Math.round(r._radius),1),p=(Math.max(Math.round(r._radiusY),1)||f)/f;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(o.x,o.y/p,f,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,o){var u=o.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(o.options&&o.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var o=this._map.mouseEventToLayerPoint(r),u,f,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(o)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,o)}},_handleMouseOut:function(r){var o=this._hoveredLayer;o&&(ke(this._container,"leaflet-interactive"),this._fireEvent([o],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,o){if(!this._mouseHoverThrottled){for(var u,f,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(o)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(Y(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,o,u){this._map._fireDOMEvent(o,u||o.type,r)},_bringToFront:function(r){var o=r._order;if(o){var u=o.next,f=o.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(r)}},_bringToBack:function(r){var o=r._order;if(o){var u=o.next,f=o.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(r)}}});function oh(r){return H.canvas?new sh(r):null}var Ni=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xy={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var o=r._container=Ni("shape");Y(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",r._path=Ni("path"),o.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var o=r._container;this._container.appendChild(o),r.options.interactive&&r.addInteractiveTarget(o)},_removePath:function(r){var o=r._container;ve(o),r.removeInteractiveTarget(o),delete this._layers[h(r)]},_updateStyle:function(r){var o=r._stroke,u=r._fill,f=r.options,p=r._container;p.stroked=!!f.stroke,p.filled=!!f.fill,f.stroke?(o||(o=r._stroke=Ni("stroke")),p.appendChild(o),o.weight=f.weight+"px",o.color=f.color,o.opacity=f.opacity,f.dashArray?o.dashStyle=x(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=f.lineCap.replace("butt","flat"),o.joinstyle=f.lineJoin):o&&(p.removeChild(o),r._stroke=null),f.fill?(u||(u=r._fill=Ni("fill")),p.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(p.removeChild(u),r._fill=null)},_updateCircle:function(r){var o=r._point.round(),u=Math.round(r._radius),f=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(r,o){r._path.v=o},_bringToFront:function(r){_r(r._container)},_bringToBack:function(r){wr(r._container)}},Js=H.vml?Ni:cd,Pi=nn.extend({_initContainer:function(){this._container=Js("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Js("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ve(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nn.prototype._update.call(this);var r=this._bounds,o=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),je(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(r){var o=r._path=Js("path");r.options.className&&Y(o,r.options.className),r.options.interactive&&Y(o,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ve(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var o=r._path,u=r.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(r,o){this._setPath(r,dd(r._parts,o))},_updateCircle:function(r){var o=r._point,u=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||u,p="a"+u+","+f+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(o.x-u)+","+o.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(r,v)},_setPath:function(r,o){r._path.setAttribute("d",o)},_bringToFront:function(r){_r(r._path)},_bringToBack:function(r){wr(r._path)}});H.vml&&Pi.include(xy);function ah(r){return H.svg||H.vml?new Pi(r):null}re.include({getRenderer:function(r){var o=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var o=this._paneRenderers[r];return o===void 0&&(o=this._createRenderer({pane:r}),this._paneRenderers[r]=o),o},_createRenderer:function(r){return this.options.preferCanvas&&oh(r)||ah(r)}});var lh=Sr.extend({initialize:function(r,o){Sr.prototype.initialize.call(this,this._boundsToLatLngs(r),o)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ue(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function by(r,o){return new lh(r,o)}Pi.create=Js,Pi.pointsToPath=dd,tn.geometryToLayer=Ws,tn.coordsToLatLng=al,tn.coordsToLatLngs=Hs,tn.latLngToCoords=ll,tn.latLngsToCoords=qs,tn.getFeature=kr,tn.asFeature=Zs,re.mergeOptions({boxZoom:!0});var uh=qt.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wi(),Ha(),this._startPoint=this._map.mouseEventToContainerPoint(r),Q(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var o=new K(this._point,this._startPoint),u=o.getSize();je(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ve(this._box),ke(this._container,"leaflet-crosshair")),xi(),qa(),de(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new Le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",uh),re.mergeOptions({doubleClickZoom:!0});var ch=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var o=this._map,u=o.getZoom(),f=o.options.zoomDelta,p=r.originalEvent.shiftKey?u-f:u+f;o.options.doubleClickZoom==="center"?o.setZoom(p):o.setZoomAround(r.containerPoint,p)}});re.addInitHook("addHandler","doubleClickZoom",ch),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dh=qt.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new vn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ue(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,o){return r-(r-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;r.x<o.min.x&&(r.x=this._viscousLimit(r.x,o.min.x)),r.y<o.min.y&&(r.y=this._viscousLimit(r.y,o.min.y)),r.x>o.max.x&&(r.x=this._viscousLimit(r.x,o.max.x)),r.y>o.max.y&&(r.y=this._viscousLimit(r.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,o=Math.round(r/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,p=(f-o+u)%r+o-u,v=(f+o+u)%r-o-u,k=Math.abs(p+u)<Math.abs(v+u)?p:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(r){var o=this._map,u=o.options,f=!u.inertia||r.noInertia||this._times.length<2;if(o.fire("dragend",r),f)o.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,k=u.easeLinearity,T=p.multiplyBy(k/v),P=T.distanceTo([0,0]),A=Math.min(u.inertiaMaxSpeed,P),U=T.multiplyBy(A/P),V=A/(u.inertiaDeceleration*k),ee=U.multiplyBy(-V/2).round();!ee.x&&!ee.y?o.fire("moveend"):(ee=o._limitOffset(ee,o.options.maxBounds),ce(function(){o.panBy(ee,{duration:V,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",dh),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hh=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Q(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,o=document.documentElement,u=r.scrollTop||o.scrollTop,f=r.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var o=this._panKeys={},u=this.keyCodes,f,p;for(f=0,p=u.left.length;f<p;f++)o[u.left[f]]=[-1*r,0];for(f=0,p=u.right.length;f<p;f++)o[u.right[f]]=[r,0];for(f=0,p=u.down.length;f<p;f++)o[u.down[f]]=[0,r];for(f=0,p=u.up.length;f<p;f++)o[u.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var o=this._zoomKeys={},u=this.keyCodes,f,p;for(f=0,p=u.zoomIn.length;f<p;f++)o[u.zoomIn[f]]=r;for(f=0,p=u.zoomOut.length;f<p;f++)o[u.zoomOut[f]]=-r},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var o=r.keyCode,u=this._map,f;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[o],r.shiftKey&&(f=B(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(B(f),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(p)}else u.panBy(f)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Kn(r)}}});re.addInitHook("addHandler","keyboard",hh),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fh=qt.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var o=Dd(r),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Kn(r)},_performZoom:function(){var r=this._map,o=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,v=u?Math.ceil(p/u)*u:p,k=r._limitZoom(o+(this._delta>0?v:-v))-o;this._delta=0,this._startTime=null,k&&(r.options.scrollWheelZoom==="center"?r.setZoom(o+k):r.setZoomAround(this._lastMousePos,o+k))}});re.addInitHook("addHandler","scrollWheelZoom",fh);var Sy=600;re.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var ph=qt.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var o=r.touches[0];this._startPos=this._newPos=new R(o.clientX,o.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Q(document,"touchend",Ue),Q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Sy),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){de(document,"touchend",Ue),de(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)},_onMove:function(r){var o=r.touches[0];this._newPos=new R(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,o){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});re.addInitHook("addHandler","tapHold",ph),re.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var mh=qt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var o=this._map;if(!(!r.touches||r.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(r.touches[0]),f=o.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),Ue(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(r.touches[0]),f=o.mouseEventToContainerPoint(r.touches[1]),p=u.distanceTo(f)/this._startDist;if(this._zoom=o.getScaleZoom(p,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&p<1||this._zoom>o.getMaxZoom()&&p>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var v=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(p===1&&v.x===0&&v.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Ie(this._animRequest);var k=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(k,this,!0),Ue(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ie(this._animRequest),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",mh),re.BoxZoom=uh,re.DoubleClickZoom=ch,re.Drag=dh,re.Keyboard=hh,re.ScrollWheelZoom=fh,re.TapHold=ph,re.TouchZoom=mh,n.Bounds=K,n.Browser=H,n.CRS=rt,n.Canvas=sh,n.Circle=ol,n.CircleMarker=Fs,n.Class=wt,n.Control=Ct,n.DivIcon=nh,n.DivOverlay=Zt,n.DomEvent=$v,n.DomUtil=Bv,n.Draggable=vn,n.Evented=Yt,n.FeatureGroup=Xt,n.GeoJSON=tn,n.GridLayer=Ti,n.Handler=qt,n.Icon=br,n.ImageOverlay=Vs,n.LatLng=oe,n.LatLngBounds=Le,n.Layer=Lt,n.LayerGroup=xr,n.LineUtil=ey,n.Map=re,n.Marker=$s,n.Mixin=Kv,n.Path=yn,n.Point=R,n.PolyUtil=Gv,n.Polygon=Sr,n.Polyline=en,n.Popup=Ks,n.PosAnimation=zd,n.Projection=ty,n.Rectangle=lh,n.Renderer=nn,n.SVG=Pi,n.SVGOverlay=th,n.TileLayer=Er,n.Tooltip=Gs,n.Transformation=Oa,n.Util=Hn,n.VideoOverlay=eh,n.bind=l,n.bounds=ie,n.canvas=oh,n.circle=uy,n.circleMarker=ly,n.control=ki,n.divIcon=yy,n.extend=s,n.featureGroup=sy,n.geoJSON=Xd,n.geoJson=hy,n.gridLayer=_y,n.icon=oy,n.imageOverlay=fy,n.latLng=J,n.latLngBounds=ue,n.layerGroup=iy,n.map=Fv,n.marker=ay,n.point=B,n.polygon=dy,n.polyline=cy,n.popup=gy,n.rectangle=by,n.setOptions=E,n.stamp=h,n.svg=ah,n.svgOverlay=my,n.tileLayer=rh,n.tooltip=vy,n.transformation=gi,n.version=i,n.videoOverlay=py;var ky=window.L;n.noConflict=function(){return window.L=ky,this},window.L=n})})(nc,nc.exports);var Pa=nc.exports;function ad(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function ld(e,t){return t==null?function(i,s){const a=C.useRef();return a.current||(a.current=e(i,s)),a}:function(i,s){const a=C.useRef();a.current||(a.current=e(i,s));const l=C.useRef(i),{instance:d}=a.current;return C.useEffect(function(){l.current!==i&&(t(d,i,l.current),l.current=i)},[d,i,s]),a}}function yk(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function sv(e){return function(n){const i=rv(),s=e(od(n,i),i);return ev(i.map,n.attribution),iv(s.current,n.eventHandlers),yk(s.current,i),s}}function _k(e,t){const n=ld(e,t),i=sv(n);return pk(i)}function wk(e,t){const n=ld(e),i=vk(n,t);return mk(i)}function xk(e,t){const n=ld(e,t),i=sv(n);return gk(i)}function bk(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function rc(){return rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rc.apply(this,arguments)}function Sk({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:a,placeholder:l,style:d,whenReady:h,zoom:m,...g},_){const[w]=C.useState({className:s,id:a,style:d}),[S,j]=C.useState(null);C.useImperativeHandle(_,()=>(S==null?void 0:S.map)??null,[S]);const E=C.useCallback(b=>{if(b!==null&&S===null){const y=new Pa.Map(b,g);n!=null&&m!=null?y.setView(n,m):e!=null&&y.fitBounds(e,t),h!=null&&y.whenReady(h),j(hk(y))}},[]);C.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const O=S?ri.createElement(nv,{value:S},i):l??null;return ri.createElement("div",rc({},w,{ref:E}),O)}const ov=C.forwardRef(Sk),av=_k(function({position:t,...n},i){const s=new Pa.Marker(t,n);return ad(s,fk(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kk=wk(function(t,n){const i=new Pa.Popup(t,n.overlayContainer);return ad(i,n)},function(t,n,{position:i},s){C.useEffect(function(){const{instance:l}=t;function d(m){m.popup===l&&(l.update(),s(!0))}function h(m){m.popup===l&&s(!1)}return n.map.on({popupopen:d,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:d,popupclose:h}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,i])}),lv=xk(function({url:t,...n},i){const s=new Pa.TileLayer(t,od(n,i));return ad(s,i)},function(t,n,i){bk(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),lp=[40.7128,-74.006],Ek=["All Types","A+","A-","B+","B-","AB+","AB-","O+","O-"];function jk(){const e=Wn(),[t,n]=C.useState("All Types"),[i,s]=C.useState(null),[a,l]=C.useState(null),[d,h]=C.useState(null),m=()=>{e("/live-donor-map")};return C.useCallback(g=>{s(g),h(null)},[]),C.useCallback(()=>{h("Failed to load Google Maps")},[]),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600",children:""})," Live Donor Map"]}),c.jsx("button",{onClick:m,onMouseEnter:g=>g.currentTarget.classList.add("bg-gray-200","scale-105"),onMouseLeave:g=>g.currentTarget.classList.remove("bg-gray-200","scale-105"),className:"px-3 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200 transition-all duration-200 transform hover:scale-105 active:scale-95",children:"Full View"})]}),c.jsxs(ov,{center:lp,zoom:12,style:{height:"400px",width:"100%"},children:[c.jsx(lv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),c.jsx(av,{position:lp})]}),c.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:Ek.map(g=>c.jsx("button",{onClick:()=>n(g),onMouseEnter:()=>l(g),onMouseLeave:()=>l(null),className:`px-3 py-1 rounded text-sm whitespace-nowrap transition-all duration-200 ${t===g?"bg-red-600 text-white shadow-md scale-105":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-red-300"} transform ${a===g&&t!==g?"scale-105":""}`,children:g},g))})]})}function Tk(){const e=Wn(),[t,n]=C.useState(null),i=[{icon:"",title:"Emergency Request",subtitle:"Create Emergency Request",color:"red",onClick:()=>e("/blood-request-portal")},{icon:"",title:"Find Donor",subtitle:"Search for a donor",color:"white",onClick:()=>e("/live-donor-map")}];return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map((s,a)=>c.jsx("button",{onClick:s.onClick,onMouseEnter:()=>n(a),onMouseLeave:()=>n(null),className:`p-4 rounded-lg text-left transition-all duration-200 ${s.color==="red"?"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg":"bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400"} transform ${t===a?"scale-105 -translate-y-1":"scale-100"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`text-2xl transition-transform duration-200 ${t===a?"scale-110":""}`,children:s.icon}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:s.title}),c.jsx("p",{className:`text-sm ${s.color==="red"?"text-red-100":"text-gray-600"}`,children:s.subtitle})]})]})},a))})]})}function Nk(){const{getStats:e,bloodRequests:t,donors:n,emergencies:i}=ct(),s=e(),[a,l]=C.useState("overview"),d=[{title:"ACTIVE DONORS",value:s.totalDonors.toLocaleString(),trend:"+12.5% vs last week",trendUp:!0,icon:"",color:"green"},{title:"ACTIVE REQUESTS",value:s.activeRequests.toString(),trend:"-8.3% vs yesterday",trendUp:!1,icon:"",color:"red"},{title:"SUCCESSFUL MATCHES",value:s.fulfilledRequests.toString(),trend:"+18.2% this month",trendUp:!0,icon:"",color:"blue"},{title:"LIVES SAVED",value:(s.fulfilledRequests*3).toLocaleString(),trend:"+25.7% all time",trendUp:!0,icon:"",color:"orange"}];return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Emergency Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Real-time monitoring and emergency response coordination"})]}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[c.jsx("span",{className:"text-green-600 text-xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("span",{className:"text-green-800 font-medium",children:"System Status: All services operational"}),c.jsx("span",{className:"text-green-600 mx-2",children:""}),c.jsxs("span",{className:"text-green-600",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6",children:d.map((h,m)=>c.jsx(uk,{kpi:h},m))}),c.jsx(ck,{activeTab:a,setActiveTab:l}),a==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(jk,{})}),c.jsx("div",{children:c.jsx(Tk,{})})]}),a==="alerts"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Emergency Alerts"}),c.jsx("div",{className:"space-y-4",children:i.length>0?i.map(h=>c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:[h.bloodType," - ",h.urgency]}),c.jsx("p",{className:"text-gray-600 mt-1",children:h.location}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h.time})]}),c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:h.urgency})]})},h.id)):c.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center text-gray-500",children:"No emergency alerts at this time"})})]}),a==="requests"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Active Requests"}),c.jsx("div",{className:"space-y-4",children:t.filter(h=>h.status==="Pending").map(h=>c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:h.bloodType}),c.jsx("p",{className:"text-gray-600",children:h.location})]}),c.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:h.status})]})},h.id))})]}),a==="donors"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Available Donors"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(h=>h.available).map(h=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[c.jsx("h3",{className:"font-semibold",children:h.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Blood Type: ",h.bloodType]})]},h.id))})]})]})})}function Pk({alert:e}){const{updateBloodRequest:t}=ct(),[n,i]=C.useState(!1),s=async()=>{i(!0),setTimeout(()=>{e("Thank you for responding! A coordinator will contact you shortly."),i(!1)},1e3)},a=()=>{const d={title:`Emergency Blood Request - ${e.bloodType}`,text:`Emergency situation: ${e.location}. Blood type needed: ${e.bloodType}`,url:window.location.href};navigator.share?navigator.share(d).catch(h=>{console.error("Error sharing:",h),l()}):l()},l=()=>{const d=`Emergency Blood Request - ${e.bloodType}
Location: ${e.location}`;navigator.clipboard?(navigator.clipboard.writeText(d),e("Alert details copied to clipboard!")):e(`Share this: ${d}`)};return c.jsx("div",{className:`bg-white rounded-lg shadow-md p-6 border-l-4 transition-all duration-300 hover:shadow-xl ${e.color==="red"?"border-red-500":"border-orange-500"}`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 transition-transform duration-300 hover:scale-110 ${e.color==="red"?"bg-red-100":"bg-orange-100"}`,children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.urgency==="Critical"?"Critical Blood Shortage":"Urgent Request"," - ",e.bloodType]}),c.jsx("span",{className:"text-xs text-gray-500",children:e.postedTime})]}),c.jsx("p",{className:"text-gray-700 mb-4",children:e.location==="All Areas"?"Emergency situation requiring immediate blood transfusion. Multiple units needed for ongoing treatment and stabilization.":`Emergency situation at ${e.location}. Patient requires immediate transfusion for major surgery scheduled in 2 hours.`}),c.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Blood Type:"}),c.jsx("span",{className:"ml-2 text-gray-900",children:e.bloodType})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Location:"}),c.jsx("span",{className:"ml-2 text-gray-900",children:e.location})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Doctor:"}),c.jsxs("span",{className:"ml-2 text-gray-900",children:["Dr. ",e.urgency==="Critical"?"Sarah Mitchell":"James Rodriguez"]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:s,disabled:n,onMouseEnter:d=>{n||d.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105")},onMouseLeave:d=>{d.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:n?"Responding...":"Respond Now"})]}),c.jsxs("button",{onClick:a,onMouseEnter:d=>{d.currentTarget.classList.add("bg-gray-100","border-gray-400","scale-105")},onMouseLeave:d=>{d.currentTarget.classList.remove("bg-gray-100","border-gray-400","scale-105")},className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 flex items-center gap-2 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Share Alert"})]})]})]})]})})}function Ck({activities:e=[]}){return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:e.map((t,n)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${t.color==="blue"?"bg-blue-100":t.color==="red"?"bg-red-100":t.color==="yellow"?"bg-yellow-100":"bg-green-100"}`,children:c.jsx("span",{className:"text-lg",children:t.icon})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-800",children:t.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.time})]})]},n))})]})}function Lk(){const{emergencies:e,bloodRequests:t,donors:n}=ct(),i=e.filter(a=>a.urgency==="Critical"||a.urgency==="Urgent").sort((a,l)=>new Date(l.createdAt)-new Date(a.createdAt)).map((a,l)=>({...a,type:a.urgency==="Critical"?"critical":"urgent",color:a.urgency==="Critical"?"red":"orange",postedTime:`${l*10+5}m ago`})),s=[{icon:"",color:"blue",message:"request for O- blood type",time:"8 minutes ago"},{icon:"",color:"red",message:"New blood request created by Memorial Medical Center",time:"15 minutes ago"},{icon:"",color:"yellow",message:"Sarah Johnson registered as new donor with AB+ blood type",time:"23 minutes ago"},{icon:"",color:"green",message:"David Chen scheduled donation appointment for next week",time:"35 minutes ago"}];return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsx("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Critical Alerts"}),c.jsx("a",{href:"#",className:"text-red-600 hover:underline",children:"View All"})]}),c.jsx("div",{className:"space-y-4",children:i.length>0?i.map(a=>c.jsx(Pk,{alert:a},a.id)):c.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:c.jsx("p",{className:"text-gray-500",children:"No critical alerts at this time"})})})]}),c.jsx("div",{children:c.jsx(Ck,{activities:s})})]})})})}function Ok({action:e}){const t=Wn(),[n,i]=C.useState(!1),s={red:"bg-red-50 border-red-200 hover:bg-red-100 hover:border-red-400 hover:shadow-lg",green:"bg-green-50 border-green-200 hover:bg-green-100 hover:border-green-400 hover:shadow-lg",orange:"bg-orange-50 border-orange-200 hover:bg-orange-100 hover:border-orange-400 hover:shadow-lg"},a={red:"text-red-600",green:"text-green-600",orange:"text-orange-600"},l=()=>{t(e.action)};return c.jsxs("div",{onClick:l,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`bg-white rounded-lg shadow-md p-6 border-2 ${s[e.color]} transition-all duration-300 cursor-pointer h-full transform ${n?"scale-105 -translate-y-1":"scale-100"}`,children:[c.jsx("div",{className:`text-4xl mb-4 transition-transform duration-300 ${n?"scale-110 rotate-3":""} ${a[e.color]}`,children:e.icon}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),c.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]})}function up({request:e}){const{updateBloodRequest:t}=ct(),[n,i]=C.useState(!1),s=()=>{const h=e.status==="Pending"?"In Progress":"Fulfilled";t(e.id,{status:h}),alert(`Request ${e.requestId} updated to ${h}`)},a=()=>{const h=`
Request ID: ${e.requestId}
Blood Type: ${e.bloodType}
Quantity: ${e.quantity} units
Patient: ${e.patientName||"Anonymous"}
Location: ${e.location}
Status: ${e.status}
Urgency: ${e.urgency||"Normal"}
Donors Matched: ${e.donorsMatched||0}
Time Elapsed: ${e.timeElapsed}
    `;alert(h.trim())},l=e.urgency==="critical"||e.urgency==="Critical",d=e.donorsMatched>0;return c.jsx("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`bg-white rounded-lg shadow-md p-6 border border-gray-200 transition-all duration-300 ${n?"shadow-xl border-red-300":""}`,children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[c.jsxs("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:["Request #",e.requestId]}),l&&c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold uppercase animate-pulse",children:"Critical"}),d&&c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:"matched"})]}),c.jsxs("p",{className:"text-gray-700 font-medium mb-4",children:[e.patientName?`${e.patientName} - `:"Emergency Surgery - ","Patient ID: P-",String(e.id).slice(-5)]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Blood Type"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.bloodType})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Units Needed"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.quantity})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Donors Matched"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.donorsMatched||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Time Elapsed"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.timeElapsed||"Just now"})]})]})]}),c.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.location||"Trauma case - Multiple injuries requiring immediate transfusion"]})})]}),c.jsxs("div",{className:"flex flex-col gap-2 lg:min-w-[120px]",children:[c.jsxs("button",{onClick:a,onMouseEnter:h=>h.currentTarget.classList.add("bg-gray-100"),onMouseLeave:h=>h.currentTarget.classList.remove("bg-gray-100"),className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 hover:border-gray-400 transition-all duration-200 font-medium",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Details"})]}),c.jsxs("button",{onClick:s,onMouseEnter:h=>h.currentTarget.classList.add("bg-red-700","shadow-lg"),onMouseLeave:h=>h.currentTarget.classList.remove("bg-red-700","shadow-lg"),className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Update"})]})]})]})})}function Rk(){return c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"City General Hospital"}),c.jsx("p",{className:"text-gray-600",children:"Emergency Department - Verified Institution"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Verified"}),c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Priority Access"})]})]})})}function Ak({stats:e}){const t=[{label:"Active Requests",value:e.activeRequests||12,trend:"+3",trendUp:!0,icon:"",color:"pink"},{label:"Matched Donors",value:e.availableDonors||47,trend:"+8",trendUp:!0,icon:"",color:"green"},{label:"Units Pending",value:e.activeRequests*2||28,trend:"-5",trendUp:!1,icon:"",color:"yellow"},{label:"Completed Today",value:e.fulfilledRequests||15,trend:"+2",trendUp:!0,icon:"",color:"green"}],n={pink:"bg-pink-50 border-pink-200",green:"bg-green-50 border-green-200",yellow:"bg-yellow-50 border-yellow-200"};return c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:t.map((i,s)=>c.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border ${n[i.color]}`,children:[c.jsx("div",{className:"text-3xl mb-3",children:i.icon}),c.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.value}),c.jsx("div",{className:"text-sm text-gray-600 mb-2",children:i.label}),c.jsxs("div",{className:"flex items-center gap-1",children:[i.trendUp?c.jsx("span",{className:"text-green-600",children:""}):c.jsx("span",{className:"text-red-600",children:""}),c.jsx("span",{className:`text-xs ${i.trendUp?"text-green-600":"text-red-600"}`,children:i.trend})]})]},s))})}function Ik({activeTab:e,setActiveTab:t}){const n=[{id:"overview",label:"Overview",icon:""},{id:"requests",label:"Active Requests",icon:""},{id:"donors",label:"Matched Donors",icon:""},{id:"protocols",label:"Emergency Protocols",icon:""},{id:"activity",label:"Recent Activity",icon:""}];return c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-6 scrollbar-hide",children:n.map(i=>c.jsxs("button",{onClick:()=>t(i.id),onMouseEnter:s=>{e!==i.id&&s.currentTarget.classList.add("bg-gray-50")},onMouseLeave:s=>{e!==i.id&&s.currentTarget.classList.remove("bg-gray-50")},className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${e===i.id?"bg-red-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300"}`,children:[c.jsx("span",{children:i.icon}),c.jsx("span",{children:i.label})]},i.id))})}function Mk(){const e=Wn(),{bloodRequests:t,getStats:n}=ct(),i=n(),[s,a]=C.useState("overview"),[l,d]=C.useState(!1),h=[{id:1,icon:"",title:"New Blood Request",description:"Submit urgent or scheduled blood requirement",color:"red",action:"/blood-request-portal"},{id:2,icon:"",title:"Emergency Protocols",description:"Activate pre-configured emergency responses",color:"green",action:"/emergency-dashboard"},{id:3,icon:"",title:"View Donors",description:"Browse and contact matched donors",color:"orange",action:"/live-donor-map"}],m=t.sort((S,j)=>new Date(j.createdAt)-new Date(S.createdAt)).slice(0,10).map((S,j)=>({...S,requestId:`REQ-2026-${String(j+1).padStart(3,"0")}`,donorsMatched:Math.floor(Math.random()*10)+1,timeElapsed:g(S.createdAt)}));function g(S){if(!S)return"Just now";const j=new Date,E=new Date(S),O=j-E,b=Math.floor(O/6e4);if(b<1)return"Just now";if(b<60)return`${b} mins`;const y=Math.floor(b/60);return y<24?`${y} hours`:`${Math.floor(y/24)} days`}const _=()=>{e("/blood-request-portal")},w=()=>{d(!l),e("/critical-alerts")};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center justify-between mb-2 flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Hospital Management Center"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Institutional dashboard for emergency blood supply coordination"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:w,className:"relative px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-200 flex items-center gap-2 transform hover:scale-105 active:scale-95",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"hidden md:inline",children:"Notifications"}),c.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-600 rounded-full animate-pulse"})]}),c.jsxs("button",{onClick:_,onMouseEnter:S=>S.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105"),onMouseLeave:S=>S.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"hidden md:inline",children:"New Request"})]})]})]})}),c.jsx(Rk,{}),c.jsx(Ak,{stats:i}),c.jsx(Ik,{activeTab:s,setActiveTab:a}),s==="overview"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8 mt-6",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:h.map(S=>c.jsx(Ok,{action:S},S.id))})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-6",children:"Recent Requests"}),c.jsx("div",{className:"space-y-4",children:m.length>0?m.map(S=>c.jsx(up,{request:S},S.id)):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("p",{className:"text-gray-500 text-lg",children:"No recent requests"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new blood request to get started"})]})})]})]}),s==="requests"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Active Requests"}),c.jsx("div",{className:"space-y-4",children:m.filter(S=>S.status==="Pending").map(S=>c.jsx(up,{request:S},S.id))})]}),s==="donors"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Matched Donors"}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsx("p",{className:"text-gray-500 text-center",children:"Donor matching feature coming soon"})})]}),s==="protocols"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Emergency Protocols"}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsx("p",{className:"text-gray-500 text-center",children:"Emergency protocols feature coming soon"})})]}),s==="activity"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Activity"}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsx("p",{className:"text-gray-500 text-center",children:"Activity feed feature coming soon"})})]})]})})}function Dk(){const e=[{icon:"",color:"green",label:"Available Donor",description:"Ready to donate"},{icon:"",color:"yellow",label:"Busy Donor",description:"Currently engaged"},{icon:"",color:"gray",label:"Unavailable",description:"Not available now"},{icon:"",color:"red",label:"Your Location",description:"Current position"}];return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600",children:""})," Map Legend"]}),c.jsx("div",{className:"space-y-3",children:e.map((t,n)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${t.color==="green"?"bg-green-500":t.color==="yellow"?"bg-yellow-500":t.color==="gray"?"bg-gray-400":"bg-red-500"}`,children:c.jsx("span",{className:"text-white text-xs",children:t.icon})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.label}),c.jsx("p",{className:"text-xs text-gray-600",children:t.description})]})]},n))}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Real-time updates every 30 seconds"})]})})]})}function zk({selectedBloodType:e,searchRadius:t,onBloodTypeChange:n,onRadiusChange:i,onUseCurrentLocation:s,availableDonors:a}){const[l,d]=C.useState(!1),h=()=>{d(!0),setTimeout(()=>{d(!1),alert("Filters refreshed!")},500)},m=()=>{s()};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600",children:""})," Search Filters"]}),c.jsx("button",{onClick:h,disabled:l,onMouseEnter:g=>g.currentTarget.classList.add("bg-gray-100","rotate-180"),onMouseLeave:g=>{g.currentTarget.classList.remove("bg-gray-100"),l||g.currentTarget.classList.remove("rotate-180")},className:`p-2 hover:bg-gray-100 rounded transition-all duration-300 ${l?"animate-spin":""}`,children:c.jsx("span",{className:"text-lg",children:""})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Type"}),c.jsxs("select",{value:e,onChange:g=>n(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-200 hover:border-red-300",children:[c.jsx("option",{value:"All Types",children:"All Blood Types"}),c.jsx("option",{value:"A+",children:"A+"}),c.jsx("option",{value:"A-",children:"A-"}),c.jsx("option",{value:"B+",children:"B+"}),c.jsx("option",{value:"B-",children:"B-"}),c.jsx("option",{value:"AB+",children:"AB+"}),c.jsx("option",{value:"AB-",children:"AB-"}),c.jsx("option",{value:"O+",children:"O+"}),c.jsx("option",{value:"O-",children:"O-"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Radius"}),c.jsxs("select",{value:t,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-200 hover:border-red-300",children:[c.jsx("option",{value:"5",children:"5 km"}),c.jsx("option",{value:"10",children:"10 km"}),c.jsx("option",{value:"20",children:"20 km"}),c.jsx("option",{value:"50",children:"50 km"})]})]}),c.jsxs("button",{onClick:m,onMouseEnter:g=>{g.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105")},onMouseLeave:g=>{g.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105")},className:"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Use Current Location"})]}),c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("div",{children:c.jsxs("div",{className:"font-semibold text-gray-900",children:[a," Available Donors"]})})]})}),c.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-600",children:[c.jsx("span",{children:""}),c.jsx("p",{children:"Map shows real-time donor availability. Click on markers to view donor details and contact options."})]})]})]})}function Bk({stats:e={}}){const[t,n]=C.useState(null),i=[{label:"Available",value:e.availableDonors||6,icon:""},{label:"Busy",value:Math.floor((e.totalDonors||0)*.2)||2,icon:""},{label:"In Range",value:e.totalDonors||8,icon:""},{label:"Active Now",value:(e.availableDonors||0)+3||9,icon:""}];return c.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsx("div",{className:"flex flex-wrap gap-6",children:i.map((s,a)=>c.jsxs("div",{onMouseEnter:()=>n(a),onMouseLeave:()=>n(null),className:`flex items-center gap-2 transition-all duration-200 ${t===a?"scale-110":""}`,children:[c.jsx("span",{className:`text-2xl transition-transform duration-200 ${t===a?"scale-125 rotate-12":""}`,children:s.icon}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.value}),c.jsx("div",{className:"text-xs text-gray-600",children:s.label})]})]},a))}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Updated ",new Date().toLocaleTimeString()]})]}),c.jsxs("button",{onClick:()=>alert("Switching to list view..."),onMouseEnter:s=>s.currentTarget.classList.add("bg-gray-200","scale-105"),onMouseLeave:s=>s.currentTarget.classList.remove("bg-gray-200","scale-105"),className:"px-4 py-2 bg-gray-100 rounded text-sm hover:bg-gray-200 transition-all duration-200 flex items-center gap-2 transform hover:scale-105 active:scale-95",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"List View"})]})]})]})})}function Uk(){const e=Wn(),[t,n]=C.useState(null),i=[{icon:"",title:"Emergency Request",subtitle:"Create Emergency Request",color:"red",onClick:()=>e("/blood-request-portal")},{icon:"",title:"Find Donor",subtitle:"Search for a donor",color:"white",onClick:()=>e("/live-donor-map")},{icon:"",title:"Update Status",subtitle:"Change availability",color:"white",onClick:()=>alert("Update donor status feature coming soon!")},{icon:"",title:"View History",subtitle:"Check past requests",color:"white",onClick:()=>e("/hospital-management-center")}];return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map((s,a)=>c.jsxs("button",{onClick:s.onClick,onMouseEnter:()=>n(a),onMouseLeave:()=>n(null),className:`p-4 rounded-lg text-left transition-all duration-200 ${s.color==="red"?"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg":"bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400"} transform ${t===a?"scale-105 -translate-y-1":"scale-100"}`,children:[c.jsx("div",{className:`text-2xl mb-2 transition-transform duration-200 ${t===a?"scale-110 rotate-3":""}`,children:s.icon}),c.jsx("p",{className:"font-semibold text-sm",children:s.title}),c.jsx("p",{className:`text-xs ${s.color==="red"?"text-red-100":"text-gray-600"}`,children:s.subtitle})]},a))})]})}function $k({requests:e=[],donors:t=[]}){const n=[{icon:"",message:"Michael Rodriguez completed donation at City General Hospital",time:"2 minutes ago",color:"green"},{icon:"",message:"3 donors matched with emergency request for O- blood type",time:"8 minutes ago",color:"blue"},{icon:"",message:"New blood request created by Memorial Medical Center",time:"15 minutes ago",color:"red"}];return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Recent Activity"}),c.jsx("a",{href:"#",className:"text-red-600 text-sm hover:underline",children:"View All"})]}),c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.map((i,s)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i.color==="green"?"bg-green-100":i.color==="blue"?"bg-blue-100":"bg-red-100"}`,children:c.jsx("span",{className:"text-lg",children:i.icon})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-800",children:i.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.time})]})]},s))})]})}function Fk(){const{addEmergency:e}=ct(),[t,n]=C.useState(!1),[i,s]=C.useState(!1),a=async()=>{if(confirm("Send emergency notifications to all available donors in your area?")){s(!0);try{e({bloodType:"URGENT",location:"All Areas",urgency:"Critical",message:"Emergency blood request - All donors please respond"}),setTimeout(()=>{alert("Emergency request sent to all available donors!"),s(!1)},500)}catch(l){console.error("Error sending emergency request:",l),alert("Failed to send request. Please try again."),s(!1)}}};return c.jsx("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"bg-white rounded-lg shadow-md p-4 md:p-6 transition-all duration-300 hover:shadow-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 transition-transform duration-300 ${t?"scale-110 rotate-12":""}`,children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Emergency Blood Request"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Need blood urgently? Click here to send emergency notifications to all available donors in your area."})]}),c.jsxs("button",{onClick:a,disabled:i,onMouseEnter:l=>{i||l.currentTarget.classList.add("bg-red-700","shadow-lg","scale-105")},onMouseLeave:l=>{l.currentTarget.classList.remove("bg-red-700","shadow-lg","scale-105")},className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2 whitespace-nowrap transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[c.jsx("span",{className:`transition-transform duration-200 ${i?"animate-spin":""}`,children:""}),c.jsx("span",{children:i?"Sending...":"Emergency Request"})]})]})})}const Wk=[40.7128,-74.006];function Hk(){const{donors:e,bloodRequests:t,getStats:n}=ct(),i=n(),[s,a]=C.useState("All Types"),[l,d]=C.useState("10"),[h,m]=C.useState(null),[g,_]=C.useState(Wk),[w,S]=C.useState(null),j=C.useMemo(()=>e.filter(y=>!(s!=="All Types"&&y.bloodType!==s)),[e,s]),E=["All Types","A+","A-","B+","B-","AB+","AB-","O+","O-"],O=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{const x=[y.coords.latitude,y.coords.longitude];_(x)},y=>{console.error("Error getting location:",y),alert("Unable to get your location. Please enable location services.")}):alert("Geolocation is not supported by your browser.")},b=()=>{window.open("/live-donor-map","_blank")};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600",children:""})," Live Donor Map"]}),c.jsx("p",{className:"text-gray-600",children:"Real-time donor availability in your area"})]}),c.jsx(Bk,{stats:i}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsx(zk,{selectedBloodType:s,searchRadius:l,onBloodTypeChange:a,onRadiusChange:d,onUseCurrentLocation:O,availableDonors:j.length}),c.jsx(Dk,{})]}),c.jsxs("div",{className:"lg:col-span-2",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Live Donor Map"}),c.jsx("button",{onClick:b,onMouseEnter:y=>y.currentTarget.classList.add("bg-gray-200","scale-105"),onMouseLeave:y=>y.currentTarget.classList.remove("bg-gray-200","scale-105"),className:"px-3 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200 transition-all duration-200 transform hover:scale-105 active:scale-95",children:"Full View"})]}),c.jsxs(ov,{center:g,zoom:12,style:{height:"500px",width:"100%"},children:[c.jsx(lv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),j.slice(0,10).map((y,x)=>{const N=g[0]+(Math.random()-.5)*.1,I=g[1]+(Math.random()-.5)*.1;return c.jsx(av,{position:[N,I],eventHandlers:{click:()=>m({...y,position:[N,I]})},children:h&&h.id===y.id&&c.jsx(kk,{children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-semibold",children:h.name}),c.jsxs("p",{className:"text-sm",children:["Blood Type: ",h.bloodType]}),c.jsxs("p",{className:"text-sm",children:["Status: ",h.available?"Available":"Unavailable"]}),h.distance&&c.jsxs("p",{className:"text-sm",children:["Distance: ",h.distance]}),c.jsx("button",{onClick:()=>{alert(`Contacting ${h.name}...`),m(null)},className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors",children:"Contact"})]})})},y.id)})]}),c.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:E.map(y=>c.jsx("button",{onClick:()=>a(y),onMouseEnter:()=>S(y),onMouseLeave:()=>S(null),className:`px-3 py-1 rounded text-sm whitespace-nowrap transition-all duration-200 ${s===y?"bg-red-600 text-white shadow-md scale-105":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-red-300"} transform ${w===y&&s!==y?"scale-105":""}`,children:y},y))}),c.jsx("div",{className:"mt-4 flex flex-wrap gap-3 items-center",children:["O+","A+","B+","AB+","O-","A-"].map((y,x)=>c.jsxs("div",{className:"flex items-center gap-2 hover:bg-gray-50 px-2 py-1 rounded transition-colors duration-200 cursor-pointer",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),c.jsxs("span",{className:"text-sm text-gray-700",children:[y," (",(Math.random()*5+.5).toFixed(1)," km)"]})]},y))})]}),c.jsx(Fk,{})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsx(Uk,{}),c.jsx($k,{requests:t,donors:e})]})]})]})})}function wo({title:e,value:t,color:n="blue"}){const i={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",red:"bg-red-50 text-red-600"};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e}),c.jsx("p",{className:`text-3xl font-bold ${i[n]}`,children:t})]})}function qk({donors:e=[]}){const t=e.slice(0,10).map(n=>({id:n.id,name:n.name,email:n.email,role:"Donor",status:n.available?"Active":"Inactive"}));return t.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No users registered yet"})]}):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(n=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:n.name}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.email}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.role}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.status})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx(JS,{variant:"secondary",className:"text-xs px-2 py-1",children:"View"})})]},n.id))})]})})]})}function Zk({stats:e={}}){const t=[{label:"Requests",value:e.totalRequests||0,color:"bg-blue-500"},{label:"Fulfilled",value:e.fulfilledRequests||0,color:"bg-green-500"},{label:"Pending",value:e.activeRequests||0,color:"bg-yellow-500"}],n=Math.max(...t.map(i=>i.value),1);return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Metrics"}),c.jsx("div",{className:"space-y-4",children:t.map((i,s)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:i.label}),c.jsx("span",{className:"text-sm font-medium text-gray-800",children:i.value})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`${i.color} h-3 rounded-full transition-all duration-500`,style:{width:`${i.value/n*100}%`}})})]},s))}),c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),c.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[e.totalRequests>0?Math.round(e.fulfilledRequests/e.totalRequests*100):0,"%"]})]})})]})}function Vk(){return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Health"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"CPU Usage"}),c.jsx("span",{className:"text-sm font-medium",children:"45%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"45%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Memory Usage"}),c.jsx("span",{className:"text-sm font-medium",children:"62%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"62%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),c.jsx("span",{className:"text-sm font-medium",children:"78%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"78%"}})})]})]})]})}function Kk({emergencies:e=[]}){const t=e.filter(n=>n.urgency==="Critical"||n.urgency==="Urgent").slice(0,5).map(n=>({id:n.id,message:`Urgent ${n.bloodType} request at ${n.location}`,severity:n.urgency==="Critical"?"high":"medium",time:new Date(n.createdAt).toLocaleString()}));return t.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Alerts"}),c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No active alerts"})]}):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Alerts"}),c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:t.map(n=>c.jsxs("div",{className:`border-l-4 p-3 rounded ${n.severity==="high"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50"}`,children:[c.jsx("p",{className:"text-sm font-medium",children:n.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.time})]},n.id))})]})}function Gk(){const{donors:e,updateDonor:t}=ct(),[n,i]=C.useState(null),s=e.filter(d=>!d.verified).slice(0,5).map(d=>({id:d.id,name:d.name,type:"Donor",submitted:new Date(d.registeredAt).toLocaleDateString()})),a=async d=>{i(d),setTimeout(()=>{t(d,{verified:!0}),i(null),alert("Donor approved successfully!")},500)},l=d=>{const h=e.find(m=>m.id===d);alert(`Reviewing ${(h==null?void 0:h.name)||"donor"}...`)};return s.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verification Queue"}),c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No items in verification queue"})]}):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verification Queue"}),c.jsx("div",{className:"space-y-3",children:s.map(d=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-all duration-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:d.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:[d.type,"  ",d.submitted]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>a(d.id),disabled:n===d.id,onMouseEnter:h=>{n!==d.id&&h.currentTarget.classList.add("bg-green-700","scale-105")},onMouseLeave:h=>{h.currentTarget.classList.remove("bg-green-700","scale-105")},className:"text-sm px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 active:bg-green-800 transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n===d.id?"Processing...":"Approve"}),c.jsx("button",{onClick:()=>l(d.id),onMouseEnter:h=>h.currentTarget.classList.add("bg-gray-300","scale-105"),onMouseLeave:h=>h.currentTarget.classList.remove("bg-gray-300","scale-105"),className:"text-sm px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 active:bg-gray-400 transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:"Review"})]})]})},d.id))})]})}function Jk({requests:e=[]}){const t=e.slice(0,10).map(n=>({id:n.id,action:`Blood request created - ${n.bloodType}`,user:n.patientName||"Anonymous",time:new Date(n.createdAt).toLocaleString()}));return t.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Compliance Audit Log"}),c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No activity logs yet"})]}):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Compliance Audit Log"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(n=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:n.action}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.user}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.time})]},n.id))})]})})]})}function Qk(){const{getStats:e,bloodRequests:t,donors:n,emergencies:i}=ct(),s=e();return c.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-8",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8",children:"Admin Analytics Center"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8",children:[c.jsx(wo,{title:"Total Users",value:s.totalDonors.toString(),color:"blue"}),c.jsx(wo,{title:"Active Donors",value:s.availableDonors.toString(),color:"green"}),c.jsx(wo,{title:"Pending Requests",value:s.activeRequests.toString(),color:"yellow"}),c.jsx(wo,{title:"System Health",value:"98%",color:"green"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[c.jsx(Zk,{stats:s}),c.jsx(Vk,{})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[c.jsx(Kk,{emergencies:i}),c.jsx(Gk,{})]}),c.jsx("div",{className:"mb-6 md:mb-8",children:c.jsx(qk,{donors:n})}),c.jsx(Jk,{requests:t})]})})}function cp(){const{bloodRequests:e,updateBloodRequest:t}=ct(),n=e.sort((l,d)=>new Date(d.createdAt)-new Date(l.createdAt)).slice(0,10).map((l,d)=>({...l,requestId:`REQ-2026-${String(d+1).padStart(3,"0")}`,donorsMatched:Math.floor(Math.random()*10)+1,timeElapsed:i(l.createdAt)}));function i(l){if(!l)return"Just now";const d=new Date,h=new Date(l),m=d-h,g=Math.floor(m/6e4);if(g<1)return"Just now";if(g<60)return`${g} mins`;const _=Math.floor(g/60);return _<24?`${_} hours`:`${Math.floor(_/24)} days`}const s=l=>{const d=l.status==="Pending"?"In Progress":"Fulfilled";t(l.id,{status:d}),alert(`Request ${l.requestId} updated to ${d}`)},a=l=>{const d=`
Request ID: ${l.requestId}
Blood Type: ${l.bloodType}
Quantity: ${l.quantity} units
Patient: ${l.patientName||"Anonymous"}
Location: ${l.location}
Status: ${l.status}
Urgency: ${l.urgency||"Normal"}
Donors Matched: ${l.donorsMatched||0}
Time Elapsed: ${l.timeElapsed}
    `;alert(d.trim())};return c.jsx("div",{className:"min-h-screen bg-white",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-6 md:py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-red-600 text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"New Blood Request"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Submit urgent or scheduled blood requirement"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-green-600 text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"Emergency Protocols"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Activate pre-configured emergency responses"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600 text-2xl",children:""})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900",children:"View Donors"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Browse and contact matched donors"})]})]})})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Recent Requests"}),c.jsx("div",{className:"space-y-4",children:n.length>0?n.map(l=>c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[c.jsxs("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:["Request #",l.requestId]}),l.urgency==="critical"||l.urgency==="Critical"?c.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold uppercase animate-pulse",children:"Critical"}):null,l.donorsMatched>0?c.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:"matched"}):null]}),c.jsxs("p",{className:"text-gray-700 font-medium mb-4",children:[l.patientName?`${l.patientName} - `:"Emergency Surgery - ","Patient ID: P-",String(l.id).slice(-5)]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-red-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Blood Type"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l.bloodType})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Units Needed"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l.quantity})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Donors Matched"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l.donorsMatched||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-600 text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Time Elapsed"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l.timeElapsed||"Just now"})]})]})]}),c.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",l.location||"Trauma case - Multiple injuries requiring immediate transfusion"]})})]}),c.jsxs("div",{className:"flex flex-col gap-2 lg:min-w-[120px]",children:[c.jsxs("button",{onClick:()=>a(l),className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 hover:border-gray-400 transition-all duration-200 font-medium",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Details"})]}),c.jsxs("button",{onClick:()=>s(l),className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 active:scale-95 font-medium",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Update"})]})]})]})},l.id)):c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("p",{className:"text-gray-500 text-lg",children:"No recent requests"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new blood request to get started"})]})})]})]})})}function Yk(){return c.jsx(ox,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsx(qS,{children:c.jsx(WS,{children:c.jsxs(HS,{children:[c.jsx(ZS,{}),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(KS,{}),c.jsx("main",{children:c.jsxs(Xw,{children:[c.jsx(Rt,{path:"/",element:c.jsx(cp,{})}),c.jsx(Rt,{path:"/dashboard",element:c.jsx(cp,{})}),c.jsx(Rt,{path:"/blood-request-portal",element:c.jsx(ek,{})}),c.jsx(Rt,{path:"/donor-registration",element:c.jsx(lk,{})}),c.jsx(Rt,{path:"/emergency-dashboard",element:c.jsx(Nk,{})}),c.jsx(Rt,{path:"/critical-alerts",element:c.jsx(Lk,{})}),c.jsx(Rt,{path:"/hospital-management-center",element:c.jsx(Mk,{})}),c.jsx(Rt,{path:"/live-donor-map",element:c.jsx(Hk,{})}),c.jsx(Rt,{path:"/admin-analytics-center",element:c.jsx(Qk,{})}),c.jsx(Rt,{path:"*",element:c.jsx(GS,{})})]})})]})]})})})})}function Xk(){return c.jsx(Yk,{})}Kl.createRoot(document.getElementById("root")).render(c.jsx(ri.StrictMode,{children:c.jsx(Xk,{})}));
